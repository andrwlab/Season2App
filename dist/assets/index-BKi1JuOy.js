(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function wE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function PS(){if(z_)return Re;z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,$={};function j(O,ee,le){this.props=O,this.context=ee,this.refs=$,this.updater=le||P}j.prototype.isReactComponent={},j.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function X(){}X.prototype=j.prototype;function re(O,ee,le){this.props=O,this.context=ee,this.refs=$,this.updater=le||P}var te=re.prototype=new X;te.constructor=re,M(te,j.prototype),te.isPureReactComponent=!0;var se=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function D(O,ee,le,ie,ge,De){return le=De.ref,{$$typeof:r,type:O,key:ee,ref:le!==void 0?le:null,props:De}}function b(O,ee){return D(O.type,ee,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function N(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return ee[le]})}var V=/\/+/g;function U(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):ee.toString(36)}function C(){}function Vt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function st(O,ee,le,ie,ge){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Se=!1;if(O===null)Se=!0;else switch(De){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(O.$$typeof){case r:case e:Se=!0;break;case E:return Se=O._init,st(Se(O._payload),ee,le,ie,ge)}}if(Se)return ge=ge(O),Se=ie===""?"."+U(O,0):ie,se(ge)?(le="",Se!=null&&(le=Se.replace(V,"$&/")+"/"),st(ge,ee,le,"",function(Fn){return Fn})):ge!=null&&(R(ge)&&(ge=b(ge,le+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+Se)),ee.push(ge)),1;Se=0;var It=ie===""?".":ie+":";if(se(O))for(var We=0;We<O.length;We++)ie=O[We],De=It+U(ie,We),Se+=st(ie,ee,le,De,ge);else if(We=w(O),typeof We=="function")for(O=We.call(O),We=0;!(ie=O.next()).done;)ie=ie.value,De=It+U(ie,We++),Se+=st(ie,ee,le,De,ge);else if(De==="object"){if(typeof O.then=="function")return st(Vt(O),ee,le,ie,ge);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Q(O,ee,le){if(O==null)return O;var ie=[],ge=0;return st(O,ie,"","",function(De){return ee.call(le,De,ge++)}),ie}function oe(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Be(){}return Re.Children={map:Q,forEach:function(O,ee,le){Q(O,function(){ee.apply(this,arguments)},le)},count:function(O){var ee=0;return Q(O,function(){ee++}),ee},toArray:function(O){return Q(O,function(ee){return ee})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=j,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=a,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ue.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,ee,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=M({},O.props),ge=O.key,De=void 0;if(ee!=null)for(Se in ee.ref!==void 0&&(De=void 0),ee.key!==void 0&&(ge=""+ee.key),ee)!fe.call(ee,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ee.ref===void 0||(ie[Se]=ee[Se]);var Se=arguments.length-2;if(Se===1)ie.children=le;else if(1<Se){for(var It=Array(Se),We=0;We<Se;We++)It[We]=arguments[We+2];ie.children=It}return D(O.type,ge,void 0,void 0,De,ie)},Re.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,ee,le){var ie,ge={},De=null;if(ee!=null)for(ie in ee.key!==void 0&&(De=""+ee.key),ee)fe.call(ee,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=ee[ie]);var Se=arguments.length-2;if(Se===1)ge.children=le;else if(1<Se){for(var It=Array(Se),We=0;We<Se;We++)It[We]=arguments[We+2];ge.children=It}if(O&&O.defaultProps)for(ie in Se=O.defaultProps,Se)ge[ie]===void 0&&(ge[ie]=Se[ie]);return D(O,De,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:p,render:O}},Re.isValidElement=R,Re.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:oe}},Re.memo=function(O,ee){return{$$typeof:g,type:O,compare:ee===void 0?null:ee}},Re.startTransition=function(O){var ee=ue.T,le={};ue.T=le;try{var ie=O(),ge=ue.S;ge!==null&&ge(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Be,pe)}catch(De){pe(De)}finally{ue.T=ee}},Re.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Re.use=function(O){return ue.H.use(O)},Re.useActionState=function(O,ee,le){return ue.H.useActionState(O,ee,le)},Re.useCallback=function(O,ee){return ue.H.useCallback(O,ee)},Re.useContext=function(O){return ue.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,ee){return ue.H.useDeferredValue(O,ee)},Re.useEffect=function(O,ee,le){var ie=ue.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(O,ee)},Re.useId=function(){return ue.H.useId()},Re.useImperativeHandle=function(O,ee,le){return ue.H.useImperativeHandle(O,ee,le)},Re.useInsertionEffect=function(O,ee){return ue.H.useInsertionEffect(O,ee)},Re.useLayoutEffect=function(O,ee){return ue.H.useLayoutEffect(O,ee)},Re.useMemo=function(O,ee){return ue.H.useMemo(O,ee)},Re.useOptimistic=function(O,ee){return ue.H.useOptimistic(O,ee)},Re.useReducer=function(O,ee,le){return ue.H.useReducer(O,ee,le)},Re.useRef=function(O){return ue.H.useRef(O)},Re.useState=function(O){return ue.H.useState(O)},Re.useSyncExternalStore=function(O,ee,le){return ue.H.useSyncExternalStore(O,ee,le)},Re.useTransition=function(){return ue.H.useTransition()},Re.version="19.1.0",Re}var B_;function Im(){return B_||(B_=1,Pd.exports=PS()),Pd.exports}var G=Im();const L=wE(G);var kd={exports:{}},El={},Ud={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function kS(){return q_||(q_=1,function(r){function e(Q,oe){var pe=Q.length;Q.push(oe);e:for(;0<pe;){var Be=pe-1>>>1,O=Q[Be];if(0<o(O,oe))Q[Be]=oe,Q[pe]=O,pe=Be;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var oe=Q[0],pe=Q.pop();if(pe!==oe){Q[0]=pe;e:for(var Be=0,O=Q.length,ee=O>>>1;Be<ee;){var le=2*(Be+1)-1,ie=Q[le],ge=le+1,De=Q[ge];if(0>o(ie,pe))ge<O&&0>o(De,ie)?(Q[Be]=De,Q[ge]=pe,Be=ge):(Q[Be]=ie,Q[le]=pe,Be=le);else if(ge<O&&0>o(De,pe))Q[Be]=De,Q[ge]=pe,Be=ge;else break e}}return oe}function o(Q,oe){var pe=Q.sortIndex-oe.sortIndex;return pe!==0?pe:Q.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var m=[],g=[],E=1,S=null,w=3,P=!1,M=!1,$=!1,j=!1,X=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function se(Q){for(var oe=n(g);oe!==null;){if(oe.callback===null)a(g);else if(oe.startTime<=Q)a(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(g)}}function ue(Q){if($=!1,se(Q),!M)if(n(m)!==null)M=!0,fe||(fe=!0,U());else{var oe=n(g);oe!==null&&st(ue,oe.startTime-Q)}}var fe=!1,D=-1,b=5,R=-1;function N(){return j?!0:!(r.unstable_now()-R<b)}function V(){if(j=!1,fe){var Q=r.unstable_now();R=Q;var oe=!0;try{e:{M=!1,$&&($=!1,re(D),D=-1),P=!0;var pe=w;try{t:{for(se(Q),S=n(m);S!==null&&!(S.expirationTime>Q&&N());){var Be=S.callback;if(typeof Be=="function"){S.callback=null,w=S.priorityLevel;var O=Be(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof O=="function"){S.callback=O,se(Q),oe=!0;break t}S===n(m)&&a(m),se(Q)}else a(m);S=n(m)}if(S!==null)oe=!0;else{var ee=n(g);ee!==null&&st(ue,ee.startTime-Q),oe=!1}}break e}finally{S=null,w=pe,P=!1}oe=void 0}}finally{oe?U():fe=!1}}}var U;if(typeof te=="function")U=function(){te(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Vt=C.port2;C.port1.onmessage=V,U=function(){Vt.postMessage(null)}}else U=function(){X(V,0)};function st(Q,oe){D=X(function(){Q(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var pe=w;w=oe;try{return Q()}finally{w=pe}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=w;w=Q;try{return oe()}finally{w=pe}},r.unstable_scheduleCallback=function(Q,oe,pe){var Be=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Be+pe:Be):pe=Be,Q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pe+O,Q={id:E++,callback:oe,priorityLevel:Q,startTime:pe,expirationTime:O,sortIndex:-1},pe>Be?(Q.sortIndex=pe,e(g,Q),n(m)===null&&Q===n(g)&&($?(re(D),D=-1):$=!0,st(ue,pe-Be))):(Q.sortIndex=O,e(m,Q),M||P||(M=!0,fe||(fe=!0,U()))),Q},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Q){var oe=w;return function(){var pe=w;w=oe;try{return Q.apply(this,arguments)}finally{w=pe}}}}(Ld)),Ld}var H_;function US(){return H_||(H_=1,Ud.exports=kS()),Ud.exports}var zd={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function LS(){if(j_)return Kt;j_=1;var r=Im();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Kt.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,E)},Kt.flushSync=function(m){var g=f.T,E=a.p;try{if(f.T=null,a.p=2,m)return m()}finally{f.T=g,a.p=E,a.d.f()}},Kt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},Kt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Kt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,S=p(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:P}):E==="script"&&a.d.X(m,{crossOrigin:S,integrity:w,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},Kt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=p(E,g.crossOrigin);a.d.L(m,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kt.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=p(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},Kt.requestFormReset=function(m){a.d.r(m)},Kt.unstable_batchedUpdates=function(m,g){return m(g)},Kt.useFormState=function(m,g,E){return f.H.useFormState(m,g,E)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.1.0",Kt}var F_;function zS(){if(F_)return zd.exports;F_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zd.exports=LS(),zd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function BS(){if(G_)return El;G_=1;var r=US(),e=Im(),n=zS();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,l=d;break}if(T===l){v=!0,l=h,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,l=h;break}if(T===l){v=!0,l=d,s=h;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),te=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case j:return"Profiler";case $:return"StrictMode";case ue:return"Suspense";case fe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case te:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:Vt(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return Vt(t(i))}catch{}}return null}var st=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Be=[],O=-1;function ee(t){return{current:t}}function le(t){0>O||(t.current=Be[O],Be[O]=null,O--)}function ie(t,i){O++,Be[O]=t.current,t.current=i}var ge=ee(null),De=ee(null),Se=ee(null),It=ee(null);function We(t,i){switch(ie(Se,i),ie(De,t),ie(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?d_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=d_(i),t=m_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ge),ie(ge,t)}function Fn(){le(ge),le(De),le(Se)}function er(t){t.memoizedState!==null&&ie(It,t);var i=ge.current,s=m_(i,t.type);i!==s&&(ie(De,t),ie(ge,s))}function gi(t){De.current===t&&(le(ge),le(De)),It.current===t&&(le(It),pl._currentValue=pe)}var Xr=Object.prototype.hasOwnProperty,$r=r.unstable_scheduleCallback,Zr=r.unstable_cancelCallback,ho=r.unstable_shouldYield,Wl=r.unstable_requestPaint,_n=r.unstable_now,Vh=r.unstable_getCurrentPriorityLevel,fo=r.unstable_ImmediatePriority,Fa=r.unstable_UserBlockingPriority,Wr=r.unstable_NormalPriority,Ph=r.unstable_LowPriority,Ga=r.unstable_IdlePriority,mo=r.log,Jl=r.unstable_setDisableYieldValue,ot=null,Fe=null;function ln(t){if(typeof mo=="function"&&Jl(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ot,t)}catch{}}var Ft=Math.clz32?Math.clz32:Jr,eu=Math.log,kh=Math.LN2;function Jr(t){return t>>>=0,t===0?32:31-(eu(t)/kh|0)|0}var ea=256,ta=4194304;function xn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ka(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=xn(l):(v&=T,v!==0?h=xn(v):s||(s=T&~t,s!==0&&(h=xn(s))))):(T=l&~d,T!==0?h=xn(T):v!==0?h=xn(v):s||(s=l&~t,s!==0&&(h=xn(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function na(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function po(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function go(){var t=ea;return ea<<=1,(ea&4194048)===0&&(ea=256),t}function yo(){var t=ta;return ta<<=1,(ta&62914560)===0&&(ta=4194304),t}function yi(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function _i(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _o(t,i,s,l,h,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(s=v&~s;0<s;){var Y=31-Ft(s),W=1<<Y;T[Y]=0,I[Y]=-1;var H=q[Y];if(H!==null)for(q[Y]=null,Y=0;Y<H.length;Y++){var F=H[Y];F!==null&&(F.lane&=-536870913)}s&=~W}l!==0&&Gn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Gn(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function vo(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Ft(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nr(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:M_(t.type))}function tu(t,i){var s=oe.p;try{return oe.p=t,i()}finally{oe.p=s}}var et=Math.random().toString(36).slice(2),vt="__reactFiber$"+et,mt="__reactProps$"+et,vn="__reactContainer$"+et,Eo="__reactEvents$"+et,Uh="__reactListeners$"+et,ir="__reactHandles$"+et,nu="__reactResources$"+et,ia="__reactMarker$"+et;function rr(t){delete t[vt],delete t[mt],delete t[Eo],delete t[Uh],delete t[ir]}function vi(t){var i=t[vt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[vn]||s[vt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=__(t);t!==null;){if(s=t[vt])return s;t=__(t)}return i}t=s,s=t.parentNode}return null}function Kn(t){if(t=t[vt]||t[vn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Qn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Zt(t){var i=t[nu];return i||(i=t[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(t){t[ia]=!0}var To=new Set,Ya={};function Mn(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(Ya[t]=i,t=0;t<i.length;t++)To.add(i[t])}var iu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ru={},ra={};function au(t){return Xr.call(ra,t)?!0:Xr.call(ru,t)?!1:iu.test(t)?ra[t]=!0:(ru[t]=!0,!1)}function ar(t,i,s){if(au(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Yn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Pt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var aa,su;function Ti(t){if(aa===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);aa=i&&i[1]||"",su=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+t+su}var Xa=!1;function $a(t,i){if(!t||Xa)return"";Xa=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var H=F}Reflect.construct(t,[],W)}else{try{W.call()}catch(F){H=F}t.call(W.prototype)}}else{try{throw Error()}catch(F){H=F}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),q=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===q.length)for(l=I.length-1,h=q.length-1;1<=l&&0<=h&&I[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==q[h]){var Y=`
`+I[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Xa=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ti(s):""}function Ao(t){switch(t.tag){case 26:case 27:case 5:return Ti(t.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return $a(t.type,!1);case 11:return $a(t.type.render,!1);case 1:return $a(t.type,!0);case 31:return Ti("Activity");default:return""}}function Za(t){try{var i="";do i+=Ao(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function So(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lh(t){var i=So(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Wa(t){t._valueTracker||(t._valueTracker=Lh(t))}function bo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=So(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function sa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zh=/[\n"\\]/g;function pt(t){return t.replace(zh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function un(t,i,s,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Wt(i)):t.value!==""+Wt(i)&&(t.value=""+Wt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?sr(t,v,Wt(i)):s!=null?sr(t,v,Wt(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Wt(T):t.removeAttribute("name")}function oa(t,i,s,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+Wt(s):"",i=i!=null?""+Wt(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function sr(t,i,s){i==="number"&&sa(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ai(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Wt(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,s){if(i!=null&&(i=""+Wt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Wt(s):""}function la(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(st(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Wt(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function En(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ou(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||ua.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function wo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&ou(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ou(t,d,i[d])}function Ro(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(t){return qh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Si=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bi=null,wi=null;function Io(t){var i=Kn(t);if(i&&(t=i.stateNode)){var s=t[mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(un(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+pt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(a(90));un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&bo(l)}break e;case"textarea":Qe(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Ai(t,!!s.multiple,i,!1)}}}var Xn=!1;function lu(t,i,s){if(Xn)return t(i,s);Xn=!0;try{var l=t(i);return l}finally{if(Xn=!1,(bi!==null||wi!==null)&&(tc(),bi&&(i=bi,t=wi,wi=bi=null,Io(i),t)))for(i=0;i<t.length;i++)Io(t[i])}}function ca(t,i){var s=t.stateNode;if(s===null)return null;var l=s[mt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(Vn)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){An=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{An=!1}var $n=null,or=null,Ri=null;function Co(){if(Ri)return Ri;var t,i=or,s=i.length,l,h="value"in $n?$n.value:$n.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var v=s-t;for(l=1;l<=v&&i[s-l]===h[d-l];l++);return Ri=h.slice(t,1<l?1-l:void 0)}function Zn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function Do(){return!1}function Ct(t){function i(s,l,h,d,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:Do,this.isPropagationStopped=Do,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=Ct(He),fa=E({},He,{view:0,detail:0}),uu=Ct(fa),ts,ns,Jn,da=E({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(ts=t.screenX-Jn.screenX,ns=t.screenY-Jn.screenY):ns=ts=0,Jn=t),ts)},movementY:function(t){return"movementY"in t?t.movementY:ns}}),Sn=Ct(da),cu=E({},da,{dataTransfer:0}),Hh=Ct(cu),ma=E({},fa,{relatedTarget:0}),is=Ct(ma),No=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),rs=Ct(No),hu=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),as=Ct(hu),jh=E({},He,{data:0}),Oo=Ct(jh),pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=du[t])?!!i[t]:!1}function ga(){return xo}var mu=E({},fa,{key:function(t){if(t.key){var i=pa[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Zn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(t){return t.type==="keypress"?Zn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ss=Ct(mu),pu=E({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mo=Ct(pu),Ii=E({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga}),gu=Ct(Ii),yu=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=Ct(yu),vu=E({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),os=Ct(vu),Jt=E({},He,{newState:0,oldState:0}),Eu=Ct(Jt),Tu=[9,13,27,32],ei=Vn&&"CompositionEvent"in window,c=null;Vn&&"documentMode"in document&&(c=document.documentMode);var y=Vn&&"TextEvent"in window&&!c,_=Vn&&(!ei||c&&8<c&&11>=c),A=" ",z=!1;function K(t,i){switch(t){case"keyup":return Tu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function Et(t,i){switch(t){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(z=!0,A);case"textInput":return t=i.data,t===A&&z?null:t;default:return null}}function ke(t,i){if(Pe)return t==="compositionend"||!ei&&K(t,i)?(t=Co(),Ri=or=$n=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Dt[t.type]:i==="textarea"}function Ci(t,i,s,l){bi?wi?wi.push(l):wi=[l]:bi=l,i=oc(i,"onChange"),0<i.length&&(s=new es("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var kt=null,ti=null;function Vo(t){l_(t,0)}function Au(t){var i=Qn(t);if(bo(i))return t}function Dp(t,i){if(t==="change")return i}var Np=!1;if(Vn){var Fh;if(Vn){var Gh="oninput"in document;if(!Gh){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Gh=typeof Op.oninput=="function"}Fh=Gh}else Fh=!1;Np=Fh&&(!document.documentMode||9<document.documentMode)}function xp(){kt&&(kt.detachEvent("onpropertychange",Mp),ti=kt=null)}function Mp(t){if(t.propertyName==="value"&&Au(ti)){var i=[];Ci(i,ti,t,Tn(t)),lu(Vo,i)}}function hA(t,i,s){t==="focusin"?(xp(),kt=i,ti=s,kt.attachEvent("onpropertychange",Mp)):t==="focusout"&&xp()}function fA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(ti)}function dA(t,i){if(t==="click")return Au(i)}function mA(t,i){if(t==="input"||t==="change")return Au(i)}function pA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var cn=typeof Object.is=="function"?Object.is:pA;function Po(t,i){if(cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Xr.call(i,h)||!cn(t[h],i[h]))return!1}return!0}function Vp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pp(t,i){var s=Vp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Vp(s)}}function kp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?kp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=sa(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=sa(t.document)}return i}function Kh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var gA=Vn&&"documentMode"in document&&11>=document.documentMode,ls=null,Qh=null,ko=null,Yh=!1;function Lp(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yh||ls==null||ls!==sa(l)||(l=ls,"selectionStart"in l&&Kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ko&&Po(ko,l)||(ko=l,l=oc(Qh,"onSelect"),0<l.length&&(i=new es("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=ls)))}function ya(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var us={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},Xh={},zp={};Vn&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function _a(t){if(Xh[t])return Xh[t];if(!us[t])return t;var i=us[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in zp)return Xh[t]=i[s];return t}var Bp=_a("animationend"),qp=_a("animationiteration"),Hp=_a("animationstart"),yA=_a("transitionrun"),_A=_a("transitionstart"),vA=_a("transitioncancel"),jp=_a("transitionend"),Fp=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Pn(t,i){Fp.set(t,i),Mn(i,[t])}var Gp=new WeakMap;function bn(t,i){if(typeof t=="object"&&t!==null){var s=Gp.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Za(i)},Gp.set(t,i),i)}return{value:t,source:i,stack:Za(i)}}var wn=[],cs=0,Zh=0;function Su(){for(var t=cs,i=Zh=cs=0;i<t;){var s=wn[i];wn[i++]=null;var l=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Kp(s,h,d)}}function bu(t,i,s,l){wn[cs++]=t,wn[cs++]=i,wn[cs++]=s,wn[cs++]=l,Zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wh(t,i,s,l){return bu(t,i,s,l),wu(t)}function hs(t,i){return bu(t,null,null,i),wu(t)}function Kp(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Ft(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function wu(t){if(50<ol)throw ol=0,ad=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var fs={};function EA(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,i,s,l){return new EA(t,i,s,l)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,i){var s=t.alternate;return s===null?(s=hn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Qp(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ru(t,i,s,l,h,d){var v=0;if(l=t,typeof t=="function")Jh(t)&&(v=1);else if(typeof t=="string")v=AS(t,s,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=hn(31,s,i,h),t.elementType=R,t.lanes=d,t;case M:return va(s.children,h,d,i);case $:v=8,h|=24;break;case j:return t=hn(12,s,i,h|2),t.elementType=j,t.lanes=d,t;case ue:return t=hn(13,s,i,h),t.elementType=ue,t.lanes=d,t;case fe:return t=hn(19,s,i,h),t.elementType=fe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case te:v=10;break e;case re:v=9;break e;case se:v=11;break e;case D:v=14;break e;case b:v=16,l=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=hn(v,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function va(t,i,s,l){return t=hn(7,t,l,i),t.lanes=s,t}function ef(t,i,s){return t=hn(6,t,null,i),t.lanes=s,t}function tf(t,i,s){return i=hn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ds=[],ms=0,Iu=null,Cu=0,Rn=[],In=0,Ea=null,Ni=1,Oi="";function Ta(t,i){ds[ms++]=Cu,ds[ms++]=Iu,Iu=t,Cu=i}function Yp(t,i,s){Rn[In++]=Ni,Rn[In++]=Oi,Rn[In++]=Ea,Ea=t;var l=Ni;t=Oi;var h=32-Ft(l)-1;l&=~(1<<h),s+=1;var d=32-Ft(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ni=1<<32-Ft(i)+h|s<<h|l,Oi=d+t}else Ni=1<<d|s<<h|l,Oi=t}function nf(t){t.return!==null&&(Ta(t,1),Yp(t,1,0))}function rf(t){for(;t===Iu;)Iu=ds[--ms],ds[ms]=null,Cu=ds[--ms],ds[ms]=null;for(;t===Ea;)Ea=Rn[--In],Rn[In]=null,Oi=Rn[--In],Rn[In]=null,Ni=Rn[--In],Rn[In]=null}var en=null,lt=null,qe=!1,Aa=null,ni=!1,af=Error(a(519));function Sa(t){var i=Error(a(418,""));throw zo(bn(i,t)),af}function Xp(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[vt]=t,i[mt]=l,s){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(s=0;s<ul.length;s++)xe(ul[s],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),oa(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Wa(i);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),la(i,l.value,l.defaultValue,l.children),Wa(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||f_(i.textContent,s)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=lc),i=!0):i=!1,i||Sa(t)}function $p(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:en=en.return}}function Uo(t){if(t!==en)return!1;if(!qe)return $p(t),qe=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Td(t.type,t.memoizedProps)),s=!s),s&&lt&&Sa(t),$p(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){lt=Un(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}lt=null}}else i===27?(i=lt,Sr(t.type)?(t=wd,wd=null,lt=t):lt=i):lt=en?Un(t.stateNode.nextSibling):null;return!0}function Lo(){lt=en=null,qe=!1}function Zp(){var t=Aa;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),Aa=null),t}function zo(t){Aa===null?Aa=[t]:Aa.push(t)}var sf=ee(null),ba=null,xi=null;function lr(t,i,s){ie(sf,i._currentValue),i._currentValue=s}function Mi(t){t._currentValue=sf.current,le(sf)}function of(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function lf(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),of(d.return,s,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),of(v,s,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Bo(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=h.type;cn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===It.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(pl):t=[pl])}h=h.return}t!==null&&lf(i,t,s,l),i.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function wa(t){ba=t,xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Wp(ba,t)}function Nu(t,i){return ba===null&&wa(t),Wp(t,i)}function Wp(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},xi===null){if(t===null)throw Error(a(308));xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else xi=xi.next=i;return s}var TA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},AA=r.unstable_scheduleCallback,SA=r.unstable_NormalPriority,At={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new TA,data:new Map,refCount:0}}function qo(t){t.refCount--,t.refCount===0&&AA(SA,function(){t.controller.abort()})}var Ho=null,cf=0,ps=0,gs=null;function bA(t,i){if(Ho===null){var s=Ho=[];cf=0,ps=fd(),gs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return cf++,i.then(Jp,Jp),i}function Jp(){if(--cf===0&&Ho!==null){gs!==null&&(gs.status="fulfilled");var t=Ho;Ho=null,ps=0,gs=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function wA(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var eg=Q.S;Q.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&bA(t,i),eg!==null&&eg(t,i)};var Ra=ee(null);function hf(){var t=Ra.current;return t!==null?t:Je.pooledCache}function Ou(t,i){i===null?ie(Ra,Ra.current):ie(Ra,i.pool)}function tg(){var t=hf();return t===null?null:{parent:At._currentValue,pool:t}}var jo=Error(a(460)),ng=Error(a(474)),xu=Error(a(542)),ff={then:function(){}};function ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mu(){}function rg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Mu,Mu),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,sg(t),t;default:if(typeof i.status=="string")i.then(Mu,Mu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,sg(t),t}throw Fo=i,jo}}var Fo=null;function ag(){if(Fo===null)throw Error(a(459));var t=Fo;return Fo=null,t}function sg(t){if(t===jo||t===xu)throw Error(a(483))}var ur=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hr(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=wu(t),Kp(t,null,s),i}return bu(t,l,i,s),wu(t)}function Go(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,vo(t,s)}}function pf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var gf=!1;function Ko(){if(gf){var t=gs;if(t!==null)throw t}}function Qo(t,i,s,l){gf=!1;var h=t.updateQueue;ur=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,q=I.next;I.next=null,v===null?d=q:v.next=q,v=I;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=q:T.next=q,Y.lastBaseUpdate=I))}if(d!==null){var W=h.baseState;v=0,Y=q=I=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Ue&H)===H:(l&H)===H){H!==0&&H===ps&&(gf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=t,_e=T;H=i;var $e=s;switch(_e.tag){case 1:if(Ee=_e.payload,typeof Ee=="function"){W=Ee.call($e,W,H);break e}W=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=_e.payload,H=typeof Ee=="function"?Ee.call($e,W,H):Ee,H==null)break e;W=E({},W,H);break e;case 2:ur=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(q=Y=F,I=W):Y=Y.next=F,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(I=W),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),vr|=v,t.lanes=v,t.memoizedState=W}}function og(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function lg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)og(s[t],i)}var ys=ee(null),Vu=ee(0);function ug(t,i){t=Bi,ie(Vu,t),ie(ys,i),Bi=t|i.baseLanes}function yf(){ie(Vu,Bi),ie(ys,ys.current)}function _f(){Bi=Vu.current,le(ys),le(Vu)}var fr=0,Ie=null,Ye=null,gt=null,Pu=!1,_s=!1,Ia=!1,ku=0,Yo=0,vs=null,RA=0;function ht(){throw Error(a(321))}function vf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!cn(t[s],i[s]))return!1;return!0}function Ef(t,i,s,l,h,d){return fr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?Kg:Qg,Ia=!1,d=s(l,h),Ia=!1,_s&&(d=hg(i,s,l,h)),cg(t),d}function cg(t){Q.H=Hu;var i=Ye!==null&&Ye.next!==null;if(fr=0,gt=Ye=Ie=null,Pu=!1,Yo=0,vs=null,i)throw Error(a(300));t===null||Nt||(t=t.dependencies,t!==null&&Du(t)&&(Nt=!0))}function hg(t,i,s,l){Ie=t;var h=0;do{if(_s&&(vs=null),Yo=0,_s=!1,25<=h)throw Error(a(301));if(h+=1,gt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=MA,d=i(s,l)}while(_s);return d}function IA(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?Xo(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Tf(){var t=ku!==0;return ku=0,t}function Af(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Sf(t){if(Pu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Pu=!1}fr=0,gt=Ye=Ie=null,_s=!1,Yo=ku=0,vs=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ie.memoizedState=gt=t:gt=gt.next=t,gt}function yt(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=gt===null?Ie.memoizedState:gt.next;if(i!==null)gt=i,Ye=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},gt===null?Ie.memoizedState=gt=t:gt=gt.next=t}return gt}function bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(t){var i=Yo;return Yo+=1,vs===null&&(vs=[]),t=rg(vs,t,i),i=Ie,(gt===null?i.memoizedState:gt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Kg:Qg),t}function Uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xo(t);if(t.$$typeof===te)return Gt(t)}throw Error(a(438,String(t)))}function wf(t){var i=null,s=Ie.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=bf(),Ie.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=N;return i.index++,s}function Vi(t,i){return typeof i=="function"?i(t):i}function Lu(t){var i=yt();return Rf(i,Ye,t)}function Rf(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,q=i,Y=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(Ue&W)===W:(fr&W)===W){var H=q.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===ps&&(Y=!0);else if((fr&H)===H){q=q.next,H===ps&&(Y=!0);continue}else W={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=W,v=d):I=I.next=W,Ie.lanes|=H,vr|=H;W=q.action,Ia&&s(d,W),d=q.hasEagerState?q.eagerState:s(d,W)}else H={lane:W,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=H,v=d):I=I.next=H,Ie.lanes|=W,vr|=W;q=q.next}while(q!==null&&q!==i);if(I===null?v=d:I.next=T,!cn(d,t.memoizedState)&&(Nt=!0,Y&&(s=gs,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function If(t){var i=yt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);cn(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function fg(t,i,s){var l=Ie,h=yt(),d=qe;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!cn((Ye||h).memoizedState,s);v&&(h.memoizedState=s,Nt=!0),h=h.queue;var T=pg.bind(null,l,h,t);if($o(2048,8,T,[t]),h.getSnapshot!==i||v||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Es(9,zu(),mg.bind(null,l,h,s,i),null),Je===null)throw Error(a(349));d||(fr&124)!==0||dg(l,i,s)}return s}function dg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ie.updateQueue,i===null?(i=bf(),Ie.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function mg(t,i,s,l){i.value=s,i.getSnapshot=l,gg(i)&&yg(t)}function pg(t,i,s){return s(function(){gg(i)&&yg(t)})}function gg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!cn(t,s)}catch{return!0}}function yg(t){var i=hs(t,2);i!==null&&gn(i,t,2)}function Cf(t){var i=tn();if(typeof t=="function"){var s=t;if(t=s(),Ia){ln(!0);try{s()}finally{ln(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},i}function _g(t,i,s,l){return t.baseState=s,Rf(t,Ye,typeof l=="function"?l:Vi)}function CA(t,i,s,l,h){if(qu(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,vg(i,d)):(d.next=s.next,i.pending=s.next=d)}}function vg(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,v={};Q.T=v;try{var T=s(h,l),I=Q.S;I!==null&&I(v,T),Eg(t,i,T)}catch(q){Df(t,i,q)}finally{Q.T=d}}else try{d=s(h,l),Eg(t,i,d)}catch(q){Df(t,i,q)}}function Eg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Tg(t,i,l)},function(l){return Df(t,i,l)}):Tg(t,i,s)}function Tg(t,i,s){i.status="fulfilled",i.value=s,Ag(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,vg(t,s)))}function Df(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Ag(i),i=i.next;while(i!==l)}t.action=null}function Ag(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Sg(t,i){return i}function bg(t,i){if(qe){var s=Je.formState;if(s!==null){e:{var l=Ie;if(qe){if(lt){t:{for(var h=lt,d=ni;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=Un(h.nextSibling),l=h.data==="F!";break e}}Sa(l)}l=!1}l&&(i=s[0])}}return s=tn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:i},s.queue=l,s=jg.bind(null,Ie,l),l.dispatch=s,l=Cf(!1),d=Vf.bind(null,Ie,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=CA.bind(null,Ie,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function wg(t){var i=yt();return Rg(i,Ye,t)}function Rg(t,i,s){if(i=Rf(t,i,Sg)[0],t=Lu(Vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Xo(i)}catch(v){throw v===jo?xu:v}else l=i;i=yt();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(Ie.flags|=2048,Es(9,zu(),DA.bind(null,h,s),null)),[l,d,t]}function DA(t,i){t.action=i}function Ig(t){var i=yt(),s=Ye;if(s!==null)return Rg(i,s,t);yt(),i=i.memoizedState,s=yt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Es(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=bf(),Ie.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function zu(){return{destroy:void 0,resource:void 0}}function Cg(){return yt().memoizedState}function Bu(t,i,s,l){var h=tn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Es(1|i,zu(),s,l)}function $o(t,i,s,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&vf(l,Ye.memoizedState.deps)?h.memoizedState=Es(i,d,s,l):(Ie.flags|=t,h.memoizedState=Es(1|i,d,s,l))}function Dg(t,i){Bu(8390656,8,t,i)}function Ng(t,i){$o(2048,8,t,i)}function Og(t,i){return $o(4,2,t,i)}function xg(t,i){return $o(4,4,t,i)}function Mg(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Vg(t,i,s){s=s!=null?s.concat([t]):null,$o(4,4,Mg.bind(null,i,t),s)}function Nf(){}function Pg(t,i){var s=yt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&vf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function kg(t,i){var s=yt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&vf(i,l[1]))return l[0];if(l=t(),Ia){ln(!0);try{t()}finally{ln(!1)}}return s.memoizedState=[l,i],l}function Of(t,i,s){return s===void 0||(fr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=zy(),Ie.lanes|=t,vr|=t,s)}function Ug(t,i,s,l){return cn(s,i)?s:ys.current!==null?(t=Of(t,s,l),cn(t,i)||(Nt=!0),t):(fr&42)===0?(Nt=!0,t.memoizedState=s):(t=zy(),Ie.lanes|=t,vr|=t,i)}function Lg(t,i,s,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=Q.T,T={};Q.T=T,Vf(t,!1,i,s);try{var I=h(),q=Q.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=wA(I,l);Zo(t,i,Y,pn(t))}else Zo(t,i,l,pn(t))}catch(W){Zo(t,i,{then:function(){},status:"rejected",reason:W},pn())}finally{oe.p=d,Q.T=v}}function NA(){}function xf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=zg(t).queue;Lg(t,h,i,pe,s===null?NA:function(){return Bg(t),s(l)})}function zg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:pe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Bg(t){var i=zg(t).next.queue;Zo(t,i,{},pn())}function Mf(){return Gt(pl)}function qg(){return yt().memoizedState}function Hg(){return yt().memoizedState}function OA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=pn();t=cr(s);var l=hr(i,t,s);l!==null&&(gn(l,i,s),Go(l,i,s)),i={cache:uf()},t.payload=i;return}i=i.return}}function xA(t,i,s){var l=pn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},qu(t)?Fg(i,s):(s=Wh(t,i,s,l),s!==null&&(gn(s,t,l),Gg(s,i,l)))}function jg(t,i,s){var l=pn();Zo(t,i,s,l)}function Zo(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(qu(t))Fg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,s);if(h.hasEagerState=!0,h.eagerState=T,cn(T,v))return bu(t,i,h,0),Je===null&&Su(),!1}catch{}finally{}if(s=Wh(t,i,h,l),s!==null)return gn(s,t,l),Gg(s,i,l),!0}return!1}function Vf(t,i,s,l){if(l={lane:2,revertLane:fd(),action:l,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(i)throw Error(a(479))}else i=Wh(t,s,l,2),i!==null&&gn(i,t,2)}function qu(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Fg(t,i){_s=Pu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Gg(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,vo(t,s)}}var Hu={readContext:Gt,use:Uu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},Kg={readContext:Gt,use:Uu,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Dg,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Bu(4194308,4,Mg.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Bu(4194308,4,t,i)},useInsertionEffect:function(t,i){Bu(4,2,t,i)},useMemo:function(t,i){var s=tn();i=i===void 0?null:i;var l=t();if(Ia){ln(!0);try{t()}finally{ln(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=tn();if(s!==void 0){var h=s(i);if(Ia){ln(!0);try{s(i)}finally{ln(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=xA.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=Cf(t);var i=t.queue,s=jg.bind(null,Ie,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Nf,useDeferredValue:function(t,i){var s=tn();return Of(s,t,i)},useTransition:function(){var t=Cf(!1);return t=Lg.bind(null,Ie,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ie,h=tn();if(qe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Je===null)throw Error(a(349));(Ue&124)!==0||dg(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Dg(pg.bind(null,l,d,t),[t]),l.flags|=2048,Es(9,zu(),mg.bind(null,l,d,s,i),null),s},useId:function(){var t=tn(),i=Je.identifierPrefix;if(qe){var s=Oi,l=Ni;s=(l&~(1<<32-Ft(l)-1)).toString(32)+s,i=""+i+"R"+s,s=ku++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=RA++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Mf,useFormState:bg,useActionState:bg,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Vf.bind(null,Ie,!0,s),s.dispatch=i,[t,i]},useMemoCache:wf,useCacheRefresh:function(){return tn().memoizedState=OA.bind(null,Ie)}},Qg={readContext:Gt,use:Uu,useCallback:Pg,useContext:Gt,useEffect:Ng,useImperativeHandle:Vg,useInsertionEffect:Og,useLayoutEffect:xg,useMemo:kg,useReducer:Lu,useRef:Cg,useState:function(){return Lu(Vi)},useDebugValue:Nf,useDeferredValue:function(t,i){var s=yt();return Ug(s,Ye.memoizedState,t,i)},useTransition:function(){var t=Lu(Vi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Xo(t),i]},useSyncExternalStore:fg,useId:qg,useHostTransitionStatus:Mf,useFormState:wg,useActionState:wg,useOptimistic:function(t,i){var s=yt();return _g(s,Ye,t,i)},useMemoCache:wf,useCacheRefresh:Hg},MA={readContext:Gt,use:Uu,useCallback:Pg,useContext:Gt,useEffect:Ng,useImperativeHandle:Vg,useInsertionEffect:Og,useLayoutEffect:xg,useMemo:kg,useReducer:If,useRef:Cg,useState:function(){return If(Vi)},useDebugValue:Nf,useDeferredValue:function(t,i){var s=yt();return Ye===null?Of(s,t,i):Ug(s,Ye.memoizedState,t,i)},useTransition:function(){var t=If(Vi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Xo(t),i]},useSyncExternalStore:fg,useId:qg,useHostTransitionStatus:Mf,useFormState:Ig,useActionState:Ig,useOptimistic:function(t,i){var s=yt();return Ye!==null?_g(s,Ye,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Hg},Ts=null,Wo=0;function ju(t){var i=Wo;return Wo+=1,Ts===null&&(Ts=[]),rg(Ts,t,i)}function Jo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Fu(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Yg(t){var i=t._init;return i(t._payload)}function Xg(t){function i(k,x){if(t){var B=k.deletions;B===null?(k.deletions=[x],k.flags|=16):B.push(x)}}function s(k,x){if(!t)return null;for(;x!==null;)i(k,x),x=x.sibling;return null}function l(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=Di(k,x),k.index=0,k.sibling=null,k}function d(k,x,B){return k.index=B,t?(B=k.alternate,B!==null?(B=B.index,B<x?(k.flags|=67108866,x):B):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,x,B,Z){return x===null||x.tag!==6?(x=ef(B,k.mode,Z),x.return=k,x):(x=h(x,B),x.return=k,x)}function I(k,x,B,Z){var he=B.type;return he===M?Y(k,x,B.props.children,Z,B.key):x!==null&&(x.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===b&&Yg(he)===x.type)?(x=h(x,B.props),Jo(x,B),x.return=k,x):(x=Ru(B.type,B.key,B.props,null,k.mode,Z),Jo(x,B),x.return=k,x)}function q(k,x,B,Z){return x===null||x.tag!==4||x.stateNode.containerInfo!==B.containerInfo||x.stateNode.implementation!==B.implementation?(x=tf(B,k.mode,Z),x.return=k,x):(x=h(x,B.children||[]),x.return=k,x)}function Y(k,x,B,Z,he){return x===null||x.tag!==7?(x=va(B,k.mode,Z,he),x.return=k,x):(x=h(x,B),x.return=k,x)}function W(k,x,B){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=ef(""+x,k.mode,B),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case w:return B=Ru(x.type,x.key,x.props,null,k.mode,B),Jo(B,x),B.return=k,B;case P:return x=tf(x,k.mode,B),x.return=k,x;case b:var Z=x._init;return x=Z(x._payload),W(k,x,B)}if(st(x)||U(x))return x=va(x,k.mode,B,null),x.return=k,x;if(typeof x.then=="function")return W(k,ju(x),B);if(x.$$typeof===te)return W(k,Nu(k,x),B);Fu(k,x)}return null}function H(k,x,B,Z){var he=x!==null?x.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return he!==null?null:T(k,x,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return B.key===he?I(k,x,B,Z):null;case P:return B.key===he?q(k,x,B,Z):null;case b:return he=B._init,B=he(B._payload),H(k,x,B,Z)}if(st(B)||U(B))return he!==null?null:Y(k,x,B,Z,null);if(typeof B.then=="function")return H(k,x,ju(B),Z);if(B.$$typeof===te)return H(k,x,Nu(k,B),Z);Fu(k,B)}return null}function F(k,x,B,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(B)||null,T(x,k,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return k=k.get(Z.key===null?B:Z.key)||null,I(x,k,Z,he);case P:return k=k.get(Z.key===null?B:Z.key)||null,q(x,k,Z,he);case b:var Ne=Z._init;return Z=Ne(Z._payload),F(k,x,B,Z,he)}if(st(Z)||U(Z))return k=k.get(B)||null,Y(x,k,Z,he,null);if(typeof Z.then=="function")return F(k,x,B,ju(Z),he);if(Z.$$typeof===te)return F(k,x,B,Nu(x,Z),he);Fu(x,Z)}return null}function Ee(k,x,B,Z){for(var he=null,Ne=null,de=x,ve=x=0,xt=null;de!==null&&ve<B.length;ve++){de.index>ve?(xt=de,de=null):xt=de.sibling;var ze=H(k,de,B[ve],Z);if(ze===null){de===null&&(de=xt);break}t&&de&&ze.alternate===null&&i(k,de),x=d(ze,x,ve),Ne===null?he=ze:Ne.sibling=ze,Ne=ze,de=xt}if(ve===B.length)return s(k,de),qe&&Ta(k,ve),he;if(de===null){for(;ve<B.length;ve++)de=W(k,B[ve],Z),de!==null&&(x=d(de,x,ve),Ne===null?he=de:Ne.sibling=de,Ne=de);return qe&&Ta(k,ve),he}for(de=l(de);ve<B.length;ve++)xt=F(de,k,ve,B[ve],Z),xt!==null&&(t&&xt.alternate!==null&&de.delete(xt.key===null?ve:xt.key),x=d(xt,x,ve),Ne===null?he=xt:Ne.sibling=xt,Ne=xt);return t&&de.forEach(function(Cr){return i(k,Cr)}),qe&&Ta(k,ve),he}function _e(k,x,B,Z){if(B==null)throw Error(a(151));for(var he=null,Ne=null,de=x,ve=x=0,xt=null,ze=B.next();de!==null&&!ze.done;ve++,ze=B.next()){de.index>ve?(xt=de,de=null):xt=de.sibling;var Cr=H(k,de,ze.value,Z);if(Cr===null){de===null&&(de=xt);break}t&&de&&Cr.alternate===null&&i(k,de),x=d(Cr,x,ve),Ne===null?he=Cr:Ne.sibling=Cr,Ne=Cr,de=xt}if(ze.done)return s(k,de),qe&&Ta(k,ve),he;if(de===null){for(;!ze.done;ve++,ze=B.next())ze=W(k,ze.value,Z),ze!==null&&(x=d(ze,x,ve),Ne===null?he=ze:Ne.sibling=ze,Ne=ze);return qe&&Ta(k,ve),he}for(de=l(de);!ze.done;ve++,ze=B.next())ze=F(de,k,ve,ze.value,Z),ze!==null&&(t&&ze.alternate!==null&&de.delete(ze.key===null?ve:ze.key),x=d(ze,x,ve),Ne===null?he=ze:Ne.sibling=ze,Ne=ze);return t&&de.forEach(function(VS){return i(k,VS)}),qe&&Ta(k,ve),he}function $e(k,x,B,Z){if(typeof B=="object"&&B!==null&&B.type===M&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case w:e:{for(var he=B.key;x!==null;){if(x.key===he){if(he=B.type,he===M){if(x.tag===7){s(k,x.sibling),Z=h(x,B.props.children),Z.return=k,k=Z;break e}}else if(x.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===b&&Yg(he)===x.type){s(k,x.sibling),Z=h(x,B.props),Jo(Z,B),Z.return=k,k=Z;break e}s(k,x);break}else i(k,x);x=x.sibling}B.type===M?(Z=va(B.props.children,k.mode,Z,B.key),Z.return=k,k=Z):(Z=Ru(B.type,B.key,B.props,null,k.mode,Z),Jo(Z,B),Z.return=k,k=Z)}return v(k);case P:e:{for(he=B.key;x!==null;){if(x.key===he)if(x.tag===4&&x.stateNode.containerInfo===B.containerInfo&&x.stateNode.implementation===B.implementation){s(k,x.sibling),Z=h(x,B.children||[]),Z.return=k,k=Z;break e}else{s(k,x);break}else i(k,x);x=x.sibling}Z=tf(B,k.mode,Z),Z.return=k,k=Z}return v(k);case b:return he=B._init,B=he(B._payload),$e(k,x,B,Z)}if(st(B))return Ee(k,x,B,Z);if(U(B)){if(he=U(B),typeof he!="function")throw Error(a(150));return B=he.call(B),_e(k,x,B,Z)}if(typeof B.then=="function")return $e(k,x,ju(B),Z);if(B.$$typeof===te)return $e(k,x,Nu(k,B),Z);Fu(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,x!==null&&x.tag===6?(s(k,x.sibling),Z=h(x,B),Z.return=k,k=Z):(s(k,x),Z=ef(B,k.mode,Z),Z.return=k,k=Z),v(k)):s(k,x)}return function(k,x,B,Z){try{Wo=0;var he=$e(k,x,B,Z);return Ts=null,he}catch(de){if(de===jo||de===xu)throw de;var Ne=hn(29,de,null,k.mode);return Ne.lanes=Z,Ne.return=k,Ne}finally{}}}var As=Xg(!0),$g=Xg(!1),Cn=ee(null),ii=null;function dr(t){var i=t.alternate;ie(St,St.current&1),ie(Cn,t),ii===null&&(i===null||ys.current!==null||i.memoizedState!==null)&&(ii=t)}function Zg(t){if(t.tag===22){if(ie(St,St.current),ie(Cn,t),ii===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ii=t)}}else mr()}function mr(){ie(St,St.current),ie(Cn,Cn.current)}function Pi(t){le(Cn),ii===t&&(ii=null),le(St)}var St=ee(0);function Gu(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||bd(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Pf(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:E({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var kf={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=pn(),h=cr(l);h.payload=i,s!=null&&(h.callback=s),i=hr(t,h,l),i!==null&&(gn(i,t,l),Go(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=pn(),h=cr(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=hr(t,h,l),i!==null&&(gn(i,t,l),Go(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=pn(),l=cr(s);l.tag=2,i!=null&&(l.callback=i),i=hr(t,l,s),i!==null&&(gn(i,t,s),Go(i,t,s))}};function Wg(t,i,s,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Po(s,l)||!Po(h,d):!0}function Jg(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&kf.enqueueReplaceState(i,i.state,null)}function Ca(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ey(t){Ku(t)}function ty(t){console.error(t)}function ny(t){Ku(t)}function Qu(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function iy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(t,i,s){return s=cr(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(t,i)},s}function ry(t){return t=cr(t),t.tag=3,t}function ay(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){iy(i,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){iy(i,s,l),typeof h!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function VA(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Bo(i,s,h,!0),s=Cn.current,s!==null){switch(s.tag){case 13:return ii===null?od():s.alternate===null&&ut===0&&(ut=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===ff?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),ud(t,l,h)),!1;case 22:return s.flags|=65536,l===ff?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),ud(t,l,h)),!1}throw Error(a(435,s.tag))}return ud(t,l,h),od(),!1}if(qe)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==af&&(t=Error(a(422),{cause:l}),zo(bn(t,s)))):(l!==af&&(i=Error(a(423),{cause:l}),zo(bn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=bn(l,s),h=Uf(t.stateNode,l,h),pf(t,h),ut!==4&&(ut=2)),!1;var d=Error(a(520),{cause:l});if(d=bn(d,s),sl===null?sl=[d]:sl.push(d),ut!==4&&(ut=2),i===null)return!0;l=bn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Uf(s.stateNode,l,t),pf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Er===null||!Er.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ry(h),ay(h,t,s,l),pf(s,h),!1}s=s.return}while(s!==null);return!1}var sy=Error(a(461)),Nt=!1;function Ut(t,i,s,l){i.child=t===null?$g(i,null,s,l):As(i,t.child,s,l)}function oy(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return wa(i),l=Ef(t,i,s,v,d,h),T=Tf(),t!==null&&!Nt?(Af(t,i,h),ki(t,i,h)):(qe&&T&&nf(i),i.flags|=1,Ut(t,i,l,h),i.child)}function ly(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Jh(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,uy(t,i,d,l,h)):(t=Ru(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Gf(t,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Po,s(v,l)&&t.ref===i.ref)return ki(t,i,h)}return i.flags|=1,t=Di(d,l),t.ref=i.ref,t.return=i,i.child=t}function uy(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(Po(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,Gf(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,ki(t,i,h)}return Lf(t,i,s,l,h)}function cy(t,i,s){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return hy(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(i,d!==null?d.cachePool:null),d!==null?ug(i,d):yf(),Zg(i);else return i.lanes=i.childLanes=536870912,hy(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(Ou(i,d.cachePool),ug(i,d),mr(),i.memoizedState=null):(t!==null&&Ou(i,null),yf(),mr());return Ut(t,i,h,s),i.child}function hy(t,i,s,l){var h=hf();return h=h===null?null:{parent:At._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&Ou(i,null),yf(),Zg(i),t!==null&&Bo(t,i,l,!0),null}function Yu(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Lf(t,i,s,l,h){return wa(i),s=Ef(t,i,s,l,void 0,h),l=Tf(),t!==null&&!Nt?(Af(t,i,h),ki(t,i,h)):(qe&&l&&nf(i),i.flags|=1,Ut(t,i,s,h),i.child)}function fy(t,i,s,l,h,d){return wa(i),i.updateQueue=null,s=hg(i,l,s,h),cg(t),l=Tf(),t!==null&&!Nt?(Af(t,i,d),ki(t,i,d)):(qe&&l&&nf(i),i.flags|=1,Ut(t,i,s,d),i.child)}function dy(t,i,s,l,h){if(wa(i),i.stateNode===null){var d=fs,v=s.contextType;typeof v=="object"&&v!==null&&(d=Gt(v)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},df(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?Gt(v):fs,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Pf(i,s,v,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&kf.enqueueReplaceState(d,d.state,null),Qo(i,l,d,h),Ko(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=Ca(s,T);d.props=I;var q=d.context,Y=s.contextType;v=fs,typeof Y=="object"&&Y!==null&&(v=Gt(Y));var W=s.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&Jg(i,d,l,v),ur=!1;var H=i.memoizedState;d.state=H,Qo(i,l,d,h),Ko(),q=i.memoizedState,T||H!==q||ur?(typeof W=="function"&&(Pf(i,s,W,l),q=i.memoizedState),(I=ur||Wg(i,s,I,l,H,q,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,mf(t,i),v=i.memoizedProps,Y=Ca(s,v),d.props=Y,W=i.pendingProps,H=d.context,q=s.contextType,I=fs,typeof q=="object"&&q!==null&&(I=Gt(q)),T=s.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||H!==I)&&Jg(i,d,l,I),ur=!1,H=i.memoizedState,d.state=H,Qo(i,l,d,h),Ko();var F=i.memoizedState;v!==W||H!==F||ur||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof T=="function"&&(Pf(i,s,T,l),F=i.memoizedState),(Y=ur||Wg(i,s,Y,l,H,F,I)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=I,l=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Yu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=As(i,t.child,null,h),i.child=As(i,null,s,h)):Ut(t,i,s,h),i.memoizedState=d.state,t=i.child):t=ki(t,i,h),t}function my(t,i,s,l){return Lo(),i.flags|=256,Ut(t,i,s,l),i.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(t){return{baseLanes:t,cachePool:tg()}}function qf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Dn),t}function py(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?dr(i):mr(),qe){var T=lt,I;if(I=T){e:{for(I=T,T=ni;I.nodeType!==8;){if(!T){T=null;break e}if(I=Un(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ea!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},I=hn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,en=i,lt=null,I=!0):I=!1}I||Sa(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return bd(T)?i.lanes=32:i.lanes=536870912,null;Pi(i)}return T=l.children,l=l.fallback,h?(mr(),h=i.mode,T=Xu({mode:"hidden",children:T},h),l=va(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Bf(s),h.childLanes=qf(t,v,s),i.memoizedState=zf,l):(dr(i),Hf(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(dr(i),i.flags&=-257,i=jf(t,i,s)):i.memoizedState!==null?(mr(),i.child=t.child,i.flags|=128,i=null):(mr(),h=l.fallback,T=i.mode,l=Xu({mode:"visible",children:l.children},T),h=va(h,T,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,As(i,t.child,null,s),l=i.child,l.memoizedState=Bf(s),l.childLanes=qf(t,v,s),i.memoizedState=zf,i=h);else if(dr(i),bd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(a(419)),l.stack="",l.digest=v,zo({value:l,source:null,stack:null}),i=jf(t,i,s)}else if(Nt||Bo(t,i,s,!1),v=(s&t.childLanes)!==0,Nt||v){if(v=Je,v!==null&&(l=s&-s,l=(l&42)!==0?1:tr(l),l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,hs(t,l),gn(v,t,l),sy;T.data==="$?"||od(),i=jf(t,i,s)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,lt=Un(T.nextSibling),en=i,qe=!0,Aa=null,ni=!1,t!==null&&(Rn[In++]=Ni,Rn[In++]=Oi,Rn[In++]=Ea,Ni=t.id,Oi=t.overflow,Ea=i),i=Hf(i,l.children),i.flags|=4096);return i}return h?(mr(),h=l.fallback,T=i.mode,I=t.child,q=I.sibling,l=Di(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?h=Di(q,h):(h=va(h,T,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Bf(s):(I=T.cachePool,I!==null?(q=At._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=tg(),T={baseLanes:T.baseLanes|s,cachePool:I}),h.memoizedState=T,h.childLanes=qf(t,v,s),i.memoizedState=zf,l):(dr(i),s=t.child,t=s.sibling,s=Di(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function Hf(t,i){return i=Xu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Xu(t,i){return t=hn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function jf(t,i,s){return As(i,t.child,null,s),t=Hf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function gy(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),of(t.return,i,s)}function Ff(t,i,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function yy(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,i,l.children,s),l=St.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gy(t,s,i);else if(t.tag===19)gy(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(St,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Gu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Ff(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Gu(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Ff(i,!0,s,null,d);break;case"together":Ff(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ki(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),vr|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Bo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Di(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Di(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Gf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function PA(t,i,s){switch(i.tag){case 3:We(i,i.stateNode.containerInfo),lr(i,At,t.memoizedState.cache),Lo();break;case 27:case 5:er(i);break;case 4:We(i,i.stateNode.containerInfo);break;case 10:lr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(dr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?py(t,i,s):(dr(i),t=ki(t,i,s),t!==null?t.sibling:null);dr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Bo(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return yy(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(St,St.current),l)break;return null;case 22:case 23:return i.lanes=0,cy(t,i,s);case 24:lr(i,At,t.memoizedState.cache)}return ki(t,i,s)}function _y(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!Gf(t,s)&&(i.flags&128)===0)return Nt=!1,PA(t,i,s);Nt=(t.flags&131072)!==0}else Nt=!1,qe&&(i.flags&1048576)!==0&&Yp(i,Cu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Jh(l)?(t=Ca(l,t),i.tag=1,i=dy(null,i,l,t,s)):(i.tag=0,i=Lf(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===se){i.tag=11,i=oy(null,i,l,t,s);break e}else if(h===D){i.tag=14,i=ly(null,i,l,t,s);break e}}throw i=Vt(l)||l,Error(a(306,i,""))}}return i;case 0:return Lf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Ca(l,i.pendingProps),dy(t,i,l,h,s);case 3:e:{if(We(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,mf(t,i),Qo(i,l,null,s);var v=i.memoizedState;if(l=v.cache,lr(i,At,l),l!==d.cache&&lf(i,[At],s,!0),Ko(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=my(t,i,l,s);break e}else if(l!==h){h=bn(Error(a(424)),i),zo(h),i=my(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Un(t.firstChild),en=i,qe=!0,Aa=null,ni=!0,s=$g(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Lo(),l===h){i=ki(t,i,s);break e}Ut(t,i,l,s)}i=i.child}return i;case 26:return Yu(t,i),t===null?(s=A_(i.type,null,i.pendingProps,null))?i.memoizedState=s:qe||(s=i.type,t=i.pendingProps,l=uc(Se.current).createElement(s),l[vt]=i,l[mt]=t,zt(l,s,t),ct(l),i.stateNode=l):i.memoizedState=A_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return er(i),t===null&&qe&&(l=i.stateNode=v_(i.type,i.pendingProps,Se.current),en=i,ni=!0,h=lt,Sr(i.type)?(wd=h,lt=Un(l.firstChild)):lt=h),Ut(t,i,i.pendingProps.children,s),Yu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((h=l=lt)&&(l=uS(l,i.type,i.pendingProps,ni),l!==null?(i.stateNode=l,en=i,lt=Un(l.firstChild),ni=!1,h=!0):h=!1),h||Sa(i)),er(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Td(h,d)?l=null:v!==null&&Td(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Ef(t,i,IA,null,null,s),pl._currentValue=h),Yu(t,i),Ut(t,i,l,s),i.child;case 6:return t===null&&qe&&((t=s=lt)&&(s=cS(s,i.pendingProps,ni),s!==null?(i.stateNode=s,en=i,lt=null,t=!0):t=!1),t||Sa(i)),null;case 13:return py(t,i,s);case 4:return We(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=As(i,null,l,s):Ut(t,i,l,s),i.child;case 11:return oy(t,i,i.type,i.pendingProps,s);case 7:return Ut(t,i,i.pendingProps,s),i.child;case 8:return Ut(t,i,i.pendingProps.children,s),i.child;case 12:return Ut(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,lr(i,i.type,l.value),Ut(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,wa(i),h=Gt(h),l=l(h),i.flags|=1,Ut(t,i,l,s),i.child;case 14:return ly(t,i,i.type,i.pendingProps,s);case 15:return uy(t,i,i.type,i.pendingProps,s);case 19:return yy(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=Xu(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Di(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return cy(t,i,s);case 24:return wa(i),l=Gt(At),t===null?(h=hf(),h===null&&(h=Je,d=uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},df(i),lr(i,At,h)):((t.lanes&s)!==0&&(mf(t,i),Qo(i,null,null,s),Ko()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),lr(i,At,l)):(l=d.cache,lr(i,At,l),l!==h.cache&&lf(i,[At],s,!0))),Ut(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ui(t){t.flags|=4}function vy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!I_(i)){if(i=Cn.current,i!==null&&((Ue&4194048)===Ue?ii!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==ii))throw Fo=ff,ng;t.flags|=8192}}function $u(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yo():536870912,t.lanes|=i,Rs|=i)}function el(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function kA(t,i,s){var l=i.pendingProps;switch(rf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Mi(At),Fn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Uo(i)?Ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zp())),rt(i),null;case 26:return s=i.memoizedState,t===null?(Ui(i),s!==null?(rt(i),vy(i,s)):(rt(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Ui(i),rt(i),vy(i,s)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ui(i),rt(i),i.flags&=-16777217),null;case 27:gi(i),s=Se.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return rt(i),null}t=ge.current,Uo(i)?Xp(i):(t=v_(h,l,s),i.stateNode=t,Ui(i))}return rt(i),null;case 5:if(gi(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return rt(i),null}if(t=ge.current,Uo(i))Xp(i);else{switch(h=uc(Se.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[vt]=i,t[mt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ui(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Se.current,Uo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||f_(t.nodeValue,s)),t||Sa(i)}else t=uc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Uo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[vt]=i}else Lo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=Zp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Pi(i),i):(Pi(i),null)}if(Pi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),$u(i,i.updateQueue),rt(i),null;case 4:return Fn(),t===null&&gd(i.stateNode.containerInfo),rt(i),null;case 10:return Mi(i.type),rt(i),null;case 19:if(le(St),h=i.memoizedState,h===null)return rt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)el(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Gu(t),d!==null){for(i.flags|=128,el(h,!1),t=d.updateQueue,i.updateQueue=t,$u(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Qp(s,t),s=s.sibling;return ie(St,St.current&1|2),i.child}t=t.sibling}h.tail!==null&&_n()>Ju&&(i.flags|=128,l=!0,el(h,!1),i.lanes=4194304)}else{if(!l)if(t=Gu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,$u(i,t),el(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return rt(i),null}else 2*_n()-h.renderingStartTime>Ju&&s!==536870912&&(i.flags|=128,l=!0,el(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=_n(),i.sibling=null,t=St.current,ie(St,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return Pi(i),_f(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),s=i.updateQueue,s!==null&&$u(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&le(Ra),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Mi(At),rt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function UA(t,i){switch(rf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Mi(At),Fn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return gi(i),null;case 13:if(Pi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Lo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(St),null;case 4:return Fn(),null;case 10:return Mi(i.type),null;case 22:case 23:return Pi(i),_f(),t!==null&&le(Ra),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Mi(At),null;case 25:return null;default:return null}}function Ey(t,i){switch(rf(i),i.tag){case 3:Mi(At),Fn();break;case 26:case 27:case 5:gi(i);break;case 4:Fn();break;case 13:Pi(i);break;case 19:le(St);break;case 10:Mi(i.type);break;case 22:case 23:Pi(i),_f(),t!==null&&le(Ra);break;case 24:Mi(At)}}function tl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==h)}}catch(T){Ze(i,i.return,T)}}function pr(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=s,q=T;try{q()}catch(Y){Ze(h,I,Y)}}}l=l.next}while(l!==d)}}catch(Y){Ze(i,i.return,Y)}}function Ty(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{lg(i,s)}catch(l){Ze(t,t.return,l)}}}function Ay(t,i,s){s.props=Ca(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ze(t,i,l)}}function nl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Ze(t,i,h)}}function ri(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ze(t,i,h)}else s.current=null}function Sy(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ze(t,t.return,h)}}function Kf(t,i,s){try{var l=t.stateNode;rS(l,t.type,s,i),l[mt]=i}catch(h){Ze(t,t.return,h)}}function by(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Sr(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||by(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Sr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=lc));else if(l!==4&&(l===27&&Sr(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Yf(t,i,s),t=t.sibling;t!==null;)Yf(t,i,s),t=t.sibling}function Zu(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Sr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Zu(t,i,s),t=t.sibling;t!==null;)Zu(t,i,s),t=t.sibling}function wy(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);zt(i,l,s),i[vt]=t,i[mt]=s}catch(d){Ze(t,t.return,d)}}var Li=!1,ft=!1,Xf=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function LA(t,i){if(t=t.containerInfo,vd=pc,t=Up(t),Kh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,T=-1,I=-1,q=0,Y=0,W=t,H=null;t:for(;;){for(var F;W!==s||h!==0&&W.nodeType!==3||(T=v+h),W!==d||l!==0&&W.nodeType!==3||(I=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(F=W.firstChild)!==null;)H=W,W=F;for(;;){if(W===t)break t;if(H===s&&++q===h&&(T=v),H===d&&++Y===l&&(I=v),(F=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=F}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ed={focusedElem:t,selectionRange:s},pc=!1,Ot=i;Ot!==null;)if(i=Ot,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ot=t;else for(;Ot!==null;){switch(i=Ot,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Ee=Ca(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ze(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Sd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Ot=t;break}Ot=i.return}}function Iy(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:gr(t,s),l&4&&tl(5,s);break;case 1:if(gr(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(v){Ze(s,s.return,v)}else{var h=Ca(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(s,s.return,v)}}l&64&&Ty(s),l&512&&nl(s,s.return);break;case 3:if(gr(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{lg(t,i)}catch(v){Ze(s,s.return,v)}}break;case 27:i===null&&l&4&&wy(s);case 26:case 5:gr(t,s),i===null&&l&4&&Sy(s),l&512&&nl(s,s.return);break;case 12:gr(t,s);break;case 13:gr(t,s),l&4&&Ny(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=QA.bind(null,s),hS(t,s))));break;case 22:if(l=s.memoizedState!==null||Li,!l){i=i!==null&&i.memoizedState!==null||ft,h=Li;var d=ft;Li=l,(ft=i)&&!d?yr(t,s,(s.subtreeFlags&8772)!==0):gr(t,s),Li=h,ft=d}break;case 30:break;default:gr(t,s)}}function Cy(t){var i=t.alternate;i!==null&&(t.alternate=null,Cy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&rr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var tt=null,nn=!1;function zi(t,i,s){for(s=s.child;s!==null;)Dy(t,i,s),s=s.sibling}function Dy(t,i,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ot,s)}catch{}switch(s.tag){case 26:ft||ri(s,i),zi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ft||ri(s,i);var l=tt,h=nn;Sr(s.type)&&(tt=s.stateNode,nn=!1),zi(t,i,s),hl(s.stateNode),tt=l,nn=h;break;case 5:ft||ri(s,i);case 6:if(l=tt,h=nn,tt=null,zi(t,i,s),tt=l,nn=h,tt!==null)if(nn)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(s.stateNode)}catch(d){Ze(s,i,d)}else try{tt.removeChild(s.stateNode)}catch(d){Ze(s,i,d)}break;case 18:tt!==null&&(nn?(t=tt,y_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),vl(t)):y_(tt,s.stateNode));break;case 4:l=tt,h=nn,tt=s.stateNode.containerInfo,nn=!0,zi(t,i,s),tt=l,nn=h;break;case 0:case 11:case 14:case 15:ft||pr(2,s,i),ft||pr(4,s,i),zi(t,i,s);break;case 1:ft||(ri(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ay(s,i,l)),zi(t,i,s);break;case 21:zi(t,i,s);break;case 22:ft=(l=ft)||s.memoizedState!==null,zi(t,i,s),ft=l;break;default:zi(t,i,s)}}function Ny(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{vl(t)}catch(s){Ze(i,i.return,s)}}function zA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ry),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ry),i;default:throw Error(a(435,t.tag))}}function $f(t,i){var s=zA(t);i.forEach(function(l){var h=YA.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function fn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Sr(T.type)){tt=T.stateNode,nn=!1;break e}break;case 5:tt=T.stateNode,nn=!1;break e;case 3:case 4:tt=T.stateNode.containerInfo,nn=!0;break e}T=T.return}if(tt===null)throw Error(a(160));Dy(d,v,h),tt=null,nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Oy(i,t),i=i.sibling}var kn=null;function Oy(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(pr(3,t,t.return),tl(3,t),pr(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(ft||s===null||ri(s,s.return)),l&64&&Li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=kn;if(fn(i,t),dn(t),l&512&&(ft||s===null||ri(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ia]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,s),d[vt]=t,ct(d),l=d;break e;case"link":var v=w_("link","href",h).get(l+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,s),h.head.appendChild(d);break;case"meta":if(v=w_("meta","content",h).get(l+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[vt]=t,ct(d),l=d}t.stateNode=l}else R_(h,t.type,t.stateNode);else t.stateNode=b_(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?R_(h,t.type,t.stateNode):b_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kf(t,t.memoizedProps,s.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(ft||s===null||ri(s,s.return)),s!==null&&l&4&&Kf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(ft||s===null||ri(s,s.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(F){Ze(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Kf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Xf=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(F){Ze(t,t.return,F)}}break;case 3:if(fc=null,h=kn,kn=cc(i.containerInfo),fn(i,t),kn=h,dn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{vl(i.containerInfo)}catch(F){Ze(t,t.return,F)}Xf&&(Xf=!1,xy(t));break;case 4:l=kn,kn=cc(t.stateNode.containerInfo),fn(i,t),dn(t),kn=l;break;case 12:fn(i,t),dn(t);break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nd=_n()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$f(t,l)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,q=Li,Y=ft;if(Li=q||h,ft=Y||I,fn(i,t),ft=Y,Li=q,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||I||Li||ft||Da(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){I=s=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var W=I.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Ze(I,I.return,F)}}}else if(i.tag===6){if(s===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(F){Ze(I,I.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,$f(t,s))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$f(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(by(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=Qf(t);Zu(t,d,h);break;case 5:var v=s.stateNode;s.flags&32&&(En(v,""),s.flags&=-33);var T=Qf(t);Zu(t,T,v);break;case 3:case 4:var I=s.stateNode.containerInfo,q=Qf(t);Yf(t,q,I);break;default:throw Error(a(161))}}catch(Y){Ze(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function xy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;xy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function gr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Iy(t,i.alternate,i),i=i.sibling}function Da(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:pr(4,i,i.return),Da(i);break;case 1:ri(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Ay(i,i.return,s),Da(i);break;case 27:hl(i.stateNode);case 26:case 5:ri(i,i.return),Da(i);break;case 22:i.memoizedState===null&&Da(i);break;case 30:Da(i);break;default:Da(i)}t=t.sibling}}function yr(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:yr(h,d,s),tl(4,d);break;case 1:if(yr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Ze(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)og(I[h],T)}catch(q){Ze(l,l.return,q)}}s&&v&64&&Ty(d),nl(d,d.return);break;case 27:wy(d);case 26:case 5:yr(h,d,s),s&&l===null&&v&4&&Sy(d),nl(d,d.return);break;case 12:yr(h,d,s);break;case 13:yr(h,d,s),s&&v&4&&Ny(h,d);break;case 22:d.memoizedState===null&&yr(h,d,s),nl(d,d.return);break;case 30:break;default:yr(h,d,s)}i=i.sibling}}function Zf(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&qo(s))}function Wf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&qo(t))}function ai(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)My(t,i,s,l),i=i.sibling}function My(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,s,l),h&2048&&tl(9,i);break;case 1:ai(t,i,s,l);break;case 3:ai(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&qo(t)));break;case 12:if(h&2048){ai(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(i,i.return,I)}}else ai(t,i,s,l);break;case 13:ai(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ai(t,i,s,l):il(t,i):d._visibility&2?ai(t,i,s,l):(d._visibility|=2,Ss(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&Zf(v,i);break;case 24:ai(t,i,s,l),h&2048&&Wf(i.alternate,i);break;default:ai(t,i,s,l)}}function Ss(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=s,I=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Ss(d,v,T,I,h),tl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Ss(d,v,T,I,h):il(d,v):(Y._visibility|=2,Ss(d,v,T,I,h)),h&&q&2048&&Zf(v.alternate,v);break;case 24:Ss(d,v,T,I,h),h&&q&2048&&Wf(v.alternate,v);break;default:Ss(d,v,T,I,h)}i=i.sibling}}function il(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:il(s,l),h&2048&&Zf(l.alternate,l);break;case 24:il(s,l),h&2048&&Wf(l.alternate,l);break;default:il(s,l)}i=i.sibling}}var rl=8192;function bs(t){if(t.subtreeFlags&rl)for(t=t.child;t!==null;)Vy(t),t=t.sibling}function Vy(t){switch(t.tag){case 26:bs(t),t.flags&rl&&t.memoizedState!==null&&bS(kn,t.memoizedState,t.memoizedProps);break;case 5:bs(t);break;case 3:case 4:var i=kn;kn=cc(t.stateNode.containerInfo),bs(t),kn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=rl,rl=16777216,bs(t),rl=i):bs(t));break;default:bs(t)}}function Py(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function al(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Ot=l,Uy(l,t)}Py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ky(t),t=t.sibling}function ky(t){switch(t.tag){case 0:case 11:case 15:al(t),t.flags&2048&&pr(9,t,t.return);break;case 3:al(t);break;case 12:al(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Wu(t)):al(t);break;default:al(t)}}function Wu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Ot=l,Uy(l,t)}Py(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:pr(8,i,i.return),Wu(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(i));break;default:Wu(i)}t=t.sibling}}function Uy(t,i){for(;Ot!==null;){var s=Ot;switch(s.tag){case 0:case 11:case 15:pr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ot=l;else e:for(s=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(Cy(l),l===s){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var BA={getCacheForType:function(t){var i=Gt(At),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},qA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,Oe=null,Ue=0,Ke=0,mn=null,_r=!1,ws=!1,Jf=!1,Bi=0,ut=0,vr=0,Na=0,ed=0,Dn=0,Rs=0,sl=null,rn=null,td=!1,nd=0,Ju=1/0,ec=null,Er=null,Lt=0,Tr=null,Is=null,Cs=0,id=0,rd=null,Ly=null,ol=0,ad=null;function pn(){if((Ge&2)!==0&&Ue!==0)return Ue&-Ue;if(Q.T!==null){var t=ps;return t!==0?t:fd()}return nr()}function zy(){Dn===0&&(Dn=(Ue&536870912)===0||qe?go():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),Dn}function gn(t,i,s){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ds(t,0),Ar(t,Ue,Dn,!1)),_i(t,s),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Na|=s),ut===4&&Ar(t,Ue,Dn,!1)),si(t))}function By(t,i,s){if((Ge&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||na(t,i),h=l?FA(t,i):ld(t,i,!0),d=l;do{if(h===0){ws&&!l&&Ar(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!HA(s)){h=ld(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=sl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ds(T,v).flags|=256),v=ld(T,v,!1),v!==2){if(Jf&&!I){T.errorRecoveryDisabledLanes|=d,Na|=d,h=4;break e}d=rn,rn=h,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ds(t,0),Ar(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ar(l,i,Dn,!_r);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=nd+300-_n(),10<h)){if(Ar(l,i,Dn,!_r),Ka(l,0,!0)!==0)break e;l.timeoutHandle=p_(qy.bind(null,l,s,rn,ec,td,i,Dn,Na,Rs,_r,d,2,-0,0),h);break e}qy(l,s,rn,ec,td,i,Dn,Na,Rs,_r,d,0,-0,0)}}break}while(!0);si(t)}function qy(t,i,s,l,h,d,v,T,I,q,Y,W,H,F){if(t.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(ml={stylesheets:null,count:0,unsuspend:SS},Vy(i),W=wS(),W!==null)){t.cancelPendingCommit=W(Yy.bind(null,t,i,d,s,l,h,v,T,I,Y,1,H,F)),Ar(t,d,v,!q);return}Yy(t,i,d,s,l,h,v,T,I)}function HA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ar(t,i,s,l){i&=~ed,i&=~Na,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Ft(h),v=1<<d;l[d]=-1,h&=~v}s!==0&&Gn(t,s,i)}function tc(){return(Ge&6)===0?(ll(0),!1):!0}function sd(){if(Oe!==null){if(Ke===0)var t=Oe.return;else t=Oe,xi=ba=null,Sf(t),Ts=null,Wo=0,t=Oe;for(;t!==null;)Ey(t.alternate,t),t=t.return;Oe=null}}function Ds(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,sS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),sd(),Je=t,Oe=s=Di(t.current,null),Ue=i,Ke=0,mn=null,_r=!1,ws=na(t,i),Jf=!1,Rs=Dn=ed=Na=vr=ut=0,rn=sl=null,td=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Ft(l),d=1<<h;i|=t[h],l&=~d}return Bi=i,Su(),s}function Hy(t,i){Ie=null,Q.H=Hu,i===jo||i===xu?(i=ag(),Ke=3):i===ng?(i=ag(),Ke=4):Ke=i===sy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Oe===null&&(ut=1,Qu(t,bn(i,t.current)))}function jy(){var t=Q.H;return Q.H=Hu,t===null?Hu:t}function Fy(){var t=Q.A;return Q.A=BA,t}function od(){ut=4,_r||(Ue&4194048)!==Ue&&Cn.current!==null||(ws=!0),(vr&134217727)===0&&(Na&134217727)===0||Je===null||Ar(Je,Ue,Dn,!1)}function ld(t,i,s){var l=Ge;Ge|=2;var h=jy(),d=Fy();(Je!==t||Ue!==i)&&(ec=null,Ds(t,i)),i=!1;var v=ut;e:do try{if(Ke!==0&&Oe!==null){var T=Oe,I=mn;switch(Ke){case 8:sd(),v=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var q=Ke;if(Ke=0,mn=null,Ns(t,T,I,q),s&&ws){v=0;break e}break;default:q=Ke,Ke=0,mn=null,Ns(t,T,I,q)}}jA(),v=ut;break}catch(Y){Hy(t,Y)}while(!0);return i&&t.shellSuspendCounter++,xi=ba=null,Ge=l,Q.H=h,Q.A=d,Oe===null&&(Je=null,Ue=0,Su()),v}function jA(){for(;Oe!==null;)Gy(Oe)}function FA(t,i){var s=Ge;Ge|=2;var l=jy(),h=Fy();Je!==t||Ue!==i?(ec=null,Ju=_n()+500,Ds(t,i)):ws=na(t,i);e:do try{if(Ke!==0&&Oe!==null){i=Oe;var d=mn;t:switch(Ke){case 1:Ke=0,mn=null,Ns(t,i,d,1);break;case 2:case 9:if(ig(d)){Ke=0,mn=null,Ky(i);break}i=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),si(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:ig(d)?(Ke=0,mn=null,Ky(i)):(Ke=0,mn=null,Ns(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||I_(v)){Ke=0,mn=null;var I=T.sibling;if(I!==null)Oe=I;else{var q=T.return;q!==null?(Oe=q,nc(q)):Oe=null}break t}}Ke=0,mn=null,Ns(t,i,d,5);break;case 6:Ke=0,mn=null,Ns(t,i,d,6);break;case 8:sd(),ut=6;break e;default:throw Error(a(462))}}GA();break}catch(Y){Hy(t,Y)}while(!0);return xi=ba=null,Q.H=l,Q.A=h,Ge=s,Oe!==null?0:(Je=null,Ue=0,Su(),ut)}function GA(){for(;Oe!==null&&!ho();)Gy(Oe)}function Gy(t){var i=_y(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,i===null?nc(t):Oe=i}function Ky(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=fy(s,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=fy(s,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Sf(i);default:Ey(s,i),i=Oe=Qp(i,Bi),i=_y(s,i,Bi)}t.memoizedProps=t.pendingProps,i===null?nc(t):Oe=i}function Ns(t,i,s,l){xi=ba=null,Sf(i),Ts=null,Wo=0;var h=i.return;try{if(VA(t,h,i,s,Ue)){ut=1,Qu(t,bn(s,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ut=1,Qu(t,bn(s,t.current)),Oe=null;return}i.flags&32768?(qe||l===1?t=!0:ws||(Ue&536870912)!==0?t=!1:(_r=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Qy(i,t)):nc(i)}function nc(t){var i=t;do{if((i.flags&32768)!==0){Qy(i,_r);return}t=i.return;var s=kA(i.alternate,i,Bi);if(s!==null){Oe=s;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ut===0&&(ut=5)}function Qy(t,i){do{var s=UA(t.alternate,t);if(s!==null){s.flags&=32767,Oe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=s}while(t!==null);ut=6,Oe=null}function Yy(t,i,s,l,h,d,v,T,I){t.cancelPendingCommit=null;do ic();while(Lt!==0);if((Ge&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Zh,_o(t,s,d,v,T,I),t===Je&&(Oe=Je=null,Ue=0),Is=i,Tr=t,Cs=s,id=d,rd=h,Ly=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XA(Wr,function(){return Jy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=oe.p,oe.p=2,v=Ge,Ge|=4;try{LA(t,i,s)}finally{Ge=v,oe.p=h,Q.T=l}}Lt=1,Xy(),$y(),Zy()}}function Xy(){if(Lt===1){Lt=0;var t=Tr,i=Is,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{Oy(i,t);var d=Ed,v=Up(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&kp(T.ownerDocument.documentElement,T)){if(I!==null&&Kh(T)){var q=I.start,Y=I.end;if(Y===void 0&&(Y=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(Y,T.value.length);else{var W=T.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var F=H.getSelection(),Ee=T.textContent.length,_e=Math.min(I.start,Ee),$e=I.end===void 0?_e:Math.min(I.end,Ee);!F.extend&&_e>$e&&(v=$e,$e=_e,_e=v);var k=Pp(T,_e),x=Pp(T,$e);if(k&&x&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==x.node||F.focusOffset!==x.offset)){var B=W.createRange();B.setStart(k.node,k.offset),F.removeAllRanges(),_e>$e?(F.addRange(B),F.extend(x.node,x.offset)):(B.setEnd(x.node,x.offset),F.addRange(B))}}}}for(W=[],F=T;F=F.parentNode;)F.nodeType===1&&W.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var Z=W[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}pc=!!vd,Ed=vd=null}finally{Ge=h,oe.p=l,Q.T=s}}t.current=i,Lt=2}}function $y(){if(Lt===2){Lt=0;var t=Tr,i=Is,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{Iy(t,i.alternate,i)}finally{Ge=h,oe.p=l,Q.T=s}}Lt=3}}function Zy(){if(Lt===4||Lt===3){Lt=0,Wl();var t=Tr,i=Is,s=Cs,l=Ly;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,Is=Tr=null,Wy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Er=null),Qa(s),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=oe.p,oe.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,oe.p=h}}(Cs&3)!==0&&ic(),si(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===ad?ol++:(ol=0,ad=t):ol=0,ll(0)}}function Wy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,qo(i)))}function ic(t){return Xy(),$y(),Zy(),Jy()}function Jy(){if(Lt!==5)return!1;var t=Tr,i=id;id=0;var s=Qa(Cs),l=Q.T,h=oe.p;try{oe.p=32>s?32:s,Q.T=null,s=rd,rd=null;var d=Tr,v=Cs;if(Lt=0,Is=Tr=null,Cs=0,(Ge&6)!==0)throw Error(a(331));var T=Ge;if(Ge|=4,ky(d.current),My(d,d.current,v,s),Ge=T,ll(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{oe.p=h,Q.T=l,Wy(t,i)}}function e_(t,i,s){i=bn(s,i),i=Uf(t.stateNode,i,2),t=hr(t,i,2),t!==null&&(_i(t,2),si(t))}function Ze(t,i,s){if(t.tag===3)e_(t,t,s);else for(;i!==null;){if(i.tag===3){e_(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Er===null||!Er.has(l))){t=bn(s,t),s=ry(2),l=hr(i,s,2),l!==null&&(ay(s,l,i,t),_i(l,2),si(l));break}}i=i.return}}function ud(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new qA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(Jf=!0,h.add(s),t=KA.bind(null,t,i,s),i.then(t,t))}function KA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Je===t&&(Ue&s)===s&&(ut===4||ut===3&&(Ue&62914560)===Ue&&300>_n()-nd?(Ge&2)===0&&Ds(t,0):ed|=s,Rs===Ue&&(Rs=0)),si(t)}function t_(t,i){i===0&&(i=yo()),t=hs(t,i),t!==null&&(_i(t,i),si(t))}function QA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),t_(t,s)}function YA(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),t_(t,s)}function XA(t,i){return $r(t,i)}var rc=null,Os=null,cd=!1,ac=!1,hd=!1,Oa=0;function si(t){t!==Os&&t.next===null&&(Os===null?rc=Os=t:Os=Os.next=t),ac=!0,cd||(cd=!0,ZA())}function ll(t,i){if(!hd&&ac){hd=!0;do for(var s=!1,l=rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ft(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,a_(l,d))}else d=Ue,d=Ka(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||na(l,d)||(s=!0,a_(l,d));l=l.next}while(s);hd=!1}}function $A(){n_()}function n_(){ac=cd=!1;var t=0;Oa!==0&&(aS()&&(t=Oa),Oa=0);for(var i=_n(),s=null,l=rc;l!==null;){var h=l.next,d=i_(l,i);d===0?(l.next=null,s===null?rc=h:s.next=h,h===null&&(Os=s)):(s=l,(t!==0||(d&3)!==0)&&(ac=!0)),l=h}ll(t)}function i_(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Ft(d),T=1<<v,I=h[v];I===-1?((T&s)===0||(T&l)!==0)&&(h[v]=po(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=Je,s=Ue,s=Ka(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Zr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||na(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Zr(l),Qa(s)){case 2:case 8:s=Fa;break;case 32:s=Wr;break;case 268435456:s=Ga;break;default:s=Wr}return l=r_.bind(null,t),s=$r(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Zr(l),t.callbackPriority=2,t.callbackNode=null,2}function r_(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ic()&&t.callbackNode!==s)return null;var l=Ue;return l=Ka(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(By(t,l,i),i_(t,_n()),t.callbackNode!=null&&t.callbackNode===s?r_.bind(null,t):null)}function a_(t,i){if(ic())return null;By(t,i,!0)}function ZA(){oS(function(){(Ge&6)!==0?$r(fo,$A):n_()})}function fd(){return Oa===0&&(Oa=go()),Oa}function s_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ja(""+t)}function o_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function WA(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=s_((h[mt]||null).action),v=l.submitter;v&&(i=(i=v[mt]||null)?s_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new es("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oa!==0){var I=v?o_(h,v):new FormData(h);xf(s,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?o_(h,v):new FormData(h),xf(s,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var dd=0;dd<$h.length;dd++){var md=$h[dd],JA=md.toLowerCase(),eS=md[0].toUpperCase()+md.slice(1);Pn(JA,"on"+eS)}Pn(Bp,"onAnimationEnd"),Pn(qp,"onAnimationIteration"),Pn(Hp,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(yA,"onTransitionRun"),Pn(_A,"onTransitionStart"),Pn(vA,"onTransitionCancel"),Pn(jp,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function l_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(Y){Ku(Y)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,q=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(Y){Ku(Y)}h.currentTarget=null,d=I}}}}function xe(t,i){var s=i[Eo];s===void 0&&(s=i[Eo]=new Set);var l=t+"__bubble";s.has(l)||(u_(i,t,2,!1),s.add(l))}function pd(t,i,s){var l=0;i&&(l|=4),u_(s,t,l,i)}var sc="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[sc]){t[sc]=!0,To.forEach(function(s){s!=="selectionchange"&&(tS.has(s)||pd(s,!1,t),pd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[sc]||(i[sc]=!0,pd("selectionchange",!1,i))}}function u_(t,i,s,l){switch(M_(i)){case 2:var h=CS;break;case 8:h=DS;break;default:h=Nd}s=h.bind(null,i,s,t),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function yd(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=vi(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}lu(function(){var q=d,Y=Tn(s),W=[];e:{var H=Fp.get(t);if(H!==void 0){var F=es,Ee=t;switch(t){case"keypress":if(Zn(s)===0)break e;case"keydown":case"keyup":F=ss;break;case"focusin":Ee="focus",F=is;break;case"focusout":Ee="blur",F=is;break;case"beforeblur":case"afterblur":F=is;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=gu;break;case Bp:case qp:case Hp:F=rs;break;case jp:F=_u;break;case"scroll":case"scrollend":F=uu;break;case"wheel":F=os;break;case"copy":case"cut":case"paste":F=as;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Mo;break;case"toggle":case"beforetoggle":F=Eu}var _e=(i&4)!==0,$e=!_e&&(t==="scroll"||t==="scrollend"),k=_e?H!==null?H+"Capture":null:H;_e=[];for(var x=q,B;x!==null;){var Z=x;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||k===null||(Z=ca(x,k),Z!=null&&_e.push(cl(x,Z,B))),$e)break;x=x.return}0<_e.length&&(H=new F(H,Ee,null,s,Y),W.push({event:H,listeners:_e}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&s!==Si&&(Ee=s.relatedTarget||s.fromElement)&&(vi(Ee)||Ee[vn]))break e;if((F||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Ee=s.relatedTarget||s.toElement,F=q,Ee=Ee?vi(Ee):null,Ee!==null&&($e=u(Ee),_e=Ee.tag,Ee!==$e||_e!==5&&_e!==27&&_e!==6)&&(Ee=null)):(F=null,Ee=q),F!==Ee)){if(_e=Sn,Z="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Mo,Z="onPointerLeave",k="onPointerEnter",x="pointer"),$e=F==null?H:Qn(F),B=Ee==null?H:Qn(Ee),H=new _e(Z,x+"leave",F,s,Y),H.target=$e,H.relatedTarget=B,Z=null,vi(Y)===q&&(_e=new _e(k,x+"enter",Ee,s,Y),_e.target=B,_e.relatedTarget=$e,Z=_e),$e=Z,F&&Ee)t:{for(_e=F,k=Ee,x=0,B=_e;B;B=xs(B))x++;for(B=0,Z=k;Z;Z=xs(Z))B++;for(;0<x-B;)_e=xs(_e),x--;for(;0<B-x;)k=xs(k),B--;for(;x--;){if(_e===k||k!==null&&_e===k.alternate)break t;_e=xs(_e),k=xs(k)}_e=null}else _e=null;F!==null&&c_(W,H,F,_e,!1),Ee!==null&&$e!==null&&c_(W,$e,Ee,_e,!0)}}e:{if(H=q?Qn(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var he=Dp;else if(Tt(H))if(Np)he=mA;else{he=fA;var Ne=hA}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Ro(q.elementType)&&(he=Dp):he=dA;if(he&&(he=he(t,q))){Ci(W,he,s,Y);break e}Ne&&Ne(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&sr(H,"number",H.value)}switch(Ne=q?Qn(q):window,t){case"focusin":(Tt(Ne)||Ne.contentEditable==="true")&&(ls=Ne,Qh=q,ko=null);break;case"focusout":ko=Qh=ls=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Lp(W,s,Y);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":Lp(W,s,Y)}var de;if(ei)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Pe?K(t,s)&&(ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(_&&s.locale!=="ko"&&(Pe||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Pe&&(de=Co()):($n=Y,or="value"in $n?$n.value:$n.textContent,Pe=!0)),Ne=oc(q,ve),0<Ne.length&&(ve=new Oo(ve,t,null,s,Y),W.push({event:ve,listeners:Ne}),de?ve.data=de:(de=ae(s),de!==null&&(ve.data=de)))),(de=y?Et(t,s):ke(t,s))&&(ve=oc(q,"onBeforeInput"),0<ve.length&&(Ne=new Oo("onBeforeInput","beforeinput",null,s,Y),W.push({event:Ne,listeners:ve}),Ne.data=de)),WA(W,t,q,s,Y)}l_(W,i)})}function cl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function oc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ca(t,s),h!=null&&l.unshift(cl(t,h,d)),h=ca(t,i),h!=null&&l.push(cl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function c_(t,i,s,l,h){for(var d=i._reactName,v=[];s!==null&&s!==l;){var T=s,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||q===null||(I=q,h?(q=ca(s,d),q!=null&&v.unshift(cl(s,q,I))):h||(q=ca(s,d),q!=null&&v.push(cl(s,q,I)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var nS=/\r\n?/g,iS=/\u0000|\uFFFD/g;function h_(t){return(typeof t=="string"?t:""+t).replace(nS,`
`).replace(iS,"")}function f_(t,i){return i=h_(i),h_(t)===i}function lc(){}function Xe(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(t,""+l);break;case"className":Yn(t,"class",l);break;case"tabIndex":Yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,s,l);break;case"style":wo(t,l,d);break;case"data":if(i!=="object"){Yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ja(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ja(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=lc);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ja(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),ar(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ar(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Bh.get(s)||s,ar(t,s,l))}}function _d(t,i,s,l,h,d){switch(s){case"style":wo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ya.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[mt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ar(t,s,l)}}}function zt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xe(t,i,d,v,s,null)}}h&&Xe(t,i,"srcSet",s.srcSet,s,null),l&&Xe(t,i,"src",s.src,s,null);return;case"input":xe("invalid",t);var T=d=v=h=null,I=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var Y=s[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":I=Y;break;case"defaultChecked":q=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:Xe(t,i,l,Y,s,null)}}oa(t,d,T,I,q,v,h,!1),Wa(t);return;case"select":xe("invalid",t),l=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xe(t,i,h,T,s,null)}i=d,s=v,t.multiple=!!l,i!=null?Ai(t,!!l,i,!1):s!=null&&Ai(t,!!l,s,!0);return;case"textarea":xe("invalid",t),d=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Xe(t,i,v,T,s,null)}la(t,l,h,d),Wa(t);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,I,l,s,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<ul.length;l++)xe(ul[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xe(t,i,q,l,s,null)}return;default:if(Ro(i)){for(Y in s)s.hasOwnProperty(Y)&&(l=s[Y],l!==void 0&&_d(t,i,Y,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Xe(t,i,T,l,s,null))}function rS(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,q=null,Y=null;for(F in s){var W=s[F];if(s.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=W;default:l.hasOwnProperty(F)||Xe(t,i,F,null,l,W)}}for(var H in l){var F=l[H];if(W=s[H],l.hasOwnProperty(H)&&(F!=null||W!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":q=F;break;case"defaultChecked":Y=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:F!==W&&Xe(t,i,H,F,l,W)}}un(t,v,T,I,q,Y,d,h);return;case"select":F=v=T=H=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=s[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Xe(t,i,h,d,l,I)}i=T,s=v,l=F,H!=null?Ai(t,!!s,H,!1):!!l!=!!s&&(i!=null?Ai(t,!!s,i,!0):Ai(t,!!s,s?[]:"",!1));return;case"textarea":F=H=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=s[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Xe(t,i,v,h,l,d)}Qe(t,H,F);return;case"option":for(var Ee in s)if(H=s[Ee],s.hasOwnProperty(Ee)&&H!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Xe(t,i,Ee,null,l,H)}for(I in l)if(H=l[I],F=s[I],l.hasOwnProperty(I)&&H!==F&&(H!=null||F!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,i,I,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)H=s[_e],s.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&Xe(t,i,_e,null,l,H);for(q in l)if(H=l[q],F=s[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:Xe(t,i,q,H,l,F)}return;default:if(Ro(i)){for(var $e in s)H=s[$e],s.hasOwnProperty($e)&&H!==void 0&&!l.hasOwnProperty($e)&&_d(t,i,$e,void 0,l,H);for(Y in l)H=l[Y],F=s[Y],!l.hasOwnProperty(Y)||H===F||H===void 0&&F===void 0||_d(t,i,Y,H,l,F);return}}for(var k in s)H=s[k],s.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&Xe(t,i,k,null,l,H);for(W in l)H=l[W],F=s[W],!l.hasOwnProperty(W)||H===F||H==null&&F==null||Xe(t,i,W,H,l,F)}var vd=null,Ed=null;function uc(t){return t.nodeType===9?t:t.ownerDocument}function d_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Td(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ad=null;function aS(){var t=window.event;return t&&t.type==="popstate"?t===Ad?!1:(Ad=t,!0):(Ad=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,sS=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,oS=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(t){return g_.resolve(null).then(t).catch(lS)}:p_;function lS(t){setTimeout(function(){throw t})}function Sr(t){return t==="head"}function y_(t,i){var s=i,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var v=t.ownerDocument;if(s&1&&hl(v.documentElement),s&2&&hl(v.body),s&4)for(s=v.head,hl(s),v=s.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[ia]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=T}}if(h===0){t.removeChild(d),vl(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);vl(i)}function Sd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Sd(s),rr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function uS(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ia])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function cS(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Un(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function hS(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var wd=null;function __(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function v_(t,i,s){switch(i=uc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function hl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);rr(t)}var Nn=new Map,E_=new Set;function cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=oe.d;oe.d={f:fS,r:dS,D:mS,C:pS,L:gS,m:yS,X:vS,S:_S,M:ES};function fS(){var t=qi.f(),i=tc();return t||i}function dS(t){var i=Kn(t);i!==null&&i.tag===5&&i.type==="form"?Bg(i):qi.r(t)}var Ms=typeof document>"u"?null:document;function T_(t,i,s){var l=Ms;if(l&&typeof i=="string"&&i){var h=pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),E_.has(h)||(E_.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zt(i,"link",t),ct(i),l.head.appendChild(i)))}}function mS(t){qi.D(t),T_("dns-prefetch",t,null)}function pS(t,i){qi.C(t,i),T_("preconnect",t,i)}function gS(t,i,s){qi.L(t,i,s);var l=Ms;if(l&&t&&i){var h='link[rel="preload"][as="'+pt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+pt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+pt(s.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(i){case"style":d=Vs(t);break;case"script":d=Ps(t)}Nn.has(d)||(t=E({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Nn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(fl(d))||i==="script"&&l.querySelector(dl(d))||(i=l.createElement("link"),zt(i,"link",t),ct(i),l.head.appendChild(i)))}}function yS(t,i){qi.m(t,i);var s=Ms;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ps(t)}if(!Nn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Nn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dl(d)))return}l=s.createElement("link"),zt(l,"link",t),ct(l),s.head.appendChild(l)}}}function _S(t,i,s){qi.S(t,i,s);var l=Ms;if(l&&t){var h=Zt(l).hoistableStyles,d=Vs(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(fl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Nn.get(d))&&Rd(t,s);var I=v=l.createElement("link");ct(I),zt(I,"link",t),I._p=new Promise(function(q,Y){I.onload=q,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,hc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function vS(t,i){qi.X(t,i);var s=Ms;if(s&&t){var l=Zt(s).hoistableScripts,h=Ps(t),d=l.get(h);d||(d=s.querySelector(dl(h)),d||(t=E({src:t,async:!0},i),(i=Nn.get(h))&&Id(t,i),d=s.createElement("script"),ct(d),zt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ES(t,i){qi.M(t,i);var s=Ms;if(s&&t){var l=Zt(s).hoistableScripts,h=Ps(t),d=l.get(h);d||(d=s.querySelector(dl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Nn.get(h))&&Id(t,i),d=s.createElement("script"),ct(d),zt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function A_(t,i,s,l){var h=(h=Se.current)?cc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Vs(s.href),s=Zt(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Vs(s.href);var d=Zt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(fl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Nn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Nn.set(t,s),d||TS(h,t,s,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ps(s),s=Zt(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Vs(t){return'href="'+pt(t)+'"'}function fl(t){return'link[rel="stylesheet"]['+t+"]"}function S_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function TS(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zt(i,"link",s),ct(i),t.head.appendChild(i))}function Ps(t){return'[src="'+pt(t)+'"]'}function dl(t){return"script[async]"+t}function b_(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pt(s.href)+'"]');if(l)return i.instance=l,ct(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),zt(l,"style",h),hc(l,s.precedence,t),i.instance=l;case"stylesheet":h=Vs(s.href);var d=t.querySelector(fl(h));if(d)return i.state.loading|=4,i.instance=d,ct(d),d;l=S_(s),(h=Nn.get(h))&&Rd(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",l),i.state.loading|=4,hc(d,s.precedence,t),i.instance=d;case"script":return d=Ps(s.src),(h=t.querySelector(dl(d)))?(i.instance=h,ct(h),h):(l=s,(h=Nn.get(d))&&(l=E({},s),Id(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,hc(l,s.precedence,t));return i.instance}function hc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Rd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Id(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var fc=null;function w_(t,i,s){if(fc===null){var l=new Map,h=fc=new Map;h.set(s,l)}else h=fc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[ia]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function R_(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function AS(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function I_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ml=null;function SS(){}function bS(t,i,s){if(ml===null)throw Error(a(475));var l=ml;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Vs(s.href),d=t.querySelector(fl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=dc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ct(d);return}d=t.ownerDocument||t,s=S_(s),(h=Nn.get(h))&&Rd(s,h),d=d.createElement("link"),ct(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=dc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function wS(){if(ml===null)throw Error(a(475));var t=ml;return t.stylesheets&&t.count===0&&Cd(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Cd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function dc(){if(this.count--,this.count===0){if(this.stylesheets)Cd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mc=null;function Cd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mc=new Map,i.forEach(RS,t),mc=null,dc.call(t))}function RS(t,i){if(!(i.state.loading&4)){var s=mc.get(t);if(s)var l=s.get(null);else{s=new Map,mc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,h),s.set(v,h),this.count++,l=dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var pl={$$typeof:te,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function IS(t,i,s,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function C_(t,i,s,l,h,d,v,T,I,q,Y,W){return t=new IS(t,i,s,v,T,I,q,W),i=1,d===!0&&(i|=24),d=hn(3,null,null,i),t.current=d,d.stateNode=t,i=uf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},df(d),t}function D_(t){return t?(t=fs,t):fs}function N_(t,i,s,l,h,d){h=D_(h),l.context===null?l.context=h:l.pendingContext=h,l=cr(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=hr(t,l,i),s!==null&&(gn(s,t,i),Go(s,t,i))}function O_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Dd(t,i){O_(t,i),(t=t.alternate)&&O_(t,i)}function x_(t){if(t.tag===13){var i=hs(t,67108864);i!==null&&gn(i,t,67108864),Dd(t,67108864)}}var pc=!0;function CS(t,i,s,l){var h=Q.T;Q.T=null;var d=oe.p;try{oe.p=2,Nd(t,i,s,l)}finally{oe.p=d,Q.T=h}}function DS(t,i,s,l){var h=Q.T;Q.T=null;var d=oe.p;try{oe.p=8,Nd(t,i,s,l)}finally{oe.p=d,Q.T=h}}function Nd(t,i,s,l){if(pc){var h=Od(l);if(h===null)yd(t,i,l,gc,s),V_(t,l);else if(OS(h,t,i,s,l))l.stopPropagation();else if(V_(t,l),i&4&&-1<NS.indexOf(t)){for(;h!==null;){var d=Kn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=xn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Ft(v);T.entanglements[1]|=I,v&=~I}si(d),(Ge&6)===0&&(Ju=_n()+500,ll(0))}}break;case 13:T=hs(d,2),T!==null&&gn(T,d,2),tc(),Dd(d,2)}if(d=Od(l),d===null&&yd(t,i,l,gc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else yd(t,i,l,null,s)}}function Od(t){return t=Tn(t),xd(t)}var gc=null;function xd(t){if(gc=null,t=vi(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return gc=t,null}function M_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vh()){case fo:return 2;case Fa:return 8;case Wr:case Ph:return 32;case Ga:return 268435456;default:return 32}default:return 32}}var Md=!1,br=null,wr=null,Rr=null,gl=new Map,yl=new Map,Ir=[],NS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(t,i){switch(t){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(i.pointerId)}}function _l(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Kn(i),i!==null&&x_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function OS(t,i,s,l,h){switch(i){case"focusin":return br=_l(br,t,i,s,l,h),!0;case"dragenter":return wr=_l(wr,t,i,s,l,h),!0;case"mouseover":return Rr=_l(Rr,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return gl.set(d,_l(gl.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,yl.set(d,_l(yl.get(d)||null,t,i,s,l,h)),!0}return!1}function P_(t){var i=vi(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,tu(t.priority,function(){if(s.tag===13){var l=pn();l=tr(l);var h=hs(s,l);h!==null&&gn(h,s,l),Dd(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Od(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Si=l,s.target.dispatchEvent(l),Si=null}else return i=Kn(s),i!==null&&x_(i),t.blockedOn=s,!1;i.shift()}return!0}function k_(t,i,s){yc(t)&&s.delete(i)}function xS(){Md=!1,br!==null&&yc(br)&&(br=null),wr!==null&&yc(wr)&&(wr=null),Rr!==null&&yc(Rr)&&(Rr=null),gl.forEach(k_),yl.forEach(k_)}function _c(t,i){t.blockedOn===i&&(t.blockedOn=null,Md||(Md=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xS)))}var vc=null;function U_(t){vc!==t&&(vc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vc===t&&(vc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(xd(l||s)===null)continue;break}var d=Kn(s);d!==null&&(t.splice(i,3),i-=3,xf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function vl(t){function i(I){return _c(I,t)}br!==null&&_c(br,t),wr!==null&&_c(wr,t),Rr!==null&&_c(Rr,t),gl.forEach(i),yl.forEach(i);for(var s=0;s<Ir.length;s++){var l=Ir[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ir.length&&(s=Ir[0],s.blockedOn===null);)P_(s),s.blockedOn===null&&Ir.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],v=h[mt]||null;if(typeof d=="function")v||U_(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[mt]||null)T=v.formAction;else if(xd(h)!==null)continue}else T=v.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),U_(s)}}}function Vd(t){this._internalRoot=t}Ec.prototype.render=Vd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=pn();N_(s,l,t,i,null,null)},Ec.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;N_(t.current,2,null,t,null,null),tc(),i[vn]=null}};function Ec(t){this._internalRoot=t}Ec.prototype.unstable_scheduleHydration=function(t){if(t){var i=nr();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Ir.length&&i!==0&&i<Ir[s].priority;s++);Ir.splice(s,0,t),s===0&&P_(t)}};var L_=e.version;if(L_!=="19.1.0")throw Error(a(527,L_,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var MS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{ot=Tc.inject(MS),Fe=Tc}catch{}}return El.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=ey,d=ty,v=ny,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=C_(t,1,!1,null,null,s,l,h,d,v,T,null),t[vn]=i.current,gd(t),new Vd(i)},El.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=ey,v=ty,T=ny,I=null,q=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(q=s.formState)),i=C_(t,1,!0,i,s??null,l,h,d,v,T,I,q),i.context=D_(null),s=i.current,l=pn(),l=tr(l),h=cr(l),h.callback=null,hr(s,h,l),s=l,i.current.lanes=s,_i(i,s),si(i),t[vn]=i.current,gd(t),new Ec(i)},El.version="19.1.0",El}var K_;function qS(){if(K_)return kd.exports;K_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=BS(),kd.exports}var HS=qS();const jS=wE(HS);var Tl={},Q_;function FS(){if(Q_)return Tl;Q_=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.parse=f,Tl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,P){const M=new u,$=w.length;if($<2)return M;const j=(P==null?void 0:P.decode)||E;let X=0;do{const re=w.indexOf("=",X);if(re===-1)break;const te=w.indexOf(";",X),se=te===-1?$:te;if(re>se){X=w.lastIndexOf(";",re-1)+1;continue}const ue=p(w,X,re),fe=m(w,re,ue),D=w.slice(ue,fe);if(M[D]===void 0){let b=p(w,re+1,se),R=m(w,se,b);const N=j(w.slice(b,R));M[D]=N}X=se+1}while(X<$);return M}function p(w,P,M){do{const $=w.charCodeAt(P);if($!==32&&$!==9)return P}while(++P<M);return M}function m(w,P,M){for(;P>M;){const $=w.charCodeAt(--P);if($!==32&&$!==9)return P+1}return M}function g(w,P,M){const $=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const j=$(P);if(!e.test(j))throw new TypeError(`argument val is invalid: ${P}`);let X=w+"="+j;if(!M)return X;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);X+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);X+="; Domain="+M.domain}if(M.path){if(!a.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);X+="; Path="+M.path}if(M.expires){if(!S(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);X+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(X+="; HttpOnly"),M.secure&&(X+="; Secure"),M.partitioned&&(X+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return X}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function S(w){return o.call(w)==="[object Date]"}return Tl}FS();var Y_="popstate";function GS(r={}){function e(a,o){let{pathname:u,search:f,hash:p}=a.location;return Jd("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:xl(o)}return QS(e,n,null,r)}function it(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KS(){return Math.random().toString(36).substring(2,10)}function X_(r,e){return{usr:r.state,key:r.key,idx:e}}function Jd(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?no(e):e,state:n,key:e&&e.key||a||KS()}}function xl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function no(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function QS(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,p="POP",m=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){p="POP";let j=E(),X=j==null?null:j-g;g=j,m&&m({action:p,location:$.location,delta:X})}function w(j,X){p="PUSH";let re=Jd($.location,j,X);g=E()+1;let te=X_(re,g),se=$.createHref(re);try{f.pushState(te,"",se)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(se)}u&&m&&m({action:p,location:$.location,delta:1})}function P(j,X){p="REPLACE";let re=Jd($.location,j,X);g=E();let te=X_(re,g),se=$.createHref(re);f.replaceState(te,"",se),u&&m&&m({action:p,location:$.location,delta:0})}function M(j){let X=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof j=="string"?j:xl(j);return re=re.replace(/ $/,"%20"),it(X,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,X)}let $={get action(){return p},get location(){return r(o,f)},listen(j){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Y_,S),m=j,()=>{o.removeEventListener(Y_,S),m=null}},createHref(j){return e(o,j)},createURL:M,encodeLocation(j){let X=M(j);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:w,replace:P,go(j){return f.go(j)}};return $}function RE(r,e,n="/"){return YS(r,e,n,!1)}function YS(r,e,n,a){let o=typeof e=="string"?no(e):e,u=Yi(o.pathname||"/",n);if(u==null)return null;let f=IE(r);XS(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=sb(u);p=rb(f[m],g,a)}return p}function IE(r,e=[],n=[],a=""){let o=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(it(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let g=Ki([a,m.relativePath]),E=n.concat(m);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),IE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:nb(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let m of CE(u.path))o(u,f,m)}),e}function CE(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=CE(a.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function XS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:ib(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var $S=/^:[\w-]+$/,ZS=3,WS=2,JS=1,eb=10,tb=-2,$_=r=>r==="*";function nb(r,e){let n=r.split("/"),a=n.length;return n.some($_)&&(a+=tb),e&&(a+=WS),n.filter(o=>!$_(o)).reduce((o,u)=>o+($S.test(u)?ZS:u===""?JS:eb),a)}function ib(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function rb(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let p=0;p<a.length;++p){let m=a[p],g=p===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=qc({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),w=m.route;if(!S&&g&&n&&!a[a.length-1].route.index&&(S=qc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Ki([u,S.pathname]),pathnameBase:cb(Ki([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=Ki([u,S.pathnameBase]))}return f}function qc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=ab(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:a.reduce((g,{paramName:E,isOptional:S},w)=>{if(E==="*"){let M=p[w]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const P=p[w];return S&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function ab(r,e=!1,n=!0){qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(a.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function sb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Yi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function ob(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?no(r):r;return{pathname:n?n.startsWith("/")?n:lb(n,e):e,search:hb(a),hash:fb(o)}}function lb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Bd(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ub(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cm(r){let e=ub(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Dm(r,e,n,a=!1){let o;typeof r=="string"?o=no(r):(o={...r},it(!o.pathname||!o.pathname.includes("?"),Bd("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Bd("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Bd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let S=e.length-1;if(!a&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}p=S>=0?e[S]:"/"}let m=ob(o,p),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}var Ki=r=>r.join("/").replace(/\/\/+/g,"/"),cb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),hb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,fb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function db(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var DE=["POST","PUT","PATCH","DELETE"];new Set(DE);var mb=["GET",...DE];new Set(mb);var io=G.createContext(null);io.displayName="DataRouter";var lh=G.createContext(null);lh.displayName="DataRouterState";var NE=G.createContext({isTransitioning:!1});NE.displayName="ViewTransition";var pb=G.createContext(new Map);pb.displayName="Fetchers";var gb=G.createContext(null);gb.displayName="Await";var Hn=G.createContext(null);Hn.displayName="Navigation";var ql=G.createContext(null);ql.displayName="Location";var jn=G.createContext({outlet:null,matches:[],isDataRoute:!1});jn.displayName="Route";var Nm=G.createContext(null);Nm.displayName="RouteError";function yb(r,{relative:e}={}){it(ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=G.useContext(Hn),{hash:o,pathname:u,search:f}=Hl(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Ki([n,u])),a.createHref({pathname:p,search:f,hash:o})}function ro(){return G.useContext(ql)!=null}function Kr(){return it(ro(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(ql).location}var OE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xE(r){G.useContext(Hn).static||G.useLayoutEffect(r)}function Om(){let{isDataRoute:r}=G.useContext(jn);return r?Nb():_b()}function _b(){it(ro(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(io),{basename:e,navigator:n}=G.useContext(Hn),{matches:a}=G.useContext(jn),{pathname:o}=Kr(),u=JSON.stringify(Cm(a)),f=G.useRef(!1);return xE(()=>{f.current=!0}),G.useCallback((m,g={})=>{if(qn(f.current,OE),!f.current)return;if(typeof m=="number"){n.go(m);return}let E=Dm(m,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ki([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}G.createContext(null);function ME(){let{matches:r}=G.useContext(jn),e=r[r.length-1];return e?e.params:{}}function Hl(r,{relative:e}={}){let{matches:n}=G.useContext(jn),{pathname:a}=Kr(),o=JSON.stringify(Cm(n));return G.useMemo(()=>Dm(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function vb(r,e){return VE(r,e)}function VE(r,e,n,a){var re;it(ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(Hn),{matches:f}=G.useContext(jn),p=f[f.length-1],m=p?p.params:{},g=p?p.pathname:"/",E=p?p.pathnameBase:"/",S=p&&p.route;{let te=S&&S.path||"";PE(g,!S||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let w=Kr(),P;if(e){let te=typeof e=="string"?no(e):e;it(E==="/"||((re=te.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),P=te}else P=w;let M=P.pathname||"/",$=M;if(E!=="/"){let te=E.replace(/^\//,"").split("/");$="/"+M.replace(/^\//,"").split("/").slice(te.length).join("/")}let j=!u&&n&&n.matches&&n.matches.length>0?n.matches:RE(r,{pathname:$});qn(S||j!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),qn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=bb(j&&j.map(te=>Object.assign({},te,{params:Object.assign({},m,te.params),pathname:Ki([E,o.encodeLocation?o.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:Ki([E,o.encodeLocation?o.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),f,n,a);return e&&X?G.createElement(ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},X):X}function Eb(){let r=Db(),e=db(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var Tb=G.createElement(Eb,null),Ab=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(jn.Provider,{value:this.props.routeContext},G.createElement(Nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sb({routeContext:r,match:e,children:n}){let a=G.useContext(io);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(jn.Provider,{value:r},n)}function bb(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);it(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:E,errors:S}=n,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||w){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,E)=>{let S,w=!1,P=null,M=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,P=g.route.errorElement||Tb,f&&(p<0&&E===0?(PE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,M=null):p===E&&(w=!0,M=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),j=()=>{let X;return S?X=P:w?X=M:g.route.Component?X=G.createElement(g.route.Component,null):g.route.element?X=g.route.element:X=m,G.createElement(Sb,{match:g,routeContext:{outlet:m,matches:$,isDataRoute:n!=null},children:X})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(Ab,{location:n.location,revalidation:n.revalidation,component:P,error:S,children:j(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):j()},null)}function xm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wb(r){let e=G.useContext(io);return it(e,xm(r)),e}function Rb(r){let e=G.useContext(lh);return it(e,xm(r)),e}function Ib(r){let e=G.useContext(jn);return it(e,xm(r)),e}function Mm(r){let e=Ib(r),n=e.matches[e.matches.length-1];return it(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Cb(){return Mm("useRouteId")}function Db(){var a;let r=G.useContext(Nm),e=Rb("useRouteError"),n=Mm("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[n]}function Nb(){let{router:r}=wb("useNavigate"),e=Mm("useNavigate"),n=G.useRef(!1);return xE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{qn(n.current,OE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Z_={};function PE(r,e,n){!e&&!Z_[r]&&(Z_[r]=!0,qn(!1,n))}G.memo(Ob);function Ob({routes:r,future:e,state:n}){return VE(r,void 0,n,e)}function xb({to:r,replace:e,state:n,relative:a}){it(ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(Hn);qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(jn),{pathname:f}=Kr(),p=Om(),m=Dm(r,Cm(u),f,a==="path"),g=JSON.stringify(m);return G.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:a})},[p,g,a,e,n]),null}function Hi(r){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mb({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){it(!ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=no(n));let{pathname:m="/",search:g="",hash:E="",state:S=null,key:w="default"}=n,P=G.useMemo(()=>{let M=Yi(m,f);return M==null?null:{location:{pathname:M,search:g,hash:E,state:S,key:w},navigationType:a}},[f,m,g,E,S,w,a]);return qn(P!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:G.createElement(Hn.Provider,{value:p},G.createElement(ql.Provider,{children:e,value:P}))}function Vb({children:r,location:e}){return vb(em(r),e)}function em(r,e=[]){let n=[];return G.Children.forEach(r,(a,o)=>{if(!G.isValidElement(a))return;let u=[...e,o];if(a.type===G.Fragment){n.push.apply(n,em(a.props.children,u));return}it(a.type===Hi,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=em(a.props.children,u)),n.push(f)}),n}var Dc="get",Nc="application/x-www-form-urlencoded";function uh(r){return r!=null&&typeof r.tagName=="string"}function Pb(r){return uh(r)&&r.tagName.toLowerCase()==="button"}function kb(r){return uh(r)&&r.tagName.toLowerCase()==="form"}function Ub(r){return uh(r)&&r.tagName.toLowerCase()==="input"}function Lb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function zb(r,e){return r.button===0&&(!e||e==="_self")&&!Lb(r)}var Ac=null;function Bb(){if(Ac===null)try{new FormData(document.createElement("form"),0),Ac=!1}catch{Ac=!0}return Ac}var qb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qd(r){return r!=null&&!qb.has(r)?(qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nc}"`),null):r}function Hb(r,e){let n,a,o,u,f;if(kb(r)){let p=r.getAttribute("action");a=p?Yi(p,e):null,n=r.getAttribute("method")||Dc,o=qd(r.getAttribute("enctype"))||Nc,u=new FormData(r)}else if(Pb(r)||Ub(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(a=m?Yi(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Dc,o=qd(r.getAttribute("formenctype"))||qd(p.getAttribute("enctype"))||Nc,u=new FormData(p,r),!Bb()){let{name:g,type:E,value:S}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,S)}}else{if(uh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dc,a=null,o=Nc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Vm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function jb(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Gb(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await jb(u,n);return f.links?f.links():[]}return[]}));return Xb(a.flat(1).filter(Fb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function W_(r,e,n,a,o,u){let f=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var E;return n[g].pathname!==m.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>f(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{var S;let E=a.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Kb(r,e,{includeHydrateFallback:n}={}){return Qb(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Qb(r){return[...new Set(r)]}function Yb(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function Xb(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(Yb(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}var $b=new Set([100,101,204,205]);function Zb(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Yi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function kE(){let r=G.useContext(io);return Vm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Wb(){let r=G.useContext(lh);return Vm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Pm=G.createContext(void 0);Pm.displayName="FrameworkContext";function UE(){let r=G.useContext(Pm);return Vm(r,"You must render this element inside a <HydratedRouter> element"),r}function Jb(r,e){let n=G.useContext(Pm),[a,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,w=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=X=>{X.forEach(re=>{f(re.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),G.useEffect(()=>{if(a){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[a]);let P=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Al(p,P),onBlur:Al(m,M),onMouseEnter:Al(g,P),onMouseLeave:Al(E,M),onTouchStart:Al(S,P)}]:[!1,w,{}]}function Al(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function ew({page:r,...e}){let{router:n}=kE(),a=G.useMemo(()=>RE(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?G.createElement(nw,{page:r,matches:a,...e}):null}function tw(r){let{manifest:e,routeModules:n}=UE(),[a,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return Gb(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),a}function nw({page:r,matches:e,...n}){let a=Kr(),{manifest:o,routeModules:u}=UE(),{basename:f}=kE(),{loaderData:p,matches:m}=Wb(),g=G.useMemo(()=>W_(r,e,m,o,a,"data"),[r,e,m,o,a]),E=G.useMemo(()=>W_(r,e,m,o,a,"assets"),[r,e,m,o,a]),S=G.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let M=new Set,$=!1;if(e.forEach(X=>{var te;let re=o.routes[X.route.id];!re||!re.hasLoader||(!g.some(se=>se.route.id===X.route.id)&&X.route.id in p&&((te=u[X.route.id])!=null&&te.shouldRevalidate)||re.hasClientLoader?$=!0:M.add(X.route.id))}),M.size===0)return[];let j=Zb(r,f);return $&&M.size>0&&j.searchParams.set("_routes",e.filter(X=>M.has(X.route.id)).map(X=>X.route.id).join(",")),[j.pathname+j.search]},[f,p,a,o,g,e,r,u]),w=G.useMemo(()=>Kb(E,o),[E,o]),P=tw(E);return G.createElement(G.Fragment,null,S.map(M=>G.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),w.map(M=>G.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),P.map(({key:M,link:$})=>G.createElement("link",{key:M,...$})))}function iw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var LE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LE&&(window.__reactRouterVersion="7.5.3")}catch{}function rw({basename:r,children:e,window:n}){let a=G.useRef();a.current==null&&(a.current=GS({window:n,v5Compat:!0}));let o=a.current,[u,f]=G.useState({action:o.action,location:o.location}),p=G.useCallback(m=>{G.startTransition(()=>f(m))},[f]);return G.useLayoutEffect(()=>o.listen(p),[o,p]),G.createElement(Mb,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var zE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,li=G.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:p,target:m,to:g,preventScrollReset:E,viewTransition:S,...w},P){let{basename:M}=G.useContext(Hn),$=typeof g=="string"&&zE.test(g),j,X=!1;if(typeof g=="string"&&$&&(j=g,LE))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=Yi(N.pathname,M);N.origin===R.origin&&V!=null?g=V+N.search+N.hash:X=!0}catch{qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=yb(g,{relative:o}),[te,se,ue]=Jb(a,w),fe=lw(g,{replace:f,state:p,target:m,preventScrollReset:E,relative:o,viewTransition:S});function D(R){e&&e(R),R.defaultPrevented||fe(R)}let b=G.createElement("a",{...w,...ue,href:j||re,onClick:X||u?e:D,ref:iw(P,se),target:m,"data-discover":!$&&n==="render"?"true":void 0});return te&&!$?G.createElement(G.Fragment,null,b,G.createElement(ew,{page:re})):b});li.displayName="Link";var aw=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:p,children:m,...g},E){let S=Hl(f,{relative:g.relative}),w=Kr(),P=G.useContext(lh),{navigator:M,basename:$}=G.useContext(Hn),j=P!=null&&dw(S)&&p===!0,X=M.encodeLocation?M.encodeLocation(S).pathname:S.pathname,re=w.pathname,te=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(re=re.toLowerCase(),te=te?te.toLowerCase():null,X=X.toLowerCase()),te&&$&&(te=Yi(te,$)||te);const se=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ue=re===X||!o&&re.startsWith(X)&&re.charAt(se)==="/",fe=te!=null&&(te===X||!o&&te.startsWith(X)&&te.charAt(X.length)==="/"),D={isActive:ue,isPending:fe,isTransitioning:j},b=ue?e:void 0,R;typeof a=="function"?R=a(D):R=[a,ue?"active":null,fe?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(D):u;return G.createElement(li,{...g,"aria-current":b,className:R,ref:E,style:N,to:f,viewTransition:p},typeof m=="function"?m(D):m)});aw.displayName="NavLink";var sw=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Dc,action:p,onSubmit:m,relative:g,preventScrollReset:E,viewTransition:S,...w},P)=>{let M=hw(),$=fw(p,{relative:g}),j=f.toLowerCase()==="get"?"get":"post",X=typeof p=="string"&&zE.test(p),re=te=>{if(m&&m(te),te.defaultPrevented)return;te.preventDefault();let se=te.nativeEvent.submitter,ue=(se==null?void 0:se.getAttribute("formmethod"))||f;M(se||te.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return G.createElement("form",{ref:P,method:j,action:$,onSubmit:a?m:re,...w,"data-discover":!X&&r==="render"?"true":void 0})});sw.displayName="Form";function ow(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BE(r){let e=G.useContext(io);return it(e,ow(r)),e}function lw(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Om(),m=Kr(),g=Hl(r,{relative:u});return G.useCallback(E=>{if(zb(E,e)){E.preventDefault();let S=n!==void 0?n:xl(m)===xl(g);p(r,{replace:S,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[m,p,g,n,a,e,r,o,u,f])}var uw=0,cw=()=>`__${String(++uw)}__`;function hw(){let{router:r}=BE("useSubmit"),{basename:e}=G.useContext(Hn),n=Cb();return G.useCallback(async(a,o={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=Hb(a,e);if(o.navigate===!1){let E=o.fetcherKey||cw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function fw(r,{relative:e}={}){let{basename:n}=G.useContext(Hn),a=G.useContext(jn);it(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Hl(r||".",{relative:e})},f=Kr();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(E=>E==="")){p.delete("index"),m.filter(S=>S).forEach(S=>p.append("index",S));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ki([n,u.pathname])),xl(u)}function dw(r,e={}){let n=G.useContext(NE);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=BE("useViewTransitionState"),o=Hl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Yi(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=Yi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return qc(o.pathname,f)!=null||qc(o.pathname,u)!=null}new TextEncoder;[...$b];const mw=()=>{};var J_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},pw=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},HE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,E=u>>2,S=(u&3)<<4|p>>4;let w=(p&15)<<2|g>>6,P=g&63;m||(P=64,f||(w=64)),a.push(n[E],n[S],n[w],n[P])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(qE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):pw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||S==null)throw new gw;const w=u<<2|p>>4;if(a.push(w),g!==64){const P=p<<4&240|g>>2;if(a.push(P),S!==64){const M=g<<6&192|S;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class gw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yw=function(r){const e=qE(r);return HE.encodeByteArray(e,!0)},Hc=function(r){return yw(r).replace(/\./g,"")},jE=function(r){try{return HE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=()=>_w().__FIREBASE_DEFAULTS__,Ew=()=>{if(typeof process>"u"||typeof J_>"u")return;const r=J_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Tw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&jE(r[1]);return e&&JSON.parse(e)},ch=()=>{try{return mw()||vw()||Ew()||Tw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},FE=r=>{var e,n;return(n=(e=ch())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Aw=r=>{const e=FE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},GE=()=>{var r;return(r=ch())===null||r===void 0?void 0:r.config},KE=r=>{var e;return(e=ch())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Hc(JSON.stringify(n)),Hc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ww(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function Rw(){var r;const e=(r=ch())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Iw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Dw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nw(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Ow(){return!Rw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xw(){try{return typeof indexedDB=="object"}catch{return!1}}function Mw(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="FirebaseError";class Ji extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=Vw,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Pw(u,a):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Ji(o,p,a)}}function Pw(r,e){return r.replace(kw,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const kw=/\{\$([^}]+)}/g;function Uw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ka(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(ev(u)&&ev(f)){if(!ka(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function ev(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Lw(r,e){const n=new zw(r,e);return n.subscribe.bind(n)}class zw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");Bw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Hd),o.error===void 0&&(o.error=Hd),o.complete===void 0&&(o.complete=Hd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Hd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(r){return r&&r._delegate?r._delegate:r}class Ua{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new Sw;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jw(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);a===p&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Hw(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hw(r){return r===xa?void 0:r}function jw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const Gw={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Kw=Me.INFO,Qw={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Yw=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=Qw[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class km{constructor(e){this.name=e,this._logLevel=Kw,this._logHandler=Yw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Gw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const Xw=(r,e)=>e.some(n=>r instanceof n);let tv,nv;function $w(){return tv||(tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zw(){return nv||(nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,tm=new WeakMap,YE=new WeakMap,jd=new WeakMap,Um=new WeakMap;function Ww(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Vr(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&QE.set(n,r)}).catch(()=>{}),Um.set(e,r),e}function Jw(r){if(tm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});tm.set(r,e)}let nm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return tm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||YE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function eR(r){nm=r(nm)}function tR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Fd(this),e,...n);return YE.set(a,e.sort?e.sort():[e]),Vr(a)}:Zw().includes(r)?function(...e){return r.apply(Fd(this),e),Vr(QE.get(this))}:function(...e){return Vr(r.apply(Fd(this),e))}}function nR(r){return typeof r=="function"?tR(r):(r instanceof IDBTransaction&&Jw(r),Xw(r,$w())?new Proxy(r,nm):r)}function Vr(r){if(r instanceof IDBRequest)return Ww(r);if(jd.has(r))return jd.get(r);const e=nR(r);return e!==r&&(jd.set(r,e),Um.set(e,r)),e}const Fd=r=>Um.get(r);function iR(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=Vr(f);return a&&f.addEventListener("upgradeneeded",m=>{a(Vr(f.result),m.oldVersion,m.newVersion,Vr(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const rR=["get","getKey","getAll","getAllKeys","count"],aR=["put","add","delete","clear"],Gd=new Map;function iv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=aR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||rR.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return Gd.set(e,u),u}eR(r=>({...r,get:(e,n,a)=>iv(e,n)||r.get(e,n,a),has:(e,n)=>!!iv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function oR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const im="@firebase/app",rv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new km("@firebase/app"),lR="@firebase/app-compat",uR="@firebase/analytics-compat",cR="@firebase/analytics",hR="@firebase/app-check-compat",fR="@firebase/app-check",dR="@firebase/auth",mR="@firebase/auth-compat",pR="@firebase/database",gR="@firebase/data-connect",yR="@firebase/database-compat",_R="@firebase/functions",vR="@firebase/functions-compat",ER="@firebase/installations",TR="@firebase/installations-compat",AR="@firebase/messaging",SR="@firebase/messaging-compat",bR="@firebase/performance",wR="@firebase/performance-compat",RR="@firebase/remote-config",IR="@firebase/remote-config-compat",CR="@firebase/storage",DR="@firebase/storage-compat",NR="@firebase/firestore",OR="@firebase/vertexai",xR="@firebase/firestore-compat",MR="firebase",VR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="[DEFAULT]",PR={[im]:"fire-core",[lR]:"fire-core-compat",[cR]:"fire-analytics",[uR]:"fire-analytics-compat",[fR]:"fire-app-check",[hR]:"fire-app-check-compat",[dR]:"fire-auth",[mR]:"fire-auth-compat",[pR]:"fire-rtdb",[gR]:"fire-data-connect",[yR]:"fire-rtdb-compat",[_R]:"fire-fn",[vR]:"fire-fn-compat",[ER]:"fire-iid",[TR]:"fire-iid-compat",[AR]:"fire-fcm",[SR]:"fire-fcm-compat",[bR]:"fire-perf",[wR]:"fire-perf-compat",[RR]:"fire-rc",[IR]:"fire-rc-compat",[CR]:"fire-gcs",[DR]:"fire-gcs-compat",[NR]:"fire-fst",[xR]:"fire-fst-compat",[OR]:"fire-vertex","fire-js":"fire-js",[MR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,kR=new Map,am=new Map;function av(r,e){try{r.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Fs(r){const e=r.name;if(am.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,r);for(const n of jc.values())av(n,r);for(const n of kR.values())av(n,r);return!0}function Lm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ln(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new jl("app","Firebase",UR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=VR;function XE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:rm,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Pr.create("bad-app-name",{appName:String(o)});if(n||(n=GE()),!n)throw Pr.create("no-options");const u=jc.get(o);if(u){if(ka(n,u.options)&&ka(a,u.config))return u;throw Pr.create("duplicate-app",{appName:o})}const f=new Fw(o);for(const m of am.values())f.addComponent(m);const p=new LR(n,a,f);return jc.set(o,p),p}function $E(r=rm){const e=jc.get(r);if(!e&&r===rm&&GE())return XE();if(!e)throw Pr.create("no-app",{appName:r});return e}function kr(r,e,n){var a;let o=(a=PR[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(p.join(" "));return}Fs(new Ua(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="firebase-heartbeat-database",BR=1,Ml="firebase-heartbeat-store";let Kd=null;function ZE(){return Kd||(Kd=iR(zR,BR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ml)}catch(n){console.warn(n)}}}}).catch(r=>{throw Pr.create("idb-open",{originalErrorMessage:r.message})})),Kd}async function qR(r){try{const n=(await ZE()).transaction(Ml),a=await n.objectStore(Ml).get(WE(r));return await n.done,a}catch(e){if(e instanceof Ji)Xi.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(n.message)}}}async function sv(r,e){try{const a=(await ZE()).transaction(Ml,"readwrite");await a.objectStore(Ml).put(e,WE(r)),await a.done}catch(n){if(n instanceof Ji)Xi.warn(n.message);else{const a=Pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xi.warn(a.message)}}}function WE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1024,jR=30;class FR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ov();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>jR){const f=QR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Xi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ov(),{heartbeatsToSend:a,unsentEntries:o}=GR(this._heartbeatsCache.heartbeats),u=Hc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Xi.warn(n),""}}}function ov(){return new Date().toISOString().substring(0,10)}function GR(r,e=HR){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),lv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),lv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class KR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xw()?Mw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return sv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return sv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function lv(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function QR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(r){Fs(new Ua("platform-logger",e=>new sR(e),"PRIVATE")),Fs(new Ua("heartbeat",e=>new FR(e),"PRIVATE")),kr(im,rv,r),kr(im,rv,"esm2017"),kr("fire-js","")}YR("");function zm(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function JE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XR=JE,e0=new jl("auth","Firebase",JE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new km("@firebase/auth");function $R(r,...e){Fc.logLevel<=Me.WARN&&Fc.warn(`Auth (${ao}): ${r}`,...e)}function Oc(r,...e){Fc.logLevel<=Me.ERROR&&Fc.error(`Auth (${ao}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(r,...e){throw qm(r,...e)}function Bn(r,...e){return qm(r,...e)}function Bm(r,e,n){const a=Object.assign(Object.assign({},XR()),{[e]:n});return new jl("auth","Firebase",a).create(e,{appName:r.name})}function Pa(r){return Bm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZR(r,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&di(r,"argument-error"),Bm(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qm(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return e0.create(r,...e)}function Ae(r,e,...n){if(!r)throw qm(e,...n)}function Fi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oc(e),new Error(e)}function $i(r,e){r||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function WR(){return uv()==="http:"||uv()==="https:"}function uv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WR()||Cw()||"connection"in navigator)?navigator.onLine:!0}function e1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=ww()||Dw()}get(){return JR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(r,e){$i(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],i1=new Gl(3e4,6e4);function jm(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function so(r,e,n,a,o={}){return n0(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const p=Fl(Object.assign({key:r.config.apiKey},f)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:m},u);return Iw()||(g.referrerPolicy="no-referrer"),t0.fetch()(await i0(r,r.config.apiHost,n,p),g)})}async function n0(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},t1),e);try{const o=new a1(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Sc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw Sc(r,"user-disabled",f);const E=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Bm(r,E,g);di(r,E)}}catch(o){if(o instanceof Ji)throw o;di(r,"network-request-failed",{message:String(o)})}}async function r1(r,e,n,a,o={}){const u=await so(r,e,n,a,o);return"mfaPendingCredential"in u&&di(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function i0(r,e,n,a){const o=`${e}${n}?${a}`,u=r,f=u.config.emulator?Hm(r.config,o):`${r.config.apiScheme}://${o}`;return n1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class a1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Bn(this.auth,"network-request-failed")),i1.get())})}}function Sc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Bn(r,e,a);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(r,e){return so(r,"POST","/v1/accounts:delete",e)}async function Gc(r,e){return so(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function o1(r,e=!1){const n=Ht(r),a=await n.getIdToken(e),o=Fm(a);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Il(Qd(o.auth_time)),issuedAtTime:Il(Qd(o.iat)),expirationTime:Il(Qd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Qd(r){return Number(r)*1e3}function Fm(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=jE(n);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function cv(r){const e=Fm(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ji&&l1(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function l1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(r){var e;const n=r.auth,a=await r.getIdToken(),o=await Vl(r,Gc(n,{idToken:a}));Ae(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?r0(u.providerUserInfo):[],p=h1(r.providerData,f),m=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),E=m?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new om(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function c1(r){const e=Ht(r);await Kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h1(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function r0(r){return r.map(e=>{var{providerId:n}=e,a=zm(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(r,e){const n=await n0(r,{},async()=>{const a=Fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await i0(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",t0.fetch()(f,{method:"POST",headers:p,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function d1(r,e){return so(r,"POST","/v2/accounts:revokeToken",jm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=cv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await f1(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new Bs;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bs,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class zn{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=zm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new om(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Vl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return o1(this,e)}reload(){return c1(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Pa(this.auth));const e=await this.getIdToken();return await Vl(this,s1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,f,p,m,g,E;const S=(a=n.displayName)!==null&&a!==void 0?a:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(p=n.tenantId)!==null&&p!==void 0?p:void 0,j=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,X=(g=n.createdAt)!==null&&g!==void 0?g:void 0,re=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:te,emailVerified:se,isAnonymous:ue,providerData:fe,stsTokenManager:D}=n;Ae(te&&D,e,"internal-error");const b=Bs.fromJSON(this.name,D);Ae(typeof te=="string",e,"internal-error"),Dr(S,e.name),Dr(w,e.name),Ae(typeof se=="boolean",e,"internal-error"),Ae(typeof ue=="boolean",e,"internal-error"),Dr(P,e.name),Dr(M,e.name),Dr($,e.name),Dr(j,e.name),Dr(X,e.name),Dr(re,e.name);const R=new zn({uid:te,auth:e,email:w,emailVerified:se,displayName:S,isAnonymous:ue,photoURL:M,phoneNumber:P,tenantId:$,stsTokenManager:b,createdAt:X,lastLoginAt:re});return fe&&Array.isArray(fe)&&(R.providerData=fe.map(N=>Object.assign({},N))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,n,a=!1){const o=new Bs;o.updateFromServerResponse(n);const u=new zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Kc(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?r0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Bs;p.updateFromIdToken(a);const m=new zn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Map;function Gi(r){$i(r instanceof Function,"Expected a class definition");let e=hv.get(r);return e?($i(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,hv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}a0.type="NONE";const fv=a0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(r,e,n){return`firebase:${r}:${e}:${n}`}class qs{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=xc(this.userKey,o.apiKey,u),this.fullPersistenceKey=xc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gc(this.auth,{idToken:e}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new qs(Gi(fv),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Gi(fv);const f=xc(a,e.config.apiKey,e.name);let p=null;for(const g of n)try{const E=await g._get(f);if(E){let S;if(typeof E=="string"){const w=await Gc(e,{idToken:E}).catch(()=>{});if(!w)break;S=await zn._fromGetAccountInfoResponse(e,w,E)}else S=zn._fromJSON(e,E);g!==u&&(p=S),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new qs(u,e,a):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new qs(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(s0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h0(e))return"Blackberry";if(f0(e))return"Webos";if(o0(e))return"Safari";if((e.includes("chrome/")||l0(e))&&!e.includes("edge/"))return"Chrome";if(c0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function s0(r=$t()){return/firefox\//i.test(r)}function o0(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l0(r=$t()){return/crios\//i.test(r)}function u0(r=$t()){return/iemobile/i.test(r)}function c0(r=$t()){return/android/i.test(r)}function h0(r=$t()){return/blackberry/i.test(r)}function f0(r=$t()){return/webos/i.test(r)}function Gm(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function m1(r=$t()){var e;return Gm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function p1(){return Nw()&&document.documentMode===10}function d0(r=$t()){return Gm(r)||c0(r)||f0(r)||h0(r)||/windows phone/i.test(r)||u0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(r,e=[]){let n;switch(r){case"Browser":n=dv($t());break;case"Worker":n=`${dv($t())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,p)=>{try{const m=e(u);f(m)}catch(m){p(m)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(r,e={}){return so(r,"GET","/v2/passwordPolicy",jm(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=6;class v1{constructor(e){var n,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:_1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,f,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mv(this),this.idTokenSubscription=new mv(this),this.beforeStateQueue=new g1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await qs.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gc(this,{idToken:e}),a=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ln(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===p)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Pa(this));const n=e?Ht(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y1(this),n=new v1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jl("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await d1(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gi(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await qs.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,a,o);return()=>{f=!0,m()}}else{const m=e.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$R(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hh(r){return Ht(r)}class mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lw(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T1(r){Km=r}function A1(r){return Km.loadJS(r)}function S1(){return Km.gapiScript}function b1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r,e){const n=Lm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ka(u,e??{}))return o;di(o,"already-initialized")}return n.initialize({options:e})}function R1(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Gi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function I1(r,e,n){const a=hh(r);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=p0(e),{host:f,port:p}=C1(e),m=p===null?"":`:${p}`,g={url:`${u}//${f}${m}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(ka(g,a.config.emulator)&&ka(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,D1()}function p0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function C1(r){const e=p0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:pv(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:pv(f)}}}function pv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function D1(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,n){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(r,e){return r1(r,"POST","/v1/accounts:signInWithIdp",jm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="http://localhost";class La extends g0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new La(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=zm(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new La(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Hs(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Hs(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hs(e,n)}buildRequest(){const e={requestUri:N1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends Qm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Kl{constructor(){super("facebook.com")}static credential(e){return La._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return La._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ji.credential(n,a)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Kl{constructor(){super("github.com")}static credential(e){return La._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Kl{constructor(){super("twitter.com")}static credential(e,n){return La._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return xr.credential(n,a)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await zn._fromIdTokenResponse(e,a,o),f=gv(a);return new Gs({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=gv(a);return new Gs({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function gv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends Ji{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Qc(e,n,a,o)}}function y0(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(r,u,e,a):u})}async function O1(r,e,n=!1){const a=await Vl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Gs._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(r,e,n=!1){const{auth:a}=r;if(Ln(a.app))return Promise.reject(Pa(a));const o="reauthenticate";try{const u=await Vl(r,y0(a,o,e,r),n);Ae(u.idToken,a,"internal-error");const f=Fm(u.idToken);Ae(f,a,"internal-error");const{sub:p}=f;return Ae(r.uid===p,a,"user-mismatch"),Gs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&di(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(r,e,n=!1){if(Ln(r.app))return Promise.reject(Pa(r));const a="signIn",o=await y0(r,a,e),u=await Gs._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}function V1(r,e,n,a){return Ht(r).onIdTokenChanged(e,n,a)}function P1(r,e,n){return Ht(r).beforeAuthStateChanged(e,n)}function k1(r,e,n,a){return Ht(r).onAuthStateChanged(e,n,a)}function U1(r){return Ht(r).signOut()}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=1e3,z1=10;class v0 extends _0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=d0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);p1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,z1):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},L1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}v0.type="LOCAL";const B1=v0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends _0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E0.type="SESSION";const T0=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new fh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(f).map(async g=>g(n.origin,u)),m=await q1(p);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const g=Ym("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function j1(r){ui().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function F1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function K1(){return A0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="firebaseLocalStorageDb",Q1=1,Xc="firebaseLocalStorage",b0="fbase_key";class Ql{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dh(r,e){return r.transaction([Xc],e?"readwrite":"readonly").objectStore(Xc)}function Y1(){const r=indexedDB.deleteDatabase(S0);return new Ql(r).toPromise()}function lm(){const r=indexedDB.open(S0,Q1);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xc,{keyPath:b0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xc)?e(a):(a.close(),await Y1(),e(await lm()))})})}async function yv(r,e,n){const a=dh(r,!0).put({[b0]:e,value:n});return new Ql(a).toPromise()}async function X1(r,e){const n=dh(r,!1).get(e),a=await new Ql(n).toPromise();return a===void 0?null:a.value}function _v(r,e){const n=dh(r,!0).delete(e);return new Ql(n).toPromise()}const $1=800,Z1=3;class w0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>Z1)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(K1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await F1(),!this.activeServiceWorker)return;this.sender=new H1(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lm();return await yv(e,Yc,"1"),await _v(e,Yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>yv(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>X1(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_v(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=dh(o,!1).getAll();return new Ql(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w0.type="LOCAL";const W1=w0;new Gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(r,e){return e?Gi(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends g0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function J1(r){return M1(r.auth,new Xm(r),r.bypassAuthState)}function eI(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),x1(n,new Xm(r),r.bypassAuthState)}async function tI(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),O1(n,new Xm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J1;case"linkViaPopup":case"linkViaRedirect":return tI;case"reauthViaPopup":case"reauthViaRedirect":return eI;default:di(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new Gl(2e3,1e4);async function iI(r,e,n){if(Ln(r.app))return Promise.reject(Bn(r,"operation-not-supported-in-this-environment"));const a=hh(r);ZR(r,e,Qm);const o=R0(a,n);return new Ma(a,"signInViaPopup",e,o).executeNotNull()}class Ma extends I0{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nI.get())};e()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="pendingRedirect",Mc=new Map;class aI extends I0{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Mc.get(this.auth._key());if(!e){try{const a=await sI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Mc.set(this.auth._key(),e)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sI(r,e){const n=uI(e),a=lI(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function oI(r,e){Mc.set(r._key(),e)}function lI(r){return Gi(r._redirectPersistence)}function uI(r){return xc(rI,r.config.apiKey,r.name)}async function cI(r,e,n=!1){if(Ln(r.app))return Promise.reject(Pa(r));const a=hh(r),o=R0(a,e),f=await new aI(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=10*60*1e3;class fI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!C0(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hI&&this.cachedEventUids.clear(),this.cachedEventUids.has(vv(e))}saveEventToCache(e){this.cachedEventUids.add(vv(e)),this.lastProcessedEventTime=Date.now()}}function vv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function C0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(r,e={}){return so(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gI=/^https?/;async function yI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await mI(r);for(const n of e)try{if(_I(n))return}catch{}di(r,"unauthorized-domain")}function _I(r){const e=sm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!gI.test(n))return!1;if(pI.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new Gl(3e4,6e4);function Ev(){const r=ui().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function EI(r){return new Promise((e,n)=>{var a,o,u;function f(){Ev(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ev(),n(Bn(r,"network-request-failed"))},timeout:vI.get()})}if(!((o=(a=ui().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ui().gapi)===null||u===void 0)&&u.load)f();else{const p=b1("iframefcb");return ui()[p]=()=>{gapi.load?f():n(Bn(r,"network-request-failed"))},A1(`${S1()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function TI(r){return Vc=Vc||EI(r),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Gl(5e3,15e3),SI="__/auth/iframe",bI="emulator/auth/iframe",wI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function II(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Hm(e,bI):`https://${r.config.authDomain}/${SI}`,a={apiKey:e.apiKey,appName:r.name,v:ao},o=RI.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Fl(a).slice(1)}`}async function CI(r){const e=await TI(r),n=ui().gapi;return Ae(n,r,"internal-error"),e.open({where:document.body,url:II(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wI,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=Bn(r,"network-request-failed"),p=ui().setTimeout(()=>{u(f)},AI.get());function m(){ui().clearTimeout(p),o(a)}a.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NI=500,OI=600,xI="_blank",MI="http://localhost";class Tv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VI(r,e,n,a=NI,o=OI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const m=Object.assign(Object.assign({},DI),{width:a.toString(),height:o.toString(),top:u,left:f}),g=$t().toLowerCase();n&&(p=l0(g)?xI:n),s0(g)&&(e=e||MI,m.scrollbars="yes");const E=Object.entries(m).reduce((w,[P,M])=>`${w}${P}=${M},`,"");if(m1(g)&&p!=="_self")return PI(e||"",p),new Tv(null);const S=window.open(e||"",p,E);Ae(S,r,"popup-blocked");try{S.focus()}catch{}return new Tv(S)}function PI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="__/auth/handler",UI="emulator/auth/handler",LI=encodeURIComponent("fac");async function Av(r,e,n,a,o,u){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:ao,eventId:o};if(e instanceof Qm){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Uw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof Kl){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const m=await r._getAppCheckToken(),g=m?`#${LI}=${encodeURIComponent(m)}`:"";return`${zI(r)}?${Fl(p).slice(1)}${g}`}function zI({config:r}){return r.emulator?Hm(r,UI):`https://${r.authDomain}/${kI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="webStorageSupport";class BI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T0,this._completeRedirectFn=cI,this._overrideRedirectResult=oI}async _openPopup(e,n,a,o){var u;$i((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Av(e,n,a,sm(),o);return VI(e,f,Ym())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await Av(e,n,a,sm(),o);return j1(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):($i(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await CI(e),a=new fI(e);return n.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yd,{type:Yd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Yd];f!==void 0&&n(!!f),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return d0()||o0()||Gm()}}const qI=BI;var Sv="@firebase/auth",bv="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FI(r){Fs(new Ua("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=a.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m0(r)},g=new E1(a,o,u,m);return R1(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Fs(new Ua("auth-internal",e=>{const n=hh(e.getProvider("auth").getImmediate());return(a=>new HI(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(Sv,bv,jI(r)),kr(Sv,bv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=5*60,KI=KE("authIdTokenMaxAge")||GI;let wv=null;const QI=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>KI)return;const o=n==null?void 0:n.token;wv!==o&&(wv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $m(r=$E()){const e=Lm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=w1(r,{popupRedirectResolver:qI,persistence:[W1,B1,T0]}),a=KE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=QI(u.toString());P1(n,f,()=>f(n.currentUser)),V1(n,p=>f(p))}}const o=FE("auth");return o&&I1(n,`http://${o}`),n}function YI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}T1({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Bn("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",YI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FI("Browser");var Rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ur,D0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,b){function R(){}R.prototype=b.prototype,D.D=b.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(N,V,U){for(var C=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)C[Vt-2]=arguments[Vt];return b.prototype[V].apply(N,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,R){R||(R=0);var N=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)N[V]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(V=0;16>V;++V)N[V]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=D.g[0],R=D.g[1],V=D.g[2];var U=D.g[3],C=b+(U^R&(V^U))+N[0]+3614090360&4294967295;b=R+(C<<7&4294967295|C>>>25),C=U+(V^b&(R^V))+N[1]+3905402710&4294967295,U=b+(C<<12&4294967295|C>>>20),C=V+(R^U&(b^R))+N[2]+606105819&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(b^V&(U^b))+N[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=b+(U^R&(V^U))+N[4]+4118548399&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(V^b&(R^V))+N[5]+1200080426&4294967295,U=b+(C<<12&4294967295|C>>>20),C=V+(R^U&(b^R))+N[6]+2821735955&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(b^V&(U^b))+N[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=b+(U^R&(V^U))+N[8]+1770035416&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(V^b&(R^V))+N[9]+2336552879&4294967295,U=b+(C<<12&4294967295|C>>>20),C=V+(R^U&(b^R))+N[10]+4294925233&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(b^V&(U^b))+N[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=b+(U^R&(V^U))+N[12]+1804603682&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(V^b&(R^V))+N[13]+4254626195&4294967295,U=b+(C<<12&4294967295|C>>>20),C=V+(R^U&(b^R))+N[14]+2792965006&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(b^V&(U^b))+N[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=b+(V^U&(R^V))+N[1]+4129170786&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(b^R))+N[6]+3225465664&4294967295,U=b+(C<<9&4294967295|C>>>23),C=V+(b^R&(U^b))+N[11]+643717713&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(V^U))+N[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=b+(V^U&(R^V))+N[5]+3593408605&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(b^R))+N[10]+38016083&4294967295,U=b+(C<<9&4294967295|C>>>23),C=V+(b^R&(U^b))+N[15]+3634488961&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(V^U))+N[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=b+(V^U&(R^V))+N[9]+568446438&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(b^R))+N[14]+3275163606&4294967295,U=b+(C<<9&4294967295|C>>>23),C=V+(b^R&(U^b))+N[3]+4107603335&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(V^U))+N[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=b+(V^U&(R^V))+N[13]+2850285829&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(b^R))+N[2]+4243563512&4294967295,U=b+(C<<9&4294967295|C>>>23),C=V+(b^R&(U^b))+N[7]+1735328473&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(V^U))+N[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=b+(R^V^U)+N[5]+4294588738&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^V)+N[8]+2272392833&4294967295,U=b+(C<<11&4294967295|C>>>21),C=V+(U^b^R)+N[11]+1839030562&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^b)+N[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=b+(R^V^U)+N[1]+2763975236&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^V)+N[4]+1272893353&4294967295,U=b+(C<<11&4294967295|C>>>21),C=V+(U^b^R)+N[7]+4139469664&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^b)+N[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=b+(R^V^U)+N[13]+681279174&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^V)+N[0]+3936430074&4294967295,U=b+(C<<11&4294967295|C>>>21),C=V+(U^b^R)+N[3]+3572445317&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^b)+N[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=b+(R^V^U)+N[9]+3654602809&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^V)+N[12]+3873151461&4294967295,U=b+(C<<11&4294967295|C>>>21),C=V+(U^b^R)+N[15]+530742520&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^b)+N[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=b+(V^(R|~U))+N[0]+4096336452&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~V))+N[7]+1126891415&4294967295,U=b+(C<<10&4294967295|C>>>22),C=V+(b^(U|~R))+N[14]+2878612391&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~b))+N[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=b+(V^(R|~U))+N[12]+1700485571&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~V))+N[3]+2399980690&4294967295,U=b+(C<<10&4294967295|C>>>22),C=V+(b^(U|~R))+N[10]+4293915773&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~b))+N[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=b+(V^(R|~U))+N[8]+1873313359&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~V))+N[15]+4264355552&4294967295,U=b+(C<<10&4294967295|C>>>22),C=V+(b^(U|~R))+N[6]+2734768916&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~b))+N[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=b+(V^(R|~U))+N[4]+4149444226&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~V))+N[11]+3174756917&4294967295,U=b+(C<<10&4294967295|C>>>22),C=V+(b^(U|~R))+N[2]+718787259&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~b))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+U&4294967295}a.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var R=b-this.blockSize,N=this.B,V=this.h,U=0;U<b;){if(V==0)for(;U<=R;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<b;)if(N[V++]=D.charCodeAt(U++),V==this.blockSize){o(this,N),V=0;break}}else for(;U<b;)if(N[V++]=D[U++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=b},a.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var R=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=R&255,R/=256;for(this.u(D),D=Array(16),b=R=0;4>b;++b)for(var N=0;32>N;N+=8)D[R++]=this.g[b]>>>N&255;return D};function u(D,b){var R=p;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=b(D)}function f(D,b){this.h=b;for(var R=[],N=!0,V=D.length-1;0<=V;V--){var U=D[V]|0;N&&U==b||(R[V]=U,N=!1)}this.g=R}var p={};function m(D){return-128<=D&&128>D?u(D,function(b){return new f([b|0],0>b?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return S;if(0>D)return j(g(-D));for(var b=[],R=1,N=0;D>=R;N++)b[N]=D/R|0,R*=4294967296;return new f(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return j(E(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),N=S,V=0;V<D.length;V+=8){var U=Math.min(8,D.length-V),C=parseInt(D.substring(V,V+U),b);8>U?(U=g(Math.pow(b,U)),N=N.j(U).add(g(C))):(N=N.j(R),N=N.add(g(C)))}return N}var S=m(0),w=m(1),P=m(16777216);r=f.prototype,r.m=function(){if($(this))return-j(this).m();for(var D=0,b=1,R=0;R<this.g.length;R++){var N=this.i(R);D+=(0<=N?N:4294967296+N)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if($(this))return"-"+j(this).toString(D);for(var b=g(Math.pow(D,6)),R=this,N="";;){var V=se(R,b).g;R=X(R,V.j(b));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=V,M(R))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function $(D){return D.h==-1}r.l=function(D){return D=X(this,D),$(D)?-1:M(D)?0:1};function j(D){for(var b=D.g.length,R=[],N=0;N<b;N++)R[N]=~D.g[N];return new f(R,~D.h).add(w)}r.abs=function(){return $(this)?j(this):this},r.add=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],N=0,V=0;V<=b;V++){var U=N+(this.i(V)&65535)+(D.i(V)&65535),C=(U>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);N=C>>>16,U&=65535,C&=65535,R[V]=C<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function X(D,b){return D.add(j(b))}r.j=function(D){if(M(this)||M(D))return S;if($(this))return $(D)?j(this).j(j(D)):j(j(this).j(D));if($(D))return j(this.j(j(D)));if(0>this.l(P)&&0>D.l(P))return g(this.m()*D.m());for(var b=this.g.length+D.g.length,R=[],N=0;N<2*b;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<D.g.length;V++){var U=this.i(N)>>>16,C=this.i(N)&65535,Vt=D.i(V)>>>16,st=D.i(V)&65535;R[2*N+2*V]+=C*st,re(R,2*N+2*V),R[2*N+2*V+1]+=U*st,re(R,2*N+2*V+1),R[2*N+2*V+1]+=C*Vt,re(R,2*N+2*V+1),R[2*N+2*V+2]+=U*Vt,re(R,2*N+2*V+2)}for(N=0;N<b;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=b;N<2*b;N++)R[N]=0;return new f(R,0)};function re(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function te(D,b){this.g=D,this.h=b}function se(D,b){if(M(b))throw Error("division by zero");if(M(D))return new te(S,S);if($(D))return b=se(j(D),b),new te(j(b.g),j(b.h));if($(b))return b=se(D,j(b)),new te(j(b.g),b.h);if(30<D.g.length){if($(D)||$(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,N=b;0>=N.l(D);)R=ue(R),N=ue(N);var V=fe(R,1),U=fe(N,1);for(N=fe(N,2),R=fe(R,2);!M(N);){var C=U.add(N);0>=C.l(D)&&(V=V.add(R),U=C),N=fe(N,1),R=fe(R,1)}return b=X(D,V.j(b)),new te(V,b)}for(V=S;0<=D.l(b);){for(R=Math.max(1,Math.floor(D.m()/b.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=g(R),C=U.j(b);$(C)||0<C.l(D);)R-=N,U=g(R),C=U.j(b);M(U)&&(U=w),V=V.add(U),D=X(D,C)}return new te(V,D)}r.A=function(D){return se(this,D).h},r.and=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)&D.i(N);return new f(R,this.h&D.h)},r.or=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)|D.i(N);return new f(R,this.h|D.h)},r.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)^D.i(N);return new f(R,this.h^D.h)};function ue(D){for(var b=D.g.length+1,R=[],N=0;N<b;N++)R[N]=D.i(N)<<1|D.i(N-1)>>>31;return new f(R,D.h)}function fe(D,b){var R=b>>5;b%=32;for(var N=D.g.length-R,V=[],U=0;U<N;U++)V[U]=0<b?D.i(U+R)>>>b|D.i(U+R+1)<<32-b:D.i(U+R);return new f(V,D.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,D0=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Ur=f}).apply(typeof Rv<"u"?Rv:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N0,Sl,O0,Pc,um,x0,M0,V0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in _))break e;_=_[z]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,z={next:function(){if(!A&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,w.apply(null,arguments)}function P(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,z,K){for(var ae=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ae[Pe-2]=arguments[Pe];return y.prototype[z].apply(A,ae)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function j(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(m(A)){const z=c.length||0,K=A.length||0;c.length=z+K;for(let ae=0;ae<K;ae++)c[z+ae]=A[ae]}else c.push(A)}}class X{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var ue=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function fe(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)c[_]=A[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){p.setTimeout(()=>{throw c},0)}function C(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Vt{constructor(){this.h=this.g=null}add(y,_){const A=st.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new X(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,pe=!1,Be=new Vt,O=()=>{const c=p.Promise.resolve(void 0);oe=()=>{c.then(ee)}};var ee=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var y=st;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function De(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ue){e:{try{se(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}M(De,ie);var Se={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),We=0;function Fn(c,y,_,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=z,this.key=++We,this.da=this.fa=!1}function er(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function gi(c){this.src=c,this.g={},this.h=0}gi.prototype.add=function(c,y,_,A,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ae=$r(c,y,A,z);return-1<ae?(y=c[ae],_||(y.fa=!1)):(y=new Fn(y,this.src,K,!!A,z),y.fa=_,c.push(y)),y};function Xr(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],z=Array.prototype.indexOf.call(A,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(A,z,1),K&&(er(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function $r(c,y,_,A){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==A)return z}return-1}var Zr="closure_lm_"+(1e6*Math.random()|0),ho={};function Wl(c,y,_,A,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Wl(c,y[K],_,A,z);return null}return _=Jl(_),c&&c[It]?c.K(y,_,g(A)?!!A.capture:!1,z):_n(c,y,_,!1,A,z)}function _n(c,y,_,A,z,K){if(!y)throw Error("Invalid event type");var ae=g(z)?!!z.capture:!!z,Pe=Ga(c);if(Pe||(c[Zr]=Pe=new gi(c)),_=Pe.add(y,_,A,ae,K),_.proxy)return _;if(A=Vh(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ge||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(Wr(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Vh(){function c(_){return y.call(c.src,c.listener,_)}const y=Ph;return c}function fo(c,y,_,A,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)fo(c,y[K],_,A,z);else A=g(A)?!!A.capture:!!A,_=Jl(_),c&&c[It]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=$r(K,_,A,z),-1<_&&(er(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ga(c))&&(y=c.g[y.toString()],c=-1,y&&(c=$r(y,_,A,z)),(_=-1<c?y[c]:null)&&Fa(_))}function Fa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[It])Xr(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(Wr(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Ga(y))?(Xr(_,c),_.h==0&&(_.src=null,y[Zr]=null)):er(c)}}}function Wr(c){return c in ho?ho[c]:ho[c]="on"+c}function Ph(c,y){if(c.da)c=!0;else{y=new De(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&Fa(c),c=_.call(A,y)}return c}function Ga(c){return c=c[Zr],c instanceof gi?c:null}var mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jl(c){return typeof c=="function"?c:(c[mo]||(c[mo]=function(y){return c.handleEvent(y)}),c[mo])}function ot(){le.call(this),this.i=new gi(this),this.M=this,this.F=null}M(ot,le),ot.prototype[It]=!0,ot.prototype.removeEventListener=function(c,y,_,A){fo(this,c,y,_,A)};function Fe(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var z=y;y=new ie(A,c),N(y,z)}if(z=!0,_)for(var K=_.length-1;0<=K;K--){var ae=y.g=_[K];z=ln(ae,A,!0,y)&&z}if(ae=y.g=c,z=ln(ae,A,!0,y)&&z,z=ln(ae,A,!1,y)&&z,_)for(K=0;K<_.length;K++)ae=y.g=_[K],z=ln(ae,A,!1,y)&&z}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)er(_[A]);delete c.g[y],c.h--}}this.F=null},ot.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},ot.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function ln(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var ae=y[K];if(ae&&!ae.da&&ae.capture==_){var Pe=ae.listener,Et=ae.ha||ae.src;ae.fa&&Xr(c.i,ae),z=Pe.call(Et,A)!==!1&&z}}return z&&!A.defaultPrevented}function Ft(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function eu(c){c.g=Ft(()=>{c.g=null,c.i&&(c.i=!1,eu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class kh extends le{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(c){le.call(this),this.h=c,this.g={}}M(Jr,le);var ea=[];function ta(c){fe(c.g,function(y,_){this.g.hasOwnProperty(_)&&Fa(y)},c),c.g={}}Jr.prototype.N=function(){Jr.aa.N.call(this),ta(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=p.JSON.stringify,Ka=p.JSON.parse,na=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function po(){}po.prototype.h=null;function go(c){return c.h||(c.h=c.i())}function yo(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){ie.call(this,"d")}M(_i,ie);function _o(){ie.call(this,"c")}M(_o,ie);var Gn={},vo=null;function tr(){return vo=vo||new ot}Gn.La="serverreachability";function Qa(c){ie.call(this,Gn.La,c)}M(Qa,ie);function nr(c){const y=tr();Fe(y,new Qa(y))}Gn.STAT_EVENT="statevent";function tu(c,y){ie.call(this,Gn.STAT_EVENT,c),this.stat=y}M(tu,ie);function et(c){const y=tr();Fe(y,new tu(y,c))}Gn.Ma="timingevent";function vt(c,y){ie.call(this,Gn.Ma,c),this.size=y}M(vt,ie);function mt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function Eo(c,y,_,A,z,K){c.info(function(){if(c.g)if(K)for(var ae="",Pe=K.split("&"),Et=0;Et<Pe.length;Et++){var ke=Pe[Et].split("=");if(1<ke.length){var Dt=ke[0];ke=ke[1];var Tt=Dt.split("_");ae=2<=Tt.length&&Tt[1]=="type"?ae+(Dt+"="+ke+"&"):ae+(Dt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+_+`
`+ae})}function Uh(c,y,_,A,z,K,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+_+`
`+K+" "+ae})}function ir(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ia(c,_)+(A?" "+A:"")})}function nu(c,y){c.info(function(){return"TIMEOUT: "+y})}vn.prototype.info=function(){};function ia(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return xn(_)}catch{return y}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Qn(){}M(Qn,po),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Kn=new Qn;function Zt(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new Jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var To={},Ya={};function Mn(c,y,_){c.L=1,c.v=la(un(y)),c.m=_,c.P=!0,Ei(c,null)}function Ei(c,y){c.F=Date.now(),ra(c),c.A=un(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Io(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ct,c.g=_u(c.j,_?y:null,!c.m),0<c.O&&(c.M=new kh(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ea[0]=z.toString()),z=ea);for(var K=0;K<z.length;K++){var ae=Wl(_,z[K],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),nr(),Eo(c.i,c.u,c.A,c.l,c.R,c.m)}Zt.prototype.ca=function(c){c=c.target;const y=this.M;y&&Sn(c)==3?y.j():this.Y(c)},Zt.prototype.Y=function(c){try{if(c==this.g)e:{const Tt=Sn(this.g);var y=this.g.Ba();const Ci=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||Tt!=4||y==7||(y==8||0>=Ci?nr(3):nr(2)),ar(this);var _=this.g.Z();this.X=_;t:if(iu(this)){var A=cu(this.g);c="";var z=A.length,K=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),Yn(this);var ae="";break t}this.h.i=new p.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(K&&y==z-1)});A.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,Uh(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Et=this.g;if((Pe=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Pe)){var ke=Pe;break t}}ke=null}if(_=ke)ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,_);else{this.o=!1,this.s=3,et(12),Pt(this),Yn(this);break e}}if(this.P){_=!0;let kt;for(;!this.J&&this.C<ae.length;)if(kt=ru(this,ae),kt==Ya){Tt==4&&(this.s=4,et(14),_=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==To){this.s=4,et(15),ir(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else ir(this.i,this.l,kt,null),aa(this,kt);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ae.length!=0||this.h.h||(this.s=1,et(16),_=!1),this.o=this.o&&_,!_)ir(this.i,this.l,ae,"[Invalid Chunked Response]"),Pt(this),Yn(this);else if(0<ae.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ga(Dt),Dt.M=!0,et(11))}}else ir(this.i,this.l,ae,null),aa(this,ae);Tt==4&&Pt(this),this.o&&!this.J&&(Tt==4?pu(this.j,this):(this.o=!1,ra(this)))}else Hh(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Pt(this),Yn(this)}}}catch{}finally{}};function iu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ru(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?Ya:(_=Number(y.substring(_,A)),isNaN(_)?To:(A+=1,A+_>y.length?Ya:(y=y.slice(A,A+_),c.C=A+_,y)))}Zt.prototype.cancel=function(){this.J=!0,Pt(this)};function ra(c){c.S=Date.now()+c.I,au(c,c.I)}function au(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(w(c.ba,c),y)}function ar(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Zt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(nu(this.i,this.A),this.L!=2&&(nr(),et(17)),Pt(this),this.s=2,Yn(this)):au(this,this.S-c)};function Yn(c){c.j.G==0||c.J||pu(c.j,c)}function Pt(c){ar(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ta(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function aa(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ao(_.h,c))){if(!c.K&&Ao(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ss(_),rs(_);else break e;xo(_),et(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=mt(w(_.Za,_),6e3));if(1>=$a(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ii(_,11)}else if((c.K||_.g==c)&&ss(_),!re(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let ke=z[y];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Dt=ke[3];Dt!=null&&(_.la=Dt,_.j.info("VER="+_.la));const Tt=ke[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const Ci=ke[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(A=1.5*Ci,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const kt=c.g;if(kt){const ti=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var K=A.h;K.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Za(K,K.h),K.h=null))}if(A.D){const Vo=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(A.ya=Vo,Qe(A.I,A.D,Vo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ae=c;if(A.qa=yu(A,A.J?A.ia:null,A.W),ae.K){Wt(A.h,ae);var Pe=ae,Et=A.L;Et&&(Pe.I=Et),Pe.B&&(ar(Pe),ra(Pe)),A.g=ae}else du(A);0<_.i.length&&as(_)}else ke[0]!="stop"&&ke[0]!="close"||Ii(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Ii(_,7):No(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}nr(4)}catch{}}var su=class{constructor(c,y){this.g=c,this.map=y}};function Ti(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $a(c){return c.h?1:c.g?c.g.size:0}function Ao(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Za(c,y){c.g?c.g.add(y):c.h=y}function Wt(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ti.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function So(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function Lh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function Wa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function bo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Wa(c),A=Lh(c),z=A.length,K=0;K<z;K++)y.call(void 0,A[K],_&&_[K],c)}var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zh(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),z=null;if(0<=A){var K=c[_].substring(0,A);z=c[_].substring(A+1)}else K=c[_];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,oa(this,c.j),this.o=c.o,this.g=c.g,sr(this,c.s),this.l=c.l;var y=c.i,_=new Si;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ai(this,_),this.m=c.m}else c&&(y=String(c).match(sa))?(this.h=!1,oa(this,y[1]||"",!0),this.o=En(y[2]||""),this.g=En(y[3]||"",!0),sr(this,y[4]),this.l=En(y[5]||"",!0),Ai(this,y[6]||"",!0),this.m=En(y[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}pt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ua(y,wo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ua(y,wo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ua(_,_.charAt(0)=="/"?Bh:Ro,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ua(_,Ja)),c.join("")};function un(c){return new pt(c)}function oa(c,y,_){c.j=_?En(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function sr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ai(c,y,_){y instanceof Si?(c.i=y,lu(c.i,c.h)):(_||(y=ua(y,qh)),c.i=new Si(y,c.h))}function Qe(c,y,_){c.i.set(y,_)}function la(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function En(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ua(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,ou),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ou(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wo=/[#\/\?@]/g,Ro=/[#\?:]/g,Bh=/[#\?]/g,qh=/[#\?@]/g,Ja=/#/g;function Si(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&zh(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Si.prototype,r.add=function(c,y){Tn(this),this.i=null,c=Xn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function bi(c,y){Tn(c),y=Xn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function wi(c,y){return Tn(c),y=Xn(c,y),c.g.has(y)}r.forEach=function(c,y){Tn(this),this.g.forEach(function(_,A){_.forEach(function(z){c.call(y,z,A,this)},this)},this)},r.na=function(){Tn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const z=c[A];for(let K=0;K<z.length;K++)_.push(y[A])}return _},r.V=function(c){Tn(this);let y=[];if(typeof c=="string")wi(this,c)&&(y=y.concat(this.g.get(Xn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Tn(this),this.i=null,c=Xn(this,c),wi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Io(c,y,_){bi(c,y),0<_.length&&(c.i=null,c.g.set(Xn(c,y),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const K=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var z=K;ae[A]!==""&&(z+="="+encodeURIComponent(String(ae[A]))),c.push(z)}}return this.i=c.join("&")};function Xn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function lu(c,y){y&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(bi(this,A),Io(this,z,_))},c)),c.j=y}function ca(c,y){const _=new vn;if(p.Image){const A=new Image;A.onload=P(An,_,"TestLoadImage: loaded",!0,y,A),A.onerror=P(An,_,"TestLoadImage: error",!1,y,A),A.onabort=P(An,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=P(An,_,"TestLoadImage: timeout",!1,y,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Vn(c,y){const _=new vn,A=new AbortController,z=setTimeout(()=>{A.abort(),An(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(z),K.ok?An(_,"TestPingServer: ok",!0,y):An(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),An(_,"TestPingServer: error",!1,y)})}function An(c,y,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function ha(){this.g=new na}function $n(c,y,_){const A=_||"";try{bo(c,function(z,K){let ae=z;g(z)&&(ae=xn(z)),y.push(A+K+"="+encodeURIComponent(ae))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function or(c){this.l=c.Ub||null,this.j=c.eb||!1}M(or,po),or.prototype.g=function(){return new Ri(this.l,this.j)},or.prototype.i=function(c){return function(){return c}}({});function Ri(c,y){ot.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ri,ot),r=Ri.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Co(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Co(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Zn(this):Wn(this),this.readyState==3&&Co(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Zn(this))},r.Qa=function(c){this.g&&(this.response=c,Zn(this))},r.ga=function(){this.g&&Zn(this)};function Zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Do(c){let y="";return fe(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Ct(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Do(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,y,_))}function He(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(He,ot);var es=/^https?$/i,fa=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?go(this.o):go(Kn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){uu(this,K);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())_.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),z=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(fa,y,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of _)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{da(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){uu(this,K)}};function uu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ts(c),Jn(c)}function ts(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),Jn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ns(this):this.bb())},r.bb=function(){ns(this)};function ns(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)Ft(c.Ea,0,c);else if(Fe(c,"readystatechange"),Sn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=ae===0){var z=String(c.D).match(sa)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),A=!es.test(z?z.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var K=2<Sn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",ts(c)}}finally{Jn(c)}}}}function Jn(c,y){if(c.g){da(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function da(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ka(y)}};function cu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hh(c){const y={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(re(c[A]))continue;var _=V(c[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[z]||[];y[z]=K,K.push(_)}D(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ma(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function is(c){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ma("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ma("baseRetryDelayMs",5e3,c),this.cb=ma("retryDelaySeedMs",1e4,c),this.Wa=ma("forwardChannelMaxRetries",2,c),this.wa=ma("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(c&&c.concurrentRequestLimit),this.Da=new ha,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=is.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){et(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=yu(this,null,this.W),as(this)};function No(c){if(hu(c),c.G==3){var y=c.U++,_=un(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),pa(c,_),y=new Zt(c,c.j,y),y.L=2,y.v=la(un(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=_u(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ra(y)}gu(c)}function rs(c){c.g&&(ga(c),c.g.cancel(),c.g=null)}function hu(c){rs(c),c.u&&(p.clearTimeout(c.u),c.u=null),ss(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function as(c){if(!Xa(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||O(),pe||(oe(),pe=!0),Be.add(y,c),c.B=0}}function jh(c,y){return $a(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(w(c.Ga,c,y),Mo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Zt(this,this.j,c);let K=this.o;if(this.S&&(K?(K=b(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=fu(this,z,y),_=un(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),pa(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Do(K)))+"&"+y:this.m&&Ct(_,this.m,K)),Za(this.h,z),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",y),Qe(_,"SID","null"),z.T=!0,Mn(z,_,null)):Mn(z,_,y),this.G=2}}else this.G==3&&(c?Oo(this,c):this.i.length==0||Xa(this.h)||Oo(this))};function Oo(c,y){var _;y?_=y.l:_=c.U++;const A=un(c.I);Qe(A,"SID",c.K),Qe(A,"RID",_),Qe(A,"AID",c.T),pa(c,A),c.m&&c.o&&Ct(A,c.m,c.o),_=new Zt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=fu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Za(c.h,_),Mn(_,A,y)}function pa(c,y){c.H&&fe(c.H,function(_,A){Qe(y,A,_)}),c.l&&bo({},function(_,A){Qe(y,A,_)})}function fu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?w(c.l.Na,c.l,c):null;e:{var z=c.i;let K=-1;for(;;){const ae=["count="+_];K==-1?0<_?(K=z[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Pe=!0;for(let Et=0;Et<_;Et++){let ke=z[Et].g;const Dt=z[Et].map;if(ke-=K,0>ke)K=Math.max(0,z[Et].g-100),Pe=!1;else try{$n(Dt,ae,"req"+ke+"_")}catch{A&&A(Dt)}}if(Pe){A=ae.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function du(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||O(),pe||(oe(),pe=!0),Be.add(y,c),c.v=0}}function xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(w(c.Fa,c),Mo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),rs(this),mu(this))};function ga(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function mu(c){c.g=new Zt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=un(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),pa(c,y),c.m&&c.o&&Ct(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=la(un(y)),_.m=null,_.P=!0,Ei(_,c)}r.Za=function(){this.C!=null&&(this.C=null,rs(this),xo(this),et(19))};function ss(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function pu(c,y){var _=null;if(c.g==y){ss(c),ga(c),c.g=null;var A=2}else if(Ao(c.h,y))_=y.D,Wt(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;A=tr(),Fe(A,new vt(A,_)),as(c)}else du(c);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&jh(c,y)||A==2&&xo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Mo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ii(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),A=c.Xa;const z=!A;A=new pt(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||oa(A,"https"),la(A),z?ca(A.toString(),_):Vn(A.toString(),_)}else et(2);c.G=0,c.l&&c.l.sa(y),gu(c),hu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function gu(c){if(c.G=0,c.ka=[],c.l){const y=So(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function yu(c,y,_){var A=_ instanceof pt?un(_):new pt(_);if(A.g!="")y&&(A.g=y+"."+A.g),sr(A,A.s);else{var z=p.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new pt(null);A&&oa(K,A),y&&(K.g=y),z&&sr(K,z),_&&(K.l=_),A=K}return _=c.D,y=c.ya,_&&y&&Qe(A,_,y),Qe(A,"VER",c.la),pa(c,A),A}function _u(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new or({eb:_})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function os(){}os.prototype.g=function(c,y){return new Jt(c,y)};function Jt(c,y){ot.call(this),this.g=new is(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ei(this)}M(Jt,ot),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){No(this.g)},Jt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=xn(c),c=_);y.i.push(new su(y.Ya++,c)),y.G==3&&as(y)},Jt.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,Jt.aa.N.call(this)};function Eu(c){_i.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(Eu,_i);function Tu(){_o.call(this),this.status=1}M(Tu,_o);function ei(c){this.g=c}M(ei,vu),ei.prototype.ua=function(){Fe(this.g,"a")},ei.prototype.ta=function(c){Fe(this.g,new Eu(c))},ei.prototype.sa=function(c){Fe(this.g,new Tu)},ei.prototype.ra=function(){Fe(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,V0=function(){return new os},M0=function(){return tr()},x0=Gn,um={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Pc=rr,vi.COMPLETE="complete",O0=vi,yo.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Sl=yo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,N0=He}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const Iv="@firebase/firestore",Cv="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new km("@firebase/firestore");function ks(){return za.logLevel}function ce(r,...e){if(za.logLevel<=Me.DEBUG){const n=e.map(Zm);za.debug(`Firestore (${oo}): ${r}`,...n)}}function Zi(r,...e){if(za.logLevel<=Me.ERROR){const n=e.map(Zm);za.error(`Firestore (${oo}): ${r}`,...n)}}function Ks(r,...e){if(za.logLevel<=Me.WARN){const n=e.map(Zm);za.warn(`Firestore (${oo}): ${r}`,...n)}}function Zm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+r;throw Zi(e),new Error(e)}function je(r,e){r||Te()}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class $I{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ZI{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let a=this.i;const o=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let u=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Lr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Lr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(je(typeof a.accessToken=="string"),new P0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Yt(e)}}class WI{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class JI{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new WI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ln(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){je(this.o===void 0);const a=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Dv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new Dv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=tC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ce(r,e){return r<e?-1:r>e?1:0}function cm(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Ce(a,o);{const u=k0(),f=nC(u.encode(Nv(r,n)),u.encode(Nv(e,n)));return f!==0?f:Ce(a,o)}}n+=a>65535?2:1}return Ce(r.length,e.length)}function Nv(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function nC(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ce(r[n],e[n]);return Ce(r.length,e.length)}function Qs(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=-62135596800,xv=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*xv);return new wt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ov)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xv}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ov;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new wt(0,0))}static max(){return new be(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="__name__";class oi{constructor(e,n,a){n===void 0?n=0:n>e.length&&Te(),a===void 0?a=e.length-n:a>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const a=oi.isNumericId(e),o=oi.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?oi.extractNumericId(e).compare(oi.extractNumericId(n)):cm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ur.fromString(e.substring(4,e.length-2))}}class nt extends oi{construct(e,n,a){return new nt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const iC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends oi{construct(e,n,a){return new qt(e,n,a)}static isValidIdentifier(e){return iC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mv}static keyField(){return new qt([Mv])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(a+=p,o++):(u(),o++)}if(u(),f)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function rC(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(a===1e9?new wt(n+1,0):new wt(n,a));return new Br(o,ye.empty(),e)}function aC(r){return new Br(r.readTime,r.key,Pl)}class Br{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Br(be.min(),ye.empty(),Pl)}static max(){return new Br(be.max(),ye.empty(),Pl)}}function sC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==oC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,a)=>{n(e)})}static reject(e){return new J((n,a)=>{a(e)})}static waitFor(e){return new J((n,a)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},m=>a(m))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const a of e)n=n.next(o=>o?J.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new J((a,o)=>{const u=e.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(E=>{f[g]=E,++p,p===u&&a(f)},E=>o(E))}})}static doWhile(e,n){return new J((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function uC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}mh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=-1;function ph(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function cC(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="";function hC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Vv(e)),e=fC(r.get(n),e);return Vv(e)}function fC(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case L0:n+="";break;default:n+=u}}return n}function Vv(r){return r+L0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Qr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function z0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Bt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,a,o,u){return this}insert(e,n,a){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kv(this.data.getIterator())}getIteratorFrom(e){return new kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new yn([])}unionWith(e){let n=new Rt(qt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new B0("Invalid base64 string: "+u):u}}(e);return new jt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const dC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(r){if(je(!!r),typeof r=="string"){let e=0;const n=dC.exec(r);if(je(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:dt(r.seconds),nanos:dt(r.nanos)}}function dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hr(r){return typeof r=="string"?jt.fromBase64String(r):jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="server_timestamp",H0="__type__",j0="__previous_value__",F0="__local_write_time__";function Jm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[H0])===null||n===void 0?void 0:n.stringValue)===q0}function gh(r){const e=r.mapValue.fields[j0];return Jm(e)?gh(e):e}function kl(r){const e=qr(r.mapValue.fields[F0].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n,a,o,u,f,p,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g}}const Zc="(default)";class Ul{constructor(e,n){this.projectId=e,this.database=n||Zc}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="__type__",pC="__max__",Rc={mapValue:{}},K0="__vector__",Wc="value";function jr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jm(r)?4:yC(r)?9007199254740991:gC(r)?10:11:Te()}function mi(r,e){if(r===e)return!0;const n=jr(r);if(n!==jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return kl(r).isEqual(kl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=qr(o.timestampValue),p=qr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Hr(o.bytesValue).isEqual(Hr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=dt(o.doubleValue),p=dt(u.doubleValue);return f===p?$c(f)===$c(p):isNaN(f)&&isNaN(p)}return!1}(r,e);case 9:return Qs(r.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Pv(f)!==Pv(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!mi(f[m],p[m])))return!1;return!0}(r,e);default:return Te()}}function Ll(r,e){return(r.values||[]).find(n=>mi(n,e))!==void 0}function Ys(r,e){if(r===e)return 0;const n=jr(r),a=jr(e);if(n!==a)return Ce(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,f){const p=dt(u.integerValue||u.doubleValue),m=dt(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,e);case 3:return Uv(r.timestampValue,e.timestampValue);case 4:return Uv(kl(r),kl(e));case 5:return cm(r.stringValue,e.stringValue);case 6:return function(u,f){const p=Hr(u),m=Hr(f);return p.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),m=f.split("/");for(let g=0;g<p.length&&g<m.length;g++){const E=Ce(p[g],m[g]);if(E!==0)return E}return Ce(p.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const p=Ce(dt(u.latitude),dt(f.latitude));return p!==0?p:Ce(dt(u.longitude),dt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Lv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var p,m,g,E;const S=u.fields||{},w=f.fields||{},P=(p=S[Wc])===null||p===void 0?void 0:p.arrayValue,M=(m=w[Wc])===null||m===void 0?void 0:m.arrayValue,$=Ce(((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:Lv(P,M)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Rc.mapValue&&f===Rc.mapValue)return 0;if(u===Rc.mapValue)return 1;if(f===Rc.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=f.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let S=0;S<m.length&&S<E.length;++S){const w=cm(m[S],E[S]);if(w!==0)return w;const P=Ys(p[m[S]],g[E[S]]);if(P!==0)return P}return Ce(m.length,E.length)}(r.mapValue,e.mapValue);default:throw Te()}}function Uv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const n=qr(r),a=qr(e),o=Ce(n.seconds,a.seconds);return o!==0?o:Ce(n.nanos,a.nanos)}function Lv(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Ys(n[o],a[o]);if(u)return u}return Ce(n.length,a.length)}function Xs(r){return hm(r)}function hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=qr(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Hr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=hm(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${hm(n.fields[f])}`;return o+"}"}(r.mapValue):Te()}function kc(r){switch(jr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(r);return e?16+kc(e):16;case 5:return 2*r.stringValue.length;case 6:return Hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+kc(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Qr(a.fields,(u,f)=>{o+=u.length+kc(f)}),o}(r.mapValue);default:throw Te()}}function fm(r){return!!r&&"integerValue"in r}function ep(r){return!!r&&"arrayValue"in r}function zv(r){return!!r&&"nullValue"in r}function Bv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function gC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[G0])===null||n===void 0?void 0:n.stringValue)===K0}function Cl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Qr(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Cl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function yC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===pC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(n)}setAll(e){let n=qt.emptyPath(),a={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,a,o),a={},o=[],n=p.popLast()}f?a[p.lastSegment()]=Cl(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Qr(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new sn(Cl(this.value))}}function Q0(r){const e=[];return Qr(r.fields,(n,a)=>{const o=new qt([n]);if(Uc(a)){const u=Q0(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,a,o,u,f,p){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Xt(e,0,be.min(),be.min(),be.min(),sn.empty(),0)}static newFoundDocument(e,n,a,o){return new Xt(e,1,n,be.min(),a,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,be.min(),be.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,be.min(),be.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.position=e,this.inclusive=n}}function qv(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=ye.comparator(ye.fromName(f.referenceValue),n.key):a=Ys(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Hv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!mi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function _C(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{}class bt extends Y0{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new EC(e,n,a):n==="array-contains"?new SC(e,a):n==="in"?new bC(e,a):n==="not-in"?new wC(e,a):n==="array-contains-any"?new RC(e,a):new bt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new TC(e,a):new AC(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ys(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends Y0{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new pi(e,n)}matches(e){return X0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function X0(r){return r.op==="and"}function $0(r){return vC(r)&&X0(r)}function vC(r){for(const e of r.filters)if(e instanceof pi)return!1;return!0}function dm(r){if(r instanceof bt)return r.field.canonicalString()+r.op.toString()+Xs(r.value);if($0(r))return r.filters.map(e=>dm(e)).join(",");{const e=r.filters.map(n=>dm(n)).join(",");return`${r.op}(${e})`}}function Z0(r,e){return r instanceof bt?function(a,o){return o instanceof bt&&a.op===o.op&&a.field.isEqual(o.field)&&mi(a.value,o.value)}(r,e):r instanceof pi?function(a,o){return o instanceof pi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,p)=>u&&Z0(f,o.filters[p]),!0):!1}(r,e):void Te()}function W0(r){return r instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Xs(n.value)}`}(r):r instanceof pi?function(n){return n.op.toString()+" {"+n.getFilters().map(W0).join(" ,")+"}"}(r):"Filter"}class EC extends bt{constructor(e,n,a){super(e,n,a),this.key=ye.fromName(a.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class TC extends bt{constructor(e,n){super(e,"in",n),this.keys=J0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AC extends bt{constructor(e,n){super(e,"not-in",n),this.keys=J0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function J0(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>ye.fromName(a.referenceValue))}class SC extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ep(n)&&Ll(n.arrayValue,this.value)}}class bC extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ll(this.value.arrayValue,n)}}class wC extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ll(this.value.arrayValue,n)}}class RC extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Ll(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n=null,a=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.le=null}}function jv(r,e=null,n=[],a=[],o=null,u=null,f=null){return new IC(r,e,n,a,o,u,f)}function tp(r){const e=we(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>dm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Xs(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Xs(a)).join(",")),e.le=n}return e.le}function np(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!_C(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Z0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Hv(r.startAt,e.startAt)&&Hv(r.endAt,e.endAt)}function mm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n=null,a=[],o=[],u=null,f="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function CC(r,e,n,a,o,u,f,p){return new yh(r,e,n,a,o,u,f,p)}function _h(r){return new yh(r)}function Fv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function DC(r){return r.collectionGroup!==null}function Dl(r){const e=we(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Rt(qt.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new eh(u,a))}),n.has(qt.keyField().canonicalString())||e.he.push(new eh(qt.keyField(),a))}return e.he}function ci(r){const e=we(r);return e.Pe||(e.Pe=NC(e,Dl(r))),e.Pe}function NC(r,e){if(r.limitType==="F")return jv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new eh(o.field,u)});const n=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return jv(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function pm(r,e,n){return new yh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function vh(r,e){return np(ci(r),ci(e))&&r.limitType===e.limitType}function eT(r){return`${tp(ci(r))}|lt:${r.limitType}`}function Us(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>W0(o)).join(", ")}]`),ph(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Xs(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Xs(o)).join(",")),`Target(${a})`}(ci(r))}; limitType=${r.limitType})`}function Eh(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ye.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of Dl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(f,p,m){const g=qv(f,p,m);return f.inclusive?g<=0:g<0}(a.startAt,Dl(a),o)||a.endAt&&!function(f,p,m){const g=qv(f,p,m);return f.inclusive?g>=0:g>0}(a.endAt,Dl(a),o))}(r,e)}function OC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tT(r){return(e,n)=>{let a=!1;for(const o of Dl(r)){const u=xC(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function xC(r,e,n){const a=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,p){const m=f.data.field(u),g=p.data.field(u);return m!==null&&g!==null?Ys(m,g):Te()}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return z0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new at(ye.comparator);function Wi(){return MC}const nT=new at(ye.comparator);function bl(...r){let e=nT;for(const n of r)e=e.insert(n.key,n);return e}function iT(r){let e=nT;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Va(){return Nl()}function rT(){return Nl()}function Nl(){return new Ha(r=>r.toString(),(r,e)=>r.isEqual(e))}const VC=new at(ye.comparator),PC=new Rt(ye.comparator);function Ve(...r){let e=PC;for(const n of r)e=e.add(n);return e}const kC=new Rt(Ce);function UC(){return kC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function aT(r){return{integerValue:""+r}}function LC(r,e){return cC(e)?aT(e):ip(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function zC(r,e,n){return r instanceof th?function(o,u){const f={fields:{[H0]:{stringValue:q0},[F0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jm(u)&&(u=gh(u)),u&&(f.fields[j0]=u),{mapValue:f}}(n,e):r instanceof zl?oT(r,e):r instanceof Bl?lT(r,e):function(o,u){const f=sT(o,u),p=Gv(f)+Gv(o.Ie);return fm(f)&&fm(o.Ie)?aT(p):ip(o.serializer,p)}(r,e)}function BC(r,e,n){return r instanceof zl?oT(r,e):r instanceof Bl?lT(r,e):n}function sT(r,e){return r instanceof nh?function(a){return fm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class th extends Th{}class zl extends Th{constructor(e){super(),this.elements=e}}function oT(r,e){const n=uT(e);for(const a of r.elements)n.some(o=>mi(o,a))||n.push(a);return{arrayValue:{values:n}}}class Bl extends Th{constructor(e){super(),this.elements=e}}function lT(r,e){let n=uT(e);for(const a of r.elements)n=n.filter(o=>!mi(o,a));return{arrayValue:{values:n}}}class nh extends Th{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Gv(r){return dt(r.integerValue||r.doubleValue)}function uT(r){return ep(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function qC(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof zl&&o instanceof zl||a instanceof Bl&&o instanceof Bl?Qs(a.elements,o.elements,mi):a instanceof nh&&o instanceof nh?mi(a.Ie,o.Ie):a instanceof th&&o instanceof th}(r.transform,e.transform)}class HC{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ah{}function cT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new fT(r.key,hi.none()):new Yl(r.key,r.data,hi.none());{const n=r.data,a=sn.empty();let o=new Rt(qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Yr(r.key,a,new yn(o.toArray()),hi.none())}}function jC(r,e,n){r instanceof Yl?function(o,u,f){const p=o.value.clone(),m=Qv(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):r instanceof Yr?function(o,u,f){if(!Lc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=Qv(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(hT(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ol(r,e,n,a){return r instanceof Yl?function(u,f,p,m){if(!Lc(u.precondition,f))return p;const g=u.value.clone(),E=Yv(u.fieldTransforms,m,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,a):r instanceof Yr?function(u,f,p,m){if(!Lc(u.precondition,f))return p;const g=Yv(u.fieldTransforms,m,f),E=f.data;return E.setAll(hT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,a):function(u,f,p){return Lc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,e,n)}function FC(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=sT(a.transform,o||null);u!=null&&(n===null&&(n=sn.empty()),n.set(a.field,u))}return n||null}function Kv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Qs(a,o,(u,f)=>qC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Yl extends Ah{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Yr extends Ah{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function hT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function Qv(r,e,n){const a=new Map;je(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);a.set(u.field,BC(f,p,n[o]))}return a}function Yv(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,zC(u,f,e))}return a}class fT extends Ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GC extends Ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&jC(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Ol(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Ol(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=rT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const m=cT(f,p);m!==null&&a.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(be.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,(n,a)=>Kv(n,a))&&Qs(this.baseMutations,e.baseMutations,(n,a)=>Kv(n,a))}}class rp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){je(e.mutations.length===a.length);let o=function(){return VC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new rp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Le;function XC(r){switch(r){case ne.OK:return Te();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te()}}function dT(r){if(r===void 0)return Zi("GRPC error has no .code"),ne.UNKNOWN;switch(r){case _t.OK:return ne.OK;case _t.CANCELLED:return ne.CANCELLED;case _t.UNKNOWN:return ne.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ne.INTERNAL;case _t.UNAVAILABLE:return ne.UNAVAILABLE;case _t.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case _t.NOT_FOUND:return ne.NOT_FOUND;case _t.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case _t.ABORTED:return ne.ABORTED;case _t.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case _t.DATA_LOSS:return ne.DATA_LOSS;default:return Te()}}(Le=_t||(_t={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new Ur([4294967295,4294967295],0);function Xv(r){const e=k0().encode(r),n=new D0;return n.update(e),new Uint8Array(n.digest())}function $v(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ur([n,a],0),new Ur([o,u],0)]}class ap{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new wl(`Invalid padding: ${n}`);if(a<0)throw new wl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new wl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ur.fromNumber(this.Ee)}Ae(e,n,a){let o=e.add(n.multiply(Ur.fromNumber(a)));return o.compare($C)===1&&(o=new Ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Xv(e),[a,o]=$v(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ap(u,o,n);return a.forEach(p=>f.insert(p)),f}insert(e){if(this.Ee===0)return;const n=Xv(e),[a,o]=$v(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Sh(be.min(),o,new at(Ce),Wi(),Ve())}}class Xl{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Xl(a,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,a,o){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=o}}class mT{constructor(e,n){this.targetId=e,this.ge=n}}class pT{constructor(e,n,a=jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class Zv{constructor(){this.pe=0,this.ye=Wv(),this.we=jt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),a=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Te()}}),new Xl(this.we,this.Se,e,n,a)}Me(){this.be=!1,this.ye=Wv()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,je(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ZC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Wi(),this.$e=Ic(),this.Ue=Ic(),this.Ke=new at(Ce)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,a=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(mm(u))if(a===0){const f=new ye(u.path);this.ze(n,f,Xt.newNoDocument(f,be.min()))}else je(a===1);else{const f=this.et(n);if(f!==a){const p=this.tt(e),m=p?this.nt(p,e,f):1;if(m!==0){this.Ye(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=Hr(a).toUint8Array()}catch(m){if(m instanceof B0)return Ks("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new ap(f,o,u)}catch(m){return Ks(m instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.Ee===0?null:p}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ke.it(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const p=this.Xe(f);if(p){if(u.current&&mm(p.target)){const m=new ye(p.target.path);this._t(m).has(f)||this.ut(f,m)||this.ze(f,m,Xt.newNoDocument(m,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let a=Ve();this.Ue.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Sh(e,n,this.Ke,this.Qe,a);return this.Qe=Wi(),this.$e=Ic(),this.Ue=Ic(),this.Ke=new at(Ce),o}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Zv,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Rt(Ce),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Rt(Ce),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Zv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Ic(){return new at(ye.comparator)}function Wv(){return new at(ye.comparator)}const WC={asc:"ASCENDING",desc:"DESCENDING"},JC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e2={and:"AND",or:"OR"};class t2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gm(r,e){return r.useProto3Json||ph(e)?e:{value:e}}function ih(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function n2(r,e){return ih(r,e.toTimestamp())}function fi(r){return je(!!r),be.fromTimestamp(function(n){const a=qr(n);return new wt(a.seconds,a.nanos)}(r))}function sp(r,e){return ym(r,e).canonicalString()}function ym(r,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function yT(r){const e=nt.fromString(r);return je(AT(e)),e}function _m(r,e){return sp(r.databaseId,e.path)}function Xd(r,e){const n=yT(e);if(n.get(1)!==r.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(vT(n))}function _T(r,e){return sp(r.databaseId,e)}function i2(r){const e=yT(r);return e.length===4?nt.emptyPath():vT(e)}function vm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vT(r){return je(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Jv(r,e,n){return{name:_m(r,e),fields:n.value.mapValue.fields}}function r2(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(je(E===void 0||typeof E=="string"),jt.fromBase64String(E||"")):(je(E===void 0||E instanceof Buffer||E instanceof Uint8Array),jt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(g){const E=g.code===void 0?ne.UNKNOWN:dT(g.code);return new me(E,g.message||"")}(f);n=new pT(a,o,u,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Xd(r,a.document.name),u=fi(a.document.updateTime),f=a.document.createTime?fi(a.document.createTime):be.min(),p=new sn({mapValue:{fields:a.document.fields}}),m=Xt.newFoundDocument(o,u,f,p),g=a.targetIds||[],E=a.removedTargetIds||[];n=new zc(g,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Xd(r,a.document),u=a.readTime?fi(a.readTime):be.min(),f=Xt.newNoDocument(o,u),p=a.removedTargetIds||[];n=new zc([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Xd(r,a.document),u=a.removedTargetIds||[];n=new zc([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new YC(o,u),p=a.targetId;n=new mT(p,f)}}return n}function a2(r,e){let n;if(e instanceof Yl)n={update:Jv(r,e.key,e.value)};else if(e instanceof fT)n={delete:_m(r,e.key)};else if(e instanceof Yr)n={update:Jv(r,e.key,e.data),updateMask:m2(e.fieldMask)};else{if(!(e instanceof GC))return Te();n={verify:_m(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const p=f.transform;if(p instanceof th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:f.field.canonicalString(),increment:p.Ie};throw Te()}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:n2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(r,e.precondition)),n}function s2(r,e){return r&&r.length>0?(je(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?fi(o.updateTime):fi(u);return f.isEqual(be.min())&&(f=fi(u)),new HC(f,o.transformResults||[])}(n,e))):[]}function o2(r,e){return{documents:[_T(r,e.path)]}}function l2(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=_T(r,o);const u=function(g){if(g.length!==0)return TT(pi.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:Ls(w.field),direction:h2(w.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=gm(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function u2(r){let e=i2(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){je(a===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const w=ET(S);return w instanceof pi&&$0(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(w=>function(M){return new eh(zs(M.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(w))}(n.orderBy));let p=null;n.limit&&(p=function(S){let w;return w=typeof S=="object"?S.value:S,ph(w)?null:w}(n.limit));let m=null;n.startAt&&(m=function(S){const w=!!S.before,P=S.values||[];return new Jc(P,w)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const w=!S.before,P=S.values||[];return new Jc(P,w)}(n.endAt)),CC(e,o,f,u,p,"F",m,g)}function c2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ET(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=zs(n.unaryFilter.field);return bt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=zs(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=zs(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=zs(n.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(n){return bt.create(zs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return pi.create(n.compositeFilter.filters.map(a=>ET(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(r):Te()}function h2(r){return WC[r]}function f2(r){return JC[r]}function d2(r){return e2[r]}function Ls(r){return{fieldPath:r.canonicalString()}}function zs(r){return qt.fromServerFormat(r.fieldPath)}function TT(r){return r instanceof bt?function(n){if(n.op==="=="){if(Bv(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(zv(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bv(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(zv(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:f2(n.op),value:n.value}}}(r):r instanceof pi?function(n){const a=n.getFilters().map(o=>TT(o));return a.length===1?a[0]:{compositeFilter:{op:d2(n.op),filters:a}}}(r):Te()}function m2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n,a,o,u=be.min(),f=be.min(),p=jt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.Tt=e}}function g2(r){const e=u2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.Tn=new _2}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Br.min())}updateCollectionGroup(e,n,a){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class _2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Rt(nt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Rt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ST=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(ST,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new $s(0)}static Kn(){return new $s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="LruGarbageCollector",v2=1048576;function nE([r,e],[n,a]){const o=Ce(r,n);return o===0?Ce(e,a):o}class E2{constructor(e){this.Hn=e,this.buffer=new Rt(nE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();nE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class T2{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(tE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uo(n)?ce(tE,"Ignoring IndexedDB error during garbage collection: ",n):await lo(n)}await this.er(3e5)})}}class A2{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return J.resolve(mh.ae);const a=new E2(n);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(eE)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,o,u,f,p,m,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(a=S,p=Date.now(),this.removeTargets(e,a,n))).next(S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(e,a))).next(S=>(g=Date.now(),ks()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${S} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function S2(r,e){return new A2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.changes=new Ha(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?J.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Ol(a.mutation,o,yn.empty(),wt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Ve()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Ve()){const o=Va();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=bl();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=Va();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Ve()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,a,o){let u=Wi();const f=Nl(),p=function(){return Nl()}();return n.forEach((m,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Yr)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Ol(E.mutation,g,E.mutation.getFieldMask(),wt.now())):f.set(g.key,yn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var S;return p.set(g,new w2(E,(S=f.get(g))!==null&&S!==void 0?S:null))}),p))}recalculateAndSaveOverlays(e,n){const a=Nl();let o=new at((f,p)=>f-p),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let E=a.get(m)||yn.empty();E=p.applyToLocalView(g,E),a.set(m,E);const S=(o.get(p.batchId)||Ve()).add(m);o=o.insert(p.batchId,S)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,E=m.value,S=rT();E.forEach(w=>{if(!u.has(w)){const P=cT(n.get(w),a.get(w));P!==null&&S.set(w,P),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return J.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):J.resolve(Va());let p=Pl,m=u;return f.next(g=>J.forEach(g,(E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{m=m.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Ve())).next(E=>({batchId:p,changes:iT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(a=>{let o=bl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=bl();return this.indexManager.getCollectionParents(e,u).next(p=>J.forEach(p,m=>{const g=function(S,w){return new yh(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(E=>{E.forEach((S,w)=>{f=f.insert(S,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((m,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Xt.newInvalidDocument(E)))});let p=bl();return f.forEach((m,g)=>{const E=u.get(m);E!==void 0&&Ol(E.mutation,g,yn.empty(),wt.now()),Eh(n,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:fi(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:g2(o.bundledQuery),readTime:fi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.overlays=new at(ye.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Va();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),J.resolve()}getOverlaysForCollection(e,n,a){const o=Va(),u=n.length+1,f=new ye(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new at((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let E=u.get(g.largestBatchId);E===null&&(E=Va(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=Va(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,E)=>p.set(g,E)),!(p.size()>=o)););return J.resolve(p)}Et(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new QC(n,a));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.Vr=new Rt(Mt.mr),this.gr=new Rt(Mt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new Mt(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new Mt(e,n))}Sr(e,n){e.forEach(a=>this.removeReference(a,n))}br(e){const n=new ye(new nt([])),a=new Mt(n,e),o=new Mt(n,e+1),u=[];return this.gr.forEachInRange([a,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new nt([])),a=new Mt(n,e),o=new Mt(n,e+1);let u=Ve();return this.gr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Mt(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Mt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Ce(e.Cr,n.Cr)}static pr(e,n){return Ce(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Rt(Mt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new KC(u,n,a,o);this.mutationQueue.push(f);for(const p of o)this.Mr=this.Mr.add(new Mt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Nr(a),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Wm:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Mt(n,0),o=new Mt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],f=>{const p=this.Or(f.Cr);u.push(p)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Rt(Ce);return n.forEach(o=>{const u=new Mt(o,0),f=new Mt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],p=>{a=a.add(p.Cr)})}),J.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;ye.isDocumentKey(u)||(u=u.child(""));const f=new Mt(new ye(u),0);let p=new Rt(Ce);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Cr)),!0)},f),J.resolve(this.Br(p))}Br(e){const n=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){je(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return J.forEach(n.mutations,o=>{const u=new Mt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new Mt(n,0),o=this.Mr.firstAfterOrEqual(a);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.kr=e,this.docs=function(){return new at(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return J.resolve(a?a.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let a=Wi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),J.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Wi();const f=n.path,p=new ye(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||sC(aC(E),a)<=0||(o.has(E.key)||Eh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Te()}qr(e,n){return J.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new x2(this)}getSize(e){return J.resolve(this.size)}}class x2 extends b2{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.persistence=e,this.Qr=new Ha(n=>tp(n),np),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Ur=new op,this.targetCount=0,this.Kr=$s.Un()}forEachTarget(e,n){return this.Qr.forEach((a,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new $s(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.Qr.forEach((f,p)=>{p.sequenceNumber<=n&&a.get(p.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return J.resolve(a)}addMatchingKeys(e,n,a){return this.Ur.yr(n,a),J.resolve()}removeMatchingKeys(e,n,a){this.Ur.Sr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Ur.vr(n);return J.resolve(a)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new mh(0),this.zr=!1,this.zr=!0,this.jr=new D2,this.referenceDelegate=e(this),this.Hr=new M2(this),this.indexManager=new y2,this.remoteDocumentCache=function(o){return new O2(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new p2(n),this.Yr=new I2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new N2(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){ce("MemoryPersistence","Starting transaction:",e);const o=new V2(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class V2 extends lC{constructor(e){super(),this.currentSequenceNumber=e}}class lp{constructor(e){this.persistence=e,this.ti=new op,this.ni=null}static ri(e){return new lp(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),J.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,a=>{const o=ye.fromPath(a);return this.si(e,o).next(u=>{u||n.removeEntry(o,be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class rh{constructor(e,n){this.persistence=e,this.oi=new Ha(a=>hC(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=S2(this,n)}static ri(e,n){return new rh(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(p=>{p||(a++,u.removeEntry(f,be.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kc(e.data.value)),n}ar(e,n,a){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=o}static Yi(e,n){let a=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new up(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Ow()?8:uC($t())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new P2;return this._s(e,n,f).next(p=>{if(u.result=p,this.Xi)return this.us(e,n,f,p.size)})}).next(()=>u.result)}us(e,n,a,o){return a.documentReadCount<this.es?(ks()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(ks()<=Me.DEBUG&&ce("QueryEngine","Query:",Us(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(ks()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):J.resolve())}rs(e,n){if(Fv(n))return J.resolve(null);let a=ci(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=pm(n,null,"F"),a=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,a).next(m=>{const g=this.cs(n,p);return this.ls(n,g,f,m.readTime)?this.rs(e,pm(n,null,"F")):this.hs(e,g,n,m)}))})))}ss(e,n,a,o){return Fv(n)||o.isEqual(be.min())?J.resolve(null):this.ns.getDocuments(e,a).next(u=>{const f=this.cs(n,u);return this.ls(n,f,a,o)?J.resolve(null):(ks()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Us(n)),this.hs(e,f,n,rC(o,Pl)).next(p=>p))})}cs(e,n){let a=new Rt(tT(e));return n.forEach((o,u)=>{Eh(e,u)&&(a=a.add(u))}),a}ls(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,a){return ks()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Us(n)),this.ns.getDocumentsMatchingQuery(e,n,Br.min(),a)}hs(e,n,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="LocalStore",U2=3e8;class L2{constructor(e,n,a,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new at(Ce),this.Is=new Ha(u=>tp(u),np),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function z2(r,e,n,a){return new L2(r,e,n,a)}async function wT(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],p=[];let m=Ve();for(const g of o){f.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of u){p.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return n.localDocuments.getDocuments(a,m).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:p}))})})}function B2(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(p,m,g,E){const S=g.batch,w=S.keys();let P=J.resolve();return w.forEach(M=>{P=P.next(()=>E.getEntry(m,M)).next($=>{const j=g.docVersions.get(M);je(j!==null),$.version.compareTo(j)<0&&(S.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),P.next(()=>p.mutationQueue.removeMutationBatch(m,S))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let m=Ve();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function RT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function q2(r,e){const n=we(r),a=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const p=[];e.targetChanges.forEach((E,S)=>{const w=o.get(S);if(!w)return;p.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,S)));let P=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(jt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,a)),o=o.insert(S,P),function($,j,X){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=U2?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(w,P,E)&&p.push(n.Hr.updateTargetData(u,P))});let m=Wi(),g=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(H2(u,f,e.documentUpdates).next(E=>{m=E.Vs,g=E.fs})),!a.isEqual(be.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));p.push(E)}return J.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ts=o,u))}function H2(r,e,n){let a=Ve(),o=Ve();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let f=Wi();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(be.min())?(e.removeEntry(p,m.readTime),f=f.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),f=f.insert(p,m)):ce(cp,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{Vs:f,fs:o}})}function j2(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Wm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function F2(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Hr.getTargetData(a,e).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(a).next(f=>(o=new Mr(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function Em(r,e,n){const a=we(r),o=a.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!uo(f))throw f;ce(cp,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function iE(r,e,n){const a=we(r);let o=be.min(),u=Ve();return a.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,E){const S=we(m),w=S.Is.get(E);return w!==void 0?J.resolve(S.Ts.get(w)):S.Hr.getTargetData(g,E)}(a,f,ci(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Ve())).next(p=>(G2(a,OC(e),p),{documents:p,gs:u})))}function G2(r,e,n){let a=r.Es.get(e)||be.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Es.set(e,a)}class rE{constructor(){this.activeTargetIds=UC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K2{constructor(){this.ho=new rE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new rE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="ConnectivityMonitor";class sE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(aE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(aE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function Tm(){return Cc===null?Cc=function(){return 268435456+Math.round(2147483648*Math.random())}():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="RestConnection",Y2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class X2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,n,a,o,u){const f=Tm(),p=this.bo(e,n.toUriEncodedString());ce($d,`Sending RPC '${e}' ${f}:`,p,a);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(e,p,m,a).then(g=>(ce($d,`Received RPC '${e}' ${f}: `,g),g),g=>{throw Ks($d,`RPC '${e}' ${f} failed with error: `,g,"url: ",p,"request:",a),g})}Co(e,n,a,o,u,f){return this.So(e,n,a,o,u)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const a=Y2[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class Z2 extends X2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,o){const u=Tm();return new Promise((f,p)=>{const m=new N0;m.setWithCredentials(!0),m.listenOnce(O0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Pc.NO_ERROR:const E=m.getResponseJson();ce(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Pc.TIMEOUT:ce(Qt,`RPC '${e}' ${u} timed out`),p(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const S=m.getStatus();if(ce(Qt,`RPC '${e}' ${u} failed with status:`,S,"response text:",m.getResponseText()),S>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const P=w==null?void 0:w.error;if(P&&P.status&&P.message){const M=function(j){const X=j.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(X)>=0?X:ne.UNKNOWN}(P.status);p(new me(M,P.message))}else p(new me(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ce(Qt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce(Qt,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",g,a,15)})}Wo(e,n,a){const o=Tm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=V0(),p=M0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const E=u.join("");ce(Qt,`Creating RPC '${e}' stream ${o}: ${E}`,m);const S=f.createWebChannel(E,m);let w=!1,P=!1;const M=new $2({Fo:j=>{P?ce(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(w||(ce(Qt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),ce(Qt,`RPC '${e}' stream ${o} sending:`,j),S.send(j))},Mo:()=>S.close()}),$=(j,X,re)=>{j.listen(X,te=>{try{re(te)}catch(se){setTimeout(()=>{throw se},0)}})};return $(S,Sl.EventType.OPEN,()=>{P||(ce(Qt,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),$(S,Sl.EventType.CLOSE,()=>{P||(P=!0,ce(Qt,`RPC '${e}' stream ${o} transport closed`),M.Uo())}),$(S,Sl.EventType.ERROR,j=>{P||(P=!0,Ks(Qt,`RPC '${e}' stream ${o} transport errored:`,j),M.Uo(new me(ne.UNAVAILABLE,"The operation could not be completed")))}),$(S,Sl.EventType.MESSAGE,j=>{var X;if(!P){const re=j.data[0];je(!!re);const te=re,se=(te==null?void 0:te.error)||((X=te[0])===null||X===void 0?void 0:X.error);if(se){ce(Qt,`RPC '${e}' stream ${o} received error:`,se);const ue=se.status;let fe=function(R){const N=_t[R];if(N!==void 0)return dT(N)}(ue),D=se.message;fe===void 0&&(fe=ne.INTERNAL,D="Unknown error status: "+ue+" with message "+se.message),P=!0,M.Uo(new me(fe,D)),S.close()}else ce(Qt,`RPC '${e}' stream ${o} received:`,re),M.Ko(re)}}),$(p,x0.STAT_EVENT,j=>{j.stat===um.PROXY?ce(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===um.NOPROXY&&ce(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(r){return new t2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-a);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="PersistentStream";class CT{constructor(e,n,a,o,u,f,p,m){this.Ti=e,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new IT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===n&&this.V_(a,o)},a=>{e(()=>{const o=new me(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(oE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ce(oE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W2 extends CT{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=r2(this.serializer,e),a=function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?fi(f.readTime):be.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=vm(this.serializer),n.addTarget=function(u,f){let p;const m=f.target;if(p=mm(m)?{documents:o2(u,m)}:{query:l2(u,m).ht},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=gT(u,f.resumeToken);const g=gm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){p.readTime=ih(u,f.snapshotVersion.toTimestamp());const g=gm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const a=c2(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=vm(this.serializer),n.removeTarget=e,this.I_(n)}}class J2 extends CT{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=s2(e.writeResults,e.commitTime),a=fi(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=vm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>a2(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{}class tD extends eD{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,ym(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ne.UNKNOWN,u.toString())})}Co(e,n,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Co(e,ym(n,a),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(ne.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class nD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Zi(n),this.N_=!1):ce("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="RemoteStore";class iD{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{ja(this)&&(ce(Ba,"Restarting streams for network reachability change."),await async function(m){const g=we(m);g.W_.add(4),await $l(g),g.j_.set("Unknown"),g.W_.delete(4),await wh(g)}(this))})}),this.j_=new nD(a,o)}}async function wh(r){if(ja(r))for(const e of r.G_)await e(!0)}async function $l(r){for(const e of r.G_)await e(!1)}function DT(r,e){const n=we(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),mp(n)?dp(n):co(n).c_()&&fp(n,e))}function hp(r,e){const n=we(r),a=co(n);n.K_.delete(e),a.c_()&&NT(n,e),n.K_.size===0&&(a.c_()?a.P_():ja(n)&&n.j_.set("Unknown"))}function fp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(r).y_(e)}function NT(r,e){r.H_.Ne(e),co(r).w_(e)}function dp(r){r.H_=new ZC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),co(r).start(),r.j_.B_()}function mp(r){return ja(r)&&!co(r).u_()&&r.K_.size>0}function ja(r){return we(r).W_.size===0}function OT(r){r.H_=void 0}async function rD(r){r.j_.set("Online")}async function aD(r){r.K_.forEach((e,n)=>{fp(r,e)})}async function sD(r,e){OT(r),mp(r)?(r.j_.q_(e),dp(r)):r.j_.set("Unknown")}async function oD(r,e,n){if(r.j_.set("Online"),e instanceof pT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.K_.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.K_.delete(p),o.H_.removeTarget(p))}(r,e)}catch(a){ce(Ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ah(r,a)}else if(e instanceof zc?r.H_.We(e):e instanceof mT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(be.min()))try{const a=await RT(r.localStore);n.compareTo(a)>=0&&await function(u,f){const p=u.H_.ot(f);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach((m,g)=>{const E=u.K_.get(m);if(!E)return;u.K_.set(m,E.withResumeToken(jt.EMPTY_BYTE_STRING,E.snapshotVersion)),NT(u,m);const S=new Mr(E.target,m,g,E.sequenceNumber);fp(u,S)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(a){ce(Ba,"Failed to raise snapshot:",a),await ah(r,a)}}async function ah(r,e,n){if(!uo(e))throw e;r.W_.add(1),await $l(r),r.j_.set("Offline"),n||(n=()=>RT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(Ba,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await wh(r)})}function xT(r,e){return e().catch(n=>ah(r,n,e))}async function Rh(r){const e=we(r),n=Fr(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:Wm;for(;lD(e);)try{const o=await j2(e.localStore,a);if(o===null){e.U_.length===0&&n.P_();break}a=o.batchId,uD(e,o)}catch(o){await ah(e,o)}MT(e)&&VT(e)}function lD(r){return ja(r)&&r.U_.length<10}function uD(r,e){r.U_.push(e);const n=Fr(r);n.c_()&&n.S_&&n.b_(e.mutations)}function MT(r){return ja(r)&&!Fr(r).u_()&&r.U_.length>0}function VT(r){Fr(r).start()}async function cD(r){Fr(r).C_()}async function hD(r){const e=Fr(r);for(const n of r.U_)e.b_(n.mutations)}async function fD(r,e,n){const a=r.U_.shift(),o=rp.from(a,e,n);await xT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Rh(r)}async function dD(r,e){e&&Fr(r).S_&&await async function(a,o){if(function(f){return XC(f)&&f!==ne.ABORTED}(o.code)){const u=a.U_.shift();Fr(a).h_(),await xT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Rh(a)}}(r,e),MT(r)&&VT(r)}async function lE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ce(Ba,"RemoteStore received new credentials");const a=ja(n);n.W_.add(3),await $l(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await wh(n)}async function mD(r,e){const n=we(r);e?(n.W_.delete(2),await wh(n)):e||(n.W_.add(2),await $l(n),n.j_.set("Unknown"))}function co(r){return r.J_||(r.J_=function(n,a,o){const u=we(n);return u.M_(),new W2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:rD.bind(null,r),No:aD.bind(null,r),Lo:sD.bind(null,r),p_:oD.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),mp(r)?dp(r):r.j_.set("Unknown")):(await r.J_.stop(),OT(r))})),r.J_}function Fr(r){return r.Y_||(r.Y_=function(n,a,o){const u=we(n);return u.M_(),new J2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:cD.bind(null,r),Lo:dD.bind(null,r),D_:hD.bind(null,r),v_:fD.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Rh(r)):(await r.Y_.stop(),r.U_.length>0&&(ce(Ba,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,p=new pp(e,n,f,o,u);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gp(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),uo(r))return new me(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{static emptySet(e){return new js(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ye.comparator(n.key,a.key):(n,a)=>ye.comparator(n.key,a.key),this.keyedMap=bl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new js;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.Z_=new at(ye.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class Zs{constructor(e,n,a,o,u,f,p,m,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new Zs(e,n,js.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class gD{constructor(){this.queries=cE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const o=we(n),u=o.queries;o.queries=cE(),u.forEach((f,p)=>{for(const m of p.ta)m.onError(a)})})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function cE(){return new Ha(r=>eT(r),vh)}async function PT(r,e){const n=we(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(a=2):(u=new pD,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=gp(f,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&yp(n)}async function kT(r,e){const n=we(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function yD(r,e){const n=we(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.ta)p.oa(o)&&(a=!0);f.ea=o}}a&&yp(n)}function _D(r,e,n){const a=we(r),o=a.queries.get(e);if(o)for(const u of o.ta)u.onError(n);a.queries.delete(e)}function yp(r){r.ia.forEach(e=>{e.next()})}var Am,hE;(hE=Am||(Am={}))._a="default",hE.Cache="cache";class UT{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Zs(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.key=e}}class zT{constructor(e){this.key=e}}class vD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=tT(e),this.wa=new js(this.ya)}get Sa(){return this.fa}ba(e,n){const a=n?n.Da:new uE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const w=o.get(E),P=Eh(this.query,S)?S:null,M=!!w&&this.mutatedKeys.has(w.key),$=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let j=!1;w&&P?w.data.isEqual(P.data)?M!==$&&(a.track({type:3,doc:P}),j=!0):this.va(w,P)||(a.track({type:2,doc:P}),j=!0,(m&&this.ya(P,m)>0||g&&this.ya(P,g)<0)&&(p=!0)):!w&&P?(a.track({type:0,doc:P}),j=!0):w&&!P&&(a.track({type:1,doc:w}),j=!0,(m||g)&&(p=!0)),j&&(P?(f=f.add(P),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{wa:f,Da:a,ls:p,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,S)=>function(P,M){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return $(P)-$(M)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(a),o=o!=null&&o;const p=n&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,f.length!==0||g?{snapshot:new Zs(this.query,e.wa,u,f,e.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new uE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new zT(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new LT(a))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Zs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const _p="SyncEngine";class ED{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class TD{constructor(e){this.key=e,this.Ba=!1}}class AD{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ha(p=>eT(p),vh),this.qa=new Map,this.Qa=new Set,this.$a=new at(ye.comparator),this.Ua=new Map,this.Ka=new op,this.Wa={},this.Ga=new Map,this.za=$s.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function SD(r,e,n=!0){const a=GT(r);let o;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await BT(a,e,n,!0),o}async function bD(r,e){const n=GT(r);await BT(n,e,!0,!1)}async function BT(r,e,n,a){const o=await F2(r.localStore,ci(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return a&&(p=await wD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&DT(r.remoteStore,o),p}async function wD(r,e,n,a,o){r.Ha=(S,w,P)=>async function($,j,X,re){let te=j.view.ba(X);te.ls&&(te=await iE($.localStore,j.query,!1).then(({documents:D})=>j.view.ba(D,te)));const se=re&&re.targetChanges.get(j.targetId),ue=re&&re.targetMismatches.get(j.targetId)!=null,fe=j.view.applyChanges(te,$.isPrimaryClient,se,ue);return dE($,j.targetId,fe.Ma),fe.snapshot}(r,S,w,P);const u=await iE(r.localStore,e,!0),f=new vD(e,u.gs),p=f.ba(u.documents),m=Xl.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=f.applyChanges(p,r.isPrimaryClient,m);dE(r,n,g.Ma);const E=new ED(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function RD(r,e,n){const a=we(r),o=a.ka.get(e),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(f=>!vh(f,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Em(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&hp(a.remoteStore,o.targetId),Sm(a,o.targetId)}).catch(lo)):(Sm(a,o.targetId),await Em(a.localStore,o.targetId,!0))}async function ID(r,e){const n=we(r),a=n.ka.get(e),o=n.qa.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),hp(n.remoteStore,a.targetId))}async function CD(r,e,n){const a=PD(r);try{const o=await function(f,p){const m=we(f),g=wt.now(),E=p.reduce((P,M)=>P.add(M.key),Ve());let S,w;return m.persistence.runTransaction("Locally write mutations","readwrite",P=>{let M=Wi(),$=Ve();return m.ds.getEntries(P,E).next(j=>{M=j,M.forEach((X,re)=>{re.isValidDocument()||($=$.add(X))})}).next(()=>m.localDocuments.getOverlayedDocuments(P,M)).next(j=>{S=j;const X=[];for(const re of p){const te=FC(re,S.get(re.key).overlayedDocument);te!=null&&X.push(new Yr(re.key,te,Q0(te.value.mapValue),hi.exists(!0)))}return m.mutationQueue.addMutationBatch(P,g,X,p)}).next(j=>{w=j;const X=j.applyToLocalDocumentSet(S,$);return m.documentOverlayCache.saveOverlays(P,j.batchId,X)})}).then(()=>({batchId:w.batchId,changes:iT(S)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){let g=f.Wa[f.currentUser.toKey()];g||(g=new at(Ce)),g=g.insert(p,m),f.Wa[f.currentUser.toKey()]=g}(a,o.batchId,n),await Zl(a,o.changes),await Rh(a.remoteStore)}catch(o){const u=gp(o,"Failed to persist write");n.reject(u)}}async function qT(r,e){const n=we(r);try{const a=await q2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?je(f.Ba):o.removedDocuments.size>0&&(je(f.Ba),f.Ba=!1))}),await Zl(n,a,e)}catch(a){await lo(a)}}function fE(r,e,n){const a=we(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ka.forEach((u,f)=>{const p=f.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const m=we(f);m.onlineState=p;let g=!1;m.queries.forEach((E,S)=>{for(const w of S.ta)w.sa(p)&&(g=!0)}),g&&yp(m)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function DD(r,e,n){const a=we(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Ua.get(e),u=o&&o.key;if(u){let f=new at(ye.comparator);f=f.insert(u,Xt.newNoDocument(u,be.min()));const p=Ve().add(u),m=new Sh(be.min(),new Map,new at(Ce),f,p);await qT(a,m),a.$a=a.$a.remove(u),a.Ua.delete(e),vp(a)}else await Em(a.localStore,e,!1).then(()=>Sm(a,e,n)).catch(lo)}async function ND(r,e){const n=we(r),a=e.batch.batchId;try{const o=await B2(n.localStore,e);jT(n,a,null),HT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Zl(n,o)}catch(o){await lo(o)}}async function OD(r,e,n){const a=we(r);try{const o=await function(f,p){const m=we(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return m.mutationQueue.lookupMutationBatch(g,p).next(S=>(je(S!==null),E=S.keys(),m.mutationQueue.removeMutationBatch(g,S))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>m.localDocuments.getDocuments(g,E))})}(a.localStore,e);jT(a,e,n),HT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Zl(a,o)}catch(o){await lo(o)}}function HT(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function jT(r,e,n){const a=we(r);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function Sm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.qa.get(e))r.ka.delete(a),n&&r.La.Ja(a,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(a=>{r.Ka.containsKey(a)||FT(r,a)})}function FT(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(hp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),vp(r))}function dE(r,e,n){for(const a of n)a instanceof LT?(r.Ka.addReference(a.key,e),xD(r,a)):a instanceof zT?(ce(_p,"Document no longer in limbo: "+a.key),r.Ka.removeReference(a.key,e),r.Ka.containsKey(a.key)||FT(r,a.key)):Te()}function xD(r,e){const n=e.key,a=n.path.canonicalString();r.$a.get(n)||r.Qa.has(a)||(ce(_p,"New document in limbo: "+n),r.Qa.add(a),vp(r))}function vp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(nt.fromString(e)),a=r.za.next();r.Ua.set(a,new TD(n)),r.$a=r.$a.insert(n,a),DT(r.remoteStore,new Mr(ci(_h(n.path)),a,"TargetPurposeLimboResolution",mh.ae))}}async function Zl(r,e,n){const a=we(r),o=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((p,m)=>{f.push(a.Ha(m,e,n).then(g=>{var E;if((g||n)&&a.isPrimaryClient){const S=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(g){o.push(g);const S=up.Yi(m.targetId,g);u.push(S)}}))}),await Promise.all(f),a.La.p_(o),await async function(m,g){const E=we(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>J.forEach(g,w=>J.forEach(w.Hi,P=>E.persistence.referenceDelegate.addReference(S,w.targetId,P)).next(()=>J.forEach(w.Ji,P=>E.persistence.referenceDelegate.removeReference(S,w.targetId,P)))))}catch(S){if(!uo(S))throw S;ce(cp,"Failed to update sequence numbers: "+S)}for(const S of g){const w=S.targetId;if(!S.fromCache){const P=E.Ts.get(w),M=P.snapshotVersion,$=P.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(w,$)}}}(a.localStore,u))}async function MD(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ce(_p,"User change. New user:",e.toKey());const a=await wT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(p=>{p.forEach(m=>{m.reject(new me(ne.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Zl(n,a.Rs)}}function VD(r,e){const n=we(r),a=n.Ua.get(e);if(a&&a.Ba)return Ve().add(a.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const f of u){const p=n.ka.get(f);o=o.unionWith(p.view.Sa)}return o}}function GT(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DD.bind(null,e),e.La.p_=yD.bind(null,e.eventManager),e.La.Ja=_D.bind(null,e.eventManager),e}function PD(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ND.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OD.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return z2(this.persistence,new k2,e.initialUser,this.serializer)}Xa(e){return new bT(lp.ri,this.serializer)}Za(e){return new K2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class kD extends sh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){je(this.persistence.referenceDelegate instanceof rh);const a=this.persistence.referenceDelegate.garbageCollector;return new T2(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new bT(a=>rh.ri(a,n),this.serializer)}}class bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>fE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=MD.bind(null,this.syncEngine),await mD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gD}()}createDatastore(e){const n=bh(e.databaseInfo.databaseId),a=function(u){return new Z2(u)}(e.databaseInfo);return function(u,f,p,m){return new tD(u,f,p,m)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,p){return new iD(a,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>fE(this.syncEngine,n,0),function(){return sE.D()?new sE:new Q2}())}createSyncEngine(e,n){return function(o,u,f,p,m,g,E){const S=new AD(o,u,f,p,m,g);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);ce(Ba,"RemoteStore shutting down."),u.W_.add(5),await $l(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}bm.provider={build:()=>new bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="FirestoreClient";class UD{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=U0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{ce(Gr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ce(Gr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=gp(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Wd(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Gr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await wT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function mE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await LD(r);ce(Gr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>lE(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>lE(e.remoteStore,o)),r._onlineComponents=e}async function LD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Gr,"Using user provided OfflineComponentProvider");try{await Wd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ks("Error using user provided cache. Falling back to memory cache: "+n),await Wd(r,new sh)}}else ce(Gr,"Using default OfflineComponentProvider"),await Wd(r,new kD(void 0));return r._offlineComponents}async function QT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Gr,"Using user provided OnlineComponentProvider"),await mE(r,r._uninitializedComponentsProvider._online)):(ce(Gr,"Using default OnlineComponentProvider"),await mE(r,new bm))),r._onlineComponents}function zD(r){return QT(r).then(e=>e.syncEngine)}async function wm(r){const e=await QT(r),n=e.eventManager;return n.onListen=SD.bind(null,e.syncEngine),n.onUnlisten=RD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ID.bind(null,e.syncEngine),n}function BD(r,e,n={}){const a=new Lr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const E=new KT({next:w=>{E.su(),f.enqueueAndForget(()=>kT(u,S));const P=w.docs.has(p);!P&&w.fromCache?g.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&w.fromCache&&m&&m.source==="server"?g.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new UT(_h(p.path),E,{includeMetadataChanges:!0,Ta:!0});return PT(u,S)}(await wm(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(r,e,n){if(!n)throw new me(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function qD(r,e,n,a){if(e===!0&&a===!0)throw new me(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function gE(r){if(!ye.isDocumentKey(r))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yE(r){if(ye.isDocumentKey(r))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ep(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function Qi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ep(r);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firestore.googleapis.com",_E=!0;class vE{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$T,this.ssl=_E}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:_E;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ST;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v2)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new XI;switch(a.type){case"firstParty":return new JI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=pE.get(n);a&&(ce("ComponentProvider","Removing Datastore"),pE.delete(n),a.terminate())}(this),Promise.resolve()}}function HD(r,e,n,a={}){var o;const u=(r=Qi(r,Ih))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u.host!==$T&&u.host!==p&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:p,ssl:!1,emulatorOptions:a});if(!ka(m,f)&&(r._setSettings(m),a.mockUserToken)){let g,E;if(typeof a.mockUserToken=="string")g=a.mockUserToken,E=Yt.MOCK_USER;else{g=bw(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Yt(S)}r._authCredentials=new $I(new P0(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class on{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class zr extends Ch{constructor(e,n,a){super(e,n,_h(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ye(e))}withConverter(e){return new zr(this.firestore,e,this._path)}}function qa(r,e,...n){if(r=Ht(r),XT("collection","path",e),r instanceof Ih){const a=nt.fromString(e,...n);return yE(a),new zr(r,null,a)}{if(!(r instanceof on||r instanceof zr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(nt.fromString(e,...n));return yE(a),new zr(r.firestore,null,a)}}function Ws(r,e,...n){if(r=Ht(r),arguments.length===1&&(e=U0.newId()),XT("doc","path",e),r instanceof Ih){const a=nt.fromString(e,...n);return gE(a),new on(r,null,new ye(a))}{if(!(r instanceof on||r instanceof zr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(nt.fromString(e,...n));return gE(a),new on(r.firestore,r instanceof zr?r.converter:null,new ye(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="AsyncQueue";class TE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new IT(this,"async_queue_retry"),this.Su=()=>{const a=Zd();a&&ce(EE,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const n=Zd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Lr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!uo(e))throw e;ce(EE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(a);throw Zi("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=pp.createAndSchedule(this,e,n,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function AE(r){return function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Js extends Ih{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new TE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TE(e),this._firestoreClient=void 0,await e}}}function jD(r,e){const n=typeof r=="object"?r:$E(),a=typeof r=="string"?r:Zc,o=Lm(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=Aw("firestore");u&&HD(o,...u)}return o}function Tp(r){if(r._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FD(r),r._firestoreClient}function FD(r){var e,n,a;const o=r._freezeSettings(),u=function(p,m,g,E){return new mC(p,m,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,YT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new UD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eo(jt.fromBase64String(e))}catch(n){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eo(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=/^__.*__$/;class KD{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yl(e,this.data,n,this.fieldTransforms)}}class ZT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class wp{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new wp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Uu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return oh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(WT(this.Lu)&&GD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class QD{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||bh(e)}ju(e,n,a,o=!1){return new wp({Lu:e,methodName:n,zu:a,path:qt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JT(r){const e=r._freezeSettings(),n=bh(r._databaseId);return new QD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function YD(r,e,n,a,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Rp("Data must be an object, but it was:",f,a);const p=eA(a,f);let m,g;if(u.merge)m=new yn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=Rm(e,S,n);if(!f.contains(w))throw new me(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);nA(E,w)||E.push(w)}m=new yn(E),g=f.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,g=f.fieldTransforms;return new KD(new sn(p),m,g)}class Nh extends Ap{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function XD(r,e,n,a){const o=r.ju(1,e,n);Rp("Data must be an object, but it was:",o,a);const u=[],f=sn.empty();Qr(a,(m,g)=>{const E=Ip(e,m,n);g=Ht(g);const S=o.Uu(E);if(g instanceof Nh)u.push(E);else{const w=Oh(g,S);w!=null&&(u.push(E),f.set(E,w))}});const p=new yn(u);return new ZT(f,p,o.fieldTransforms)}function $D(r,e,n,a,o,u){const f=r.ju(1,e,n),p=[Rm(e,a,n)],m=[o];if(u.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(Rm(e,u[w])),m.push(u[w+1]);const g=[],E=sn.empty();for(let w=p.length-1;w>=0;--w)if(!nA(g,p[w])){const P=p[w];let M=m[w];M=Ht(M);const $=f.Uu(P);if(M instanceof Nh)g.push(P);else{const j=Oh(M,$);j!=null&&(g.push(P),E.set(P,j))}}const S=new yn(g);return new ZT(E,S,f.fieldTransforms)}function Oh(r,e){if(tA(r=Ht(r)))return Rp("Unsupported field value:",e,r),eA(r,e);if(r instanceof Ap)return function(a,o){if(!WT(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const p of a){let m=Oh(p,o.Ku(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=Ht(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return LC(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=wt.fromDate(a);return{timestampValue:ih(o.serializer,u)}}if(a instanceof wt){const u=new wt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(o.serializer,u)}}if(a instanceof Sp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof eo)return{bytesValue:gT(o.serializer,a._byteString)};if(a instanceof on){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:sp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof bp)return function(f,p){return{mapValue:{fields:{[G0]:{stringValue:K0},[Wc]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.Wu("VectorValues must only contain numeric values.");return ip(p.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Ep(a)}`)}(r,e)}function eA(r,e){const n={};return z0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(r,(a,o)=>{const u=Oh(o,e.qu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function tA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof wt||r instanceof Sp||r instanceof eo||r instanceof on||r instanceof Ap||r instanceof bp)}function Rp(r,e,n){if(!tA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=Ep(n);throw a==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+a)}}function Rm(r,e,n){if((e=Ht(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return Ip(r,e);throw oh("Field path arguments must be of type string or ",r,!1,void 0,n)}const ZD=new RegExp("[~\\*/\\[\\]]");function Ip(r,e,n){if(e.search(ZD)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Dh(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function oh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${a}`),f&&(m+=` in document ${o}`),m+=")"),new me(ne.INVALID_ARGUMENT,p+r+m)}function nA(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WD extends iA{data(){return super.data()}}function rA(r,e){return typeof e=="string"?Ip(r,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eN{convertValue(e,n="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Qr(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[Wc].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>dt(f.doubleValue));return new bp(u)}convertGeoPoint(e){return new Sp(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=gh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=qr(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=nt.fromString(e);je(AT(a));const o=new Ul(a.get(1),a.get(3)),u=new ye(a.popFirst(5));return o.isEqual(n)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(r,e,n){let a;return a=r?r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aA extends iA{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(rA("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class Bc extends aA{data(e={}){return super.data(e)}}class nN{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Rl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new Bc(this._firestore,this._userDataWriter,a.key,a,new Rl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const m=new Bc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Rl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new Bc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Rl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:iN(p.type),doc:m,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(r){r=Qi(r,on);const e=Qi(r.firestore,Js);return BD(Tp(e),r._key).then(n=>lA(e,r,n))}class sA extends eN{constructor(e){super(),this.firestore=e}convertBytes(e){return new eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function rN(r,e,n,...a){r=Qi(r,on);const o=Qi(r.firestore,Js),u=JT(o);let f;return f=typeof(e=Ht(e))=="string"||e instanceof Dh?$D(u,"updateDoc",r._key,e,n,a):XD(u,"updateDoc",r._key,e),oA(o,[f.toMutation(r._key,hi.exists(!0))])}function aN(r,e){const n=Qi(r.firestore,Js),a=Ws(r),o=tN(r.converter,e);return oA(n,[YD(JT(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,hi.exists(!1))]).then(()=>a)}function to(r,...e){var n,a,o;r=Ht(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||AE(e[f])||(u=e[f],f++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(AE(e[f])){const S=e[f];e[f]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[f+1]=(a=S.error)===null||a===void 0?void 0:a.bind(S),e[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let m,g,E;if(r instanceof on)g=Qi(r.firestore,Js),E=_h(r._key.path),m={next:S=>{e[f]&&e[f](lA(g,r,S))},error:e[f+1],complete:e[f+2]};else{const S=Qi(r,Ch);g=Qi(S.firestore,Js),E=S._query;const w=new sA(g);m={next:P=>{e[f]&&e[f](new nN(g,w,S,P))},error:e[f+1],complete:e[f+2]},JD(r._query)}return function(w,P,M,$){const j=new KT($),X=new UT(P,j,M);return w.asyncQueue.enqueueAndForget(async()=>PT(await wm(w),X)),()=>{j.su(),w.asyncQueue.enqueueAndForget(async()=>kT(await wm(w),X))}}(Tp(g),E,p,m)}function oA(r,e){return function(a,o){const u=new Lr;return a.asyncQueue.enqueueAndForget(async()=>CD(await zD(a),o,u)),u.promise}(Tp(r),e)}function lA(r,e,n){const a=n.docs.get(e._key),o=new sA(r);return new aA(r,o,e._key,a,new Rl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){oo=o})(ao),Fs(new Ua("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),p=new Js(new ZI(a.getProvider("auth-internal")),new eC(f,a.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),kr(Iv,Cv,e),kr(Iv,Cv,"esm2017")})();var sN="firebase",oN="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(sN,oN,"app");const lN={apiKey:"AIzaSyBnCUSs7kB_vM7Pg_-Ib9CWvPJ99pxGYQk",authDomain:"webtorneitoapp.firebaseapp.com",projectId:"webtorneitoapp",storageBucket:"webtorneitoapp.firebasestorage.app",messagingSenderId:"1044341561885",appId:"1:1044341561885:web:a8d456248a9209668184f4",measurementId:"G-3FGSQNXL5N"},uA=XE(lN),On=jD(uA);$m(uA);const cA=G.createContext(null),uN=({children:r})=>{const[e,n]=G.useState(null),[a,o]=G.useState(null),[u,f]=G.useState(!0);return G.useEffect(()=>{const p=$m(),m=k1(p,async g=>{if(n(g),g){const E=Ws(On,"users",g.uid),S=await xh(E);S.exists()?o(S.data().role):o(null)}else o(null);f(!1)});return()=>m()},[]),React.createElement(cA.Provider,{value:{user:e,role:a,loading:u}},r)},Mh=()=>G.useContext(cA),SE=({children:r,requiredRole:e})=>{const{user:n,role:a,loading:o}=Mh();return!n||a===void 0||o?null:!n||a!==e?L.createElement(xb,{to:"/",replace:!0}):L.createElement(L.Fragment,null,r)},cN=()=>React.createElement("div",{className:"p-6"},React.createElement("h2",{className:"text-2xl font-bold mb-4"},"Panel de Administracin"),React.createElement("p",{className:"text-gray-700"},"Aqu podrs gestionar los partidos y estadsticas.")),hN=()=>{const r=$m(),{user:e,role:n}=Mh(),a=()=>{const u=new ji;iI(r,u).catch(console.error)},o=()=>{U1(r)};return React.createElement("nav",{className:"bg-primary text-white px-4 py-4 sm:px-6 shadow-md"},React.createElement("div",{className:"max-w-7xl mx-auto flex flex-col sm:flex-row justify-between items-center gap-4"},React.createElement("h1",{className:"text-xl sm:text-2xl font-bold text-center sm:text-left"},"Torneo de Vley"),React.createElement("ul",{className:"flex flex-wrap justify-center sm:justify-start gap-3 text-sm sm:text-base"},React.createElement("li",null,React.createElement(li,{to:"/schedule",className:"hover:underline"},"Calendario")),React.createElement("li",null,React.createElement(li,{to:"/leaderboard",className:"hover:underline"},"Posiciones")),React.createElement("li",null,React.createElement(li,{to:"/players",className:"hover:underline"},"Jugadores")),e&&n==="admin"&&React.createElement("li",null,React.createElement(li,{to:"/matches",className:"hover:underline"},"Partidos"))),React.createElement("div",{className:"flex flex-col sm:flex-row items-center gap-2"},e?React.createElement(React.Fragment,null,React.createElement("span",{className:"text-sm text-center sm:text-left"},"Hola, ",e.displayName),React.createElement("button",{onClick:o,className:"bg-red-500 hover:bg-red-600 px-3 py-1 rounded text-sm"},"Cerrar sesin")):React.createElement("button",{onClick:a,className:"bg-white text-primary px-3 py-1 rounded text-sm hover:bg-gray-100"},"Iniciar sesin"))))},fN=()=>{const[r,e]=G.useState([]);G.useEffect(()=>{const m=to(qa(On,"matches"),g=>{const E=g.docs.map(S=>({id:S.id,...S.data()}));e(E)});return()=>m()},[]);const n=r.filter(m=>m.phase==="group"),a={};n.forEach(({teamA:m,teamB:g,scoreA:E,scoreB:S})=>{a[m]||(a[m]={team:m,w:0,l:0,pf:0,pc:0}),a[g]||(a[g]={team:g,w:0,l:0,pf:0,pc:0}),a[m].pf+=E,a[m].pc+=S,a[g].pf+=S,a[g].pc+=E,E>S?(a[m].w++,a[g].l++):S>E&&(a[g].w++,a[m].l++)});const o=Object.values(a).sort((m,g)=>{if(g.w!==m.w)return g.w-m.w;const E=m.pf-m.pc,S=g.pf-g.pc;return S!==E?S-E:g.pf-m.pf}),u=r.filter(m=>m.phase==="semifinal").sort((m,g)=>new Date(m.date).getTime()-new Date(g.date).getTime()),f=r.filter(m=>m.phase==="third").sort((m,g)=>new Date(m.date).getTime()-new Date(g.date).getTime()),p=r.filter(m=>m.phase==="final").sort((m,g)=>new Date(m.date).getTime()-new Date(g.date).getTime());return L.createElement("div",{className:"p-6 max-w-5xl mx-auto space-y-10"},L.createElement("section",null,L.createElement("h2",{className:"text-2xl font-bold mb-4"},"Tabla de Posiciones"),L.createElement("table",{className:"table-auto w-full border text-sm text-left"},L.createElement("thead",{className:"bg-gray-100"},L.createElement("tr",null,L.createElement("th",{className:"px-3 py-2"},"#"),L.createElement("th",{className:"px-3 py-2"},"Equipo"),L.createElement("th",{className:"px-3 py-2"},"G"),L.createElement("th",{className:"px-3 py-2"},"P"),L.createElement("th",{className:"px-3 py-2"},"PF"),L.createElement("th",{className:"px-3 py-2"},"PC"),L.createElement("th",{className:"px-3 py-2"},"+/-"))),L.createElement("tbody",null,o.map((m,g)=>L.createElement("tr",{key:m.team,className:"border-t"},L.createElement("td",{className:"px-3 py-2"},g+1),L.createElement("td",{className:"px-3 py-2"},m.team),L.createElement("td",{className:"px-3 py-2"},m.w),L.createElement("td",{className:"px-3 py-2"},m.l),L.createElement("td",{className:"px-3 py-2"},m.pf),L.createElement("td",{className:"px-3 py-2"},m.pc),L.createElement("td",{className:"px-3 py-2"},m.pf-m.pc)))))),L.createElement("section",null,L.createElement("h2",{className:"text-2xl font-bold mb-4"},"Fase Eliminatoria"),L.createElement("div",{className:"space-y-6"},L.createElement("div",null,L.createElement("h3",{className:"font-semibold mb-2"},"Semifinales"),L.createElement("ul",{className:"space-y-2"},u.map(m=>{const g=new Date(m.date);return L.createElement("li",{key:m.id,className:"border p-3 rounded-md flex justify-between"},L.createElement("span",null,m.teamA," vs ",m.teamB),L.createElement("span",{className:"text-sm text-gray-500"},g.toLocaleDateString("es-ES",{day:"numeric",month:"long"})," "," ",g.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})))}))),L.createElement("div",null,L.createElement("h3",{className:"font-semibold mb-2"},"Tercer Puesto"),f.map(m=>{const g=new Date(m.date);return L.createElement("div",{key:m.id,className:"border p-3 rounded-md flex justify-between"},L.createElement("span",null,"Perdedor SF1 vs Perdedor SF2"),L.createElement("span",{className:"text-sm text-gray-500"},g.toLocaleDateString("es-ES",{day:"numeric",month:"long"})," "," ",g.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})))})),L.createElement("div",null,L.createElement("h3",{className:"font-semibold mb-2"},"Final"),p.map(m=>{const g=new Date(m.date);return L.createElement("div",{key:m.id,className:"border p-3 rounded-md flex justify-between"},L.createElement("span",null,"Ganador SF1 vs Ganador SF2"),L.createElement("span",{className:"text-sm text-gray-500"},g.toLocaleDateString("es-ES",{day:"numeric",month:"long"})," "," ",g.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})))})))),L.createElement("div",{className:"text-center"},L.createElement(li,{to:"/schedule",className:"text-primary underline"},"Ver calendario completo")))},dN=()=>{const{user:r,role:e}=Mh(),[n,a]=G.useState([]),[o,u]=G.useState({teamA:"",teamB:"",scoreA:"",scoreB:"",date:""});G.useEffect(()=>{const m=to(qa(On,"matches"),g=>{const E=g.docs.map(S=>({id:S.id,...S.data()}));a(E)});return()=>m()},[]);const f=m=>{const{name:g,value:E}=m.target;u(S=>({...S,[g]:E}))},p=async m=>{m.preventDefault();const g={teamA:o.teamA,teamB:o.teamB,scoreA:parseInt(o.scoreA),scoreB:parseInt(o.scoreB),date:o.date};try{await aN(qa(On,"matches"),g),u({teamA:"",teamB:"",scoreA:"",scoreB:"",date:""})}catch(E){console.error("Error al guardar el partido:",E)}};return L.createElement("div",{className:"p-6"},L.createElement("h2",{className:"text-2xl font-bold mb-4"},"Partidos"),r&&e==="admin"&&L.createElement(L.Fragment,null,L.createElement("h3",{className:"text-xl font-semibold mb-2"},"Registrar nuevo partido"),L.createElement("form",{onSubmit:p,className:"space-y-4 max-w-xl mb-6"},L.createElement("div",{className:"flex gap-4"},L.createElement("input",{type:"text",name:"teamA",value:o.teamA,onChange:f,placeholder:"Equipo A",className:"w-1/2 border px-3 py-2 rounded",required:!0}),L.createElement("input",{type:"text",name:"teamB",value:o.teamB,onChange:f,placeholder:"Equipo B",className:"w-1/2 border px-3 py-2 rounded",required:!0})),L.createElement("div",{className:"flex gap-4"},L.createElement("input",{type:"number",name:"scoreA",value:o.scoreA,onChange:f,placeholder:"Puntos A",className:"w-1/2 border px-3 py-2 rounded",required:!0}),L.createElement("input",{type:"number",name:"scoreB",value:o.scoreB,onChange:f,placeholder:"Puntos B",className:"w-1/2 border px-3 py-2 rounded",required:!0})),L.createElement("input",{type:"text",name:"date",value:o.date,onChange:f,placeholder:"Fecha (ej. 2 de mayo)",className:"w-full border px-3 py-2 rounded",required:!0}),L.createElement("button",{type:"submit",className:"bg-primary text-white px-4 py-2 rounded"},"Guardar"))),L.createElement("h3",{className:"text-xl font-semibold mb-2"},"Partidos registrados"),L.createElement("ul",{className:"space-y-2"},n.map(m=>L.createElement("li",{key:m.id,className:"border px-4 py-2 rounded shadow-sm flex justify-between items-center"},L.createElement("span",null,L.createElement("strong",null,m.date),": ",m.teamA," ",m.scoreA," - ",m.scoreB," ",m.teamB),(e==="admin"||e==="scorekeeper")&&L.createElement("a",{href:`/admin-match/${m.id}`,className:"text-sm text-blue-600 hover:underline ml-4"},"Editar")))))},mN=()=>{const[r,e]=G.useState([]);return G.useEffect(()=>{const n=to(qa(On,"players"),a=>{const o=a.docs.map(u=>u.data());to(qa(On,"matches"),u=>{const f=u.docs.map(g=>g.data()),p={};f.forEach(g=>{var S,w,P;const E=g.playersStats||{};for(const M in E)p[M]||(p[M]={attack:0,blocks:0,service:0}),p[M].attack+=((S=E[M])==null?void 0:S.attack)||0,p[M].blocks+=((w=E[M])==null?void 0:w.blocks)||0,p[M].service+=((P=E[M])==null?void 0:P.service)||0});const m=o.map(g=>({...g,...p[g.name]||{attack:0,blocks:0,service:0}}));e(m)})});return()=>n()},[]),r},pN=()=>{const r=mN(),[e,n]=G.useState("all"),[a,o]=G.useState("total"),u=r.reduce((E,S)=>(E[S.name]={...S},E),{}),f=Object.values(u).filter(E=>e==="student"?E.type==="estudiante":e==="teacher"?E.type==="profesor":!0),p=(E,S)=>{const w=a==="total"?E.attack+E.blocks+E.service:E[a];return(a==="total"?S.attack+S.blocks+S.service:S[a])-w},m=[...f].sort(p),g=({field:E})=>a===E?" ":"";return L.createElement("div",{className:"p-6 max-w-5xl mx-auto"},L.createElement("h2",{className:"text-3xl font-bold mb-6 text-center text-primary"},"Estadsticas de Jugadores"),L.createElement("div",{className:"flex gap-4 justify-center mb-6"},["all","student","teacher"].map(E=>L.createElement("button",{key:E,className:`px-4 py-2 rounded ${e===E?"bg-primary text-white":"bg-gray-200"}`,onClick:()=>n(E)},E==="all"?"Todos":E==="student"?"Estudiantes":"Profesores"))),L.createElement("table",{className:"table-auto w-full border text-sm text-left"},L.createElement("thead",{className:"bg-gray-100"},L.createElement("tr",null,L.createElement("th",{className:"px-4 py-2"},"Jugador"),L.createElement("th",{className:"px-4 py-2"},"Equipo"),L.createElement("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>o("attack")},"Ataques",g({field:"attack"})),L.createElement("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>o("blocks")},"Bloqueos",g({field:"blocks"})),L.createElement("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>o("service")},"Servicios",g({field:"service"})),L.createElement("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>o("total")},"Total",g({field:"total"})))),L.createElement("tbody",null,m.map(E=>{const S=E.attack+E.blocks+E.service;return L.createElement("tr",{key:E.name,className:"border-t"},L.createElement("td",{className:"px-4 py-2"},E.name),L.createElement("td",{className:"px-4 py-2"},E.team),L.createElement("td",{className:"px-4 py-2"},E.attack),L.createElement("td",{className:"px-4 py-2"},E.blocks),L.createElement("td",{className:"px-4 py-2"},E.service),L.createElement("td",{className:"px-4 py-2 font-bold"},S))}))))},Cp=()=>{const{user:r}=Mh(),[e,n]=G.useState(null);return G.useEffect(()=>{(async()=>{if(r){const o=Ws(On,"users",r.uid),u=await xh(o);if(u.exists()){const f=u.data();n(f.role||null)}else n(null)}})()},[r]),e},bE=()=>{const[r,e]=G.useState([]),n=Cp();return G.useEffect(()=>{const a=to(qa(On,"matches"),o=>{const u=o.docs.map(f=>({id:f.id,...f.data()})).sort((f,p)=>new Date(f.date)-new Date(p.date));e(u)});return()=>a()},[]),L.createElement("div",{className:"p-6 max-w-4xl mx-auto"},L.createElement("h2",{className:"text-3xl font-bold mb-6 text-center text-primary"},"Calendario de Partidos"),L.createElement("ul",{className:"space-y-4"},r.map(a=>{const o=new Date(a.date),u=o.toLocaleDateString("es-ES",{day:"numeric",month:"long"}),f=o.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),p=a.scoreA!=null&&a.scoreB!=null;return L.createElement("li",{key:a.id,className:"bg-white shadow-sm border rounded-lg p-4 text-gray-800"},L.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},L.createElement("span",{className:"text-sm text-gray-500 sm:w-1/4"},u),L.createElement("div",{className:"sm:w-2/4 text-center"},L.createElement(li,{to:`/matches/${a.id}`},L.createElement("div",{className:"font-semibold hover:underline"},a.teamA," vs ",a.teamB,p&&L.createElement("span",{className:"text-primary ml-2"},"(",a.scoreA," - ",a.scoreB,")"))),L.createElement("div",{className:"text-xs text-gray-500 mt-1"},a.format)),L.createElement("div",{className:"sm:w-1/4 text-right mt-2 sm:mt-0 flex justify-end gap-3"},L.createElement("span",{className:"text-sm text-gray-500"},f),!p&&(n==="admin"||n==="scorekeeper")&&L.createElement(li,{to:`/admin-match/${a.id}`,className:"text-xs text-blue-600 underline"},"Editar"))))})))},gN=()=>{const{id:r}=ME(),[e,n]=G.useState(null),a=Cp();if(G.useEffect(()=>{(async()=>{if(!r)return;const f=Ws(On,"matches",r),p=await xh(f);if(p.exists()){const m=p.data();n(m)}})()},[r]),!e)return L.createElement("p",{className:"text-center mt-10"},"Cargando partido...");const o=new Date(e.date).toLocaleDateString("es-ES",{day:"numeric",month:"long"});return L.createElement("div",{className:"p-6 max-w-3xl mx-auto"},L.createElement("h2",{className:"text-2xl font-bold text-center text-primary mb-4"},"Detalles del Partido"),L.createElement("div",{className:"bg-white p-4 shadow rounded"},L.createElement("div",{className:"text-center font-semibold text-lg mb-1"},e.teamA," vs ",e.teamB),L.createElement("div",{className:"text-center text-gray-500 text-sm mb-4"},o,"  ",e.format),e.scoreA!=null&&e.scoreB!=null?L.createElement("div",{className:"text-center text-xl font-bold text-green-700 mb-4"},"Resultado: ",e.scoreA," - ",e.scoreB):L.createElement("div",{className:"text-center text-sm text-gray-400 italic mb-4"},"An sin resultado"),a==="admin"||a==="scorekeeper"?L.createElement("div",{className:"text-center mb-4"},L.createElement(li,{to:`/admin-match/${r}`},L.createElement("button",{className:"bg-primary text-white px-4 py-2 rounded hover:bg-blue-700 transition"},"Editar Partido"))):null,L.createElement("h3",{className:"text-md font-bold mb-2"},"Estadsticas por jugador:"),e.playersStats&&Object.keys(e.playersStats).length>0?L.createElement("table",{className:"table-auto w-full border text-sm text-left"},L.createElement("thead",{className:"bg-gray-100"},L.createElement("tr",null,L.createElement("th",{className:"px-4 py-2"},"Jugador"),L.createElement("th",{className:"px-4 py-2"},"Ataques"),L.createElement("th",{className:"px-4 py-2"},"Bloqueos"),L.createElement("th",{className:"px-4 py-2"},"Servicios"))),L.createElement("tbody",null,Object.entries(e.playersStats).map(([u,f])=>L.createElement("tr",{key:u,className:"border-t"},L.createElement("td",{className:"px-4 py-2"},u),L.createElement("td",{className:"px-4 py-2"},(f==null?void 0:f.attack)??0),L.createElement("td",{className:"px-4 py-2"},(f==null?void 0:f.blocks)??0),L.createElement("td",{className:"px-4 py-2"},(f==null?void 0:f.service)??0))))):L.createElement("p",{className:"text-gray-500 text-sm"},"No hay estadsticas registradas.")))},yN=()=>{const[r,e]=G.useState([]);return G.useEffect(()=>{const n=to(qa(On,"players"),a=>{const o=a.docs.map(u=>({id:u.id,...u.data()}));e(o)});return()=>n()},[]),r},_N=()=>{const{id:r}=ME(),e=Om(),[n,a]=G.useState(null),[o,u]=G.useState({}),[f,p]=G.useState(""),[m,g]=G.useState(""),[E,S]=G.useState(""),w=Cp(),P=yN();G.useEffect(()=>{(async()=>{if(!r)return;const ue=Ws(On,"matches",r),fe=await xh(ue);if(fe.exists()){const D=fe.data();a(D),p(D.scoreA??""),g(D.scoreB??""),u(D.playersStats||{})}})()},[r]);const M=(se,ue,fe)=>{u(D=>({...D,[se]:{...D[se],[ue]:parseInt(fe)||0}}))},$=()=>{const se=parseInt(f),ue=parseInt(m);return isNaN(se)||isNaN(ue)?"Debes ingresar un marcador vlido para ambos equipos.":Object.keys(o).some(fe=>{var D,b,R;return((D=o[fe])==null?void 0:D.attack)||((b=o[fe])==null?void 0:b.blocks)||((R=o[fe])==null?void 0:R.service)})?null:"Debes ingresar al menos una estadstica para algn jugador."},j=async se=>{se.preventDefault();const ue=$();if(ue){S(ue);return}try{await rN(Ws(On,"matches",r),{scoreA:parseInt(f),scoreB:parseInt(m),playersStats:o}),e(`/matches/${r}`)}catch{S("Ocurri un error al guardar. Intenta nuevamente.")}};if(!n||w!=="admin")return L.createElement("p",{className:"text-center mt-10"},"Cargando o sin permiso...");const X=P.reduce((se,ue)=>(se.find(fe=>fe.name===ue.name)||se.push(ue),se),[]),re=X.filter(se=>se.team===n.teamA),te=X.filter(se=>se.team===n.teamB);return L.createElement("div",{className:"p-6 max-w-4xl mx-auto"},L.createElement("h2",{className:"text-2xl font-bold text-center text-primary mb-4"},"Registrar Resultado"),L.createElement("div",{className:"bg-white p-4 shadow rounded"},L.createElement("p",{className:"text-center font-medium mb-2"},n.teamA," vs ",n.teamB),E&&L.createElement("p",{className:"text-red-600 text-center mb-4"},E),L.createElement("form",{onSubmit:j},L.createElement("div",{className:"flex gap-4 justify-center mb-6"},L.createElement("input",{type:"number",className:"border px-3 py-2 rounded w-24 text-center",placeholder:n.teamA,value:f,onChange:se=>p(se.target.value),required:!0}),L.createElement("span",{className:"text-xl font-bold"},"-"),L.createElement("input",{type:"number",className:"border px-3 py-2 rounded w-24 text-center",placeholder:n.teamB,value:m,onChange:se=>g(se.target.value),required:!0})),L.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8"},[{team:n.teamA,players:re},{team:n.teamB,players:te}].map(({team:se,players:ue})=>L.createElement("div",{key:se},L.createElement("h3",{className:"text-lg font-semibold mb-2"},se),ue.map(fe=>{var D,b,R;return L.createElement("div",{key:fe.name,className:"mb-2"},L.createElement("p",{className:"font-medium"},fe.name),L.createElement("div",{className:"flex gap-2"},L.createElement("input",{type:"number",placeholder:"",className:"border px-2 py-1 w-1/3",value:((D=o[fe.name])==null?void 0:D.attack)||"",onChange:N=>M(fe.name,"attack",N.target.value)}),L.createElement("input",{type:"number",placeholder:"",className:"border px-2 py-1 w-1/3",value:((b=o[fe.name])==null?void 0:b.blocks)||"",onChange:N=>M(fe.name,"blocks",N.target.value)}),L.createElement("input",{type:"number",placeholder:"",className:"border px-2 py-1 w-1/3",value:((R=o[fe.name])==null?void 0:R.service)||"",onChange:N=>M(fe.name,"service",N.target.value)})))})))),L.createElement("button",{type:"submit",className:"mt-6 bg-primary text-white px-6 py-2 rounded hover:bg-blue-700"},"Guardar Resultado"))))};function vN(){return L.createElement(rw,{basename:"/TorneoApp"},L.createElement(hN,null),L.createElement(Vb,null,L.createElement(Hi,{path:"/",element:L.createElement(bE,null)}),L.createElement(Hi,{path:"/schedule",element:L.createElement(bE,null)}),L.createElement(Hi,{path:"/leaderboard",element:L.createElement(fN,null)}),L.createElement(Hi,{path:"/players",element:L.createElement(pN,null)}),L.createElement(Hi,{path:"/matches/:id",element:L.createElement(gN,null)}),L.createElement(Hi,{path:"/admin-match/:id",element:L.createElement(_N,null)}),L.createElement(Hi,{path:"/matches",element:L.createElement(SE,{requiredRole:"admin"},L.createElement(dN,null))}),L.createElement(Hi,{path:"/admin",element:L.createElement(SE,{roles:["admin","scorekeeper"]},L.createElement(cN,null))})))}jS.createRoot(document.getElementById("root")).render(L.createElement(L.StrictMode,null,L.createElement(uN,null,L.createElement(vN,null))));
